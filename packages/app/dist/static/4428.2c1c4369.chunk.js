"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4428],{29021:(oe,R,l)=>{l.d(R,{X:()=>Z});var A=l(25301),o=l(77125),D=l(29365),B=l(7031),F=l(58837),x=l(54917),v=l(72501),I=l(83313),L=l(89019),N=l(62461),z=l(68887),O=l(63798),W=l(64704),P=l(6774),M=l(75625),T=l(65859),m=l(5416),p=l(33494),w=l(80113),H=l(26229),V=l(46802),j=l(45250),e=l(14041),u=l(64947),S=l(81252),ce=l(89475),ie=l(10265);const de=(0,F.A)(t=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:t.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:t.spacing(7.5),justifyContent:"space-between",borderBottom:`1px solid ${t.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:t.spacing(2)}}}),{name:"BackstageTableFilters"}),me=t=>{const a=de(),{onChangeFilters:n}=t,{t:r}=(0,ie.i)(ce.O),[s,c]=(0,e.useState)({...t.selectedFilters}),[i,g]=(0,e.useState)(!1),d=()=>{c({}),g(f=>!f)};return(0,e.useEffect)(()=>{n(s)},[s,n]),e.createElement(o.A,{className:a.root},e.createElement(o.A,{className:a.header},e.createElement(o.A,{className:a.value},r("table.filter.title")),e.createElement(u.A,{color:"primary",onClick:d},r("table.filter.clearAll"))),e.createElement(o.A,{className:a.filters},t.filters?.length&&t.filters.map(f=>e.createElement(S.w,{triggerReset:i,key:f.element.label,...f.element,selected:s[f.element.label],onChange:E=>c({...s,[f.element.label]:E})}))))};var fe=l(78467);function ge(t){return e.createElement("tbody",{"data-testid":"loading-indicator"},e.createElement("tr",null,e.createElement("td",{colSpan:t.colSpan},e.createElement(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"15rem"}},e.createElement(fe.A,{size:"5rem"})))))}const U={Add:(0,e.forwardRef)((t,a)=>e.createElement(I.A,{...t,ref:a})),Check:(0,e.forwardRef)((t,a)=>e.createElement(N.A,{...t,ref:a})),Clear:(0,e.forwardRef)((t,a)=>e.createElement(W.A,{...t,ref:a})),Delete:(0,e.forwardRef)((t,a)=>e.createElement(P.A,{...t,ref:a})),DetailPanel:(0,e.forwardRef)((t,a)=>e.createElement(O.A,{...t,ref:a})),Edit:(0,e.forwardRef)((t,a)=>e.createElement(M.A,{...t,ref:a})),Export:(0,e.forwardRef)((t,a)=>e.createElement(H.A,{...t,ref:a})),Filter:(0,e.forwardRef)((t,a)=>e.createElement(T.A,{...t,ref:a})),FirstPage:(0,e.forwardRef)((t,a)=>e.createElement(m.A,{...t,ref:a})),LastPage:(0,e.forwardRef)((t,a)=>e.createElement(p.A,{...t,ref:a})),NextPage:(0,e.forwardRef)((t,a)=>e.createElement(O.A,{...t,ref:a})),PreviousPage:(0,e.forwardRef)((t,a)=>e.createElement(z.A,{...t,ref:a})),ResetSearch:(0,e.forwardRef)((t,a)=>e.createElement(W.A,{...t,ref:a})),Search:(0,e.forwardRef)((t,a)=>e.createElement(T.A,{...t,ref:a})),SortArrow:(0,e.forwardRef)((t,a)=>e.createElement(L.A,{...t,ref:a})),ThirdStateCheck:(0,e.forwardRef)((t,a)=>e.createElement(w.A,{...t,ref:a})),ViewColumn:(0,e.forwardRef)((t,a)=>e.createElement(V.A,{...t,ref:a}))};function G(t,a){const n=a.split(".");let r=t[n[0]];for(let s=1;s<n.length;++s){if(r===void 0)return r;const c=n[s];r=r[c]}return r}const ye=(0,B.A)(t=>({header:{padding:t.spacing(1,2,1,2.5),borderTop:`1px solid ${t.palette.grey.A100}`,borderBottom:`1px solid ${t.palette.grey.A100}`,fontWeight:t.typography.fontWeightBold,position:"static",wordBreak:"normal",textTransform:"uppercase"}}),{name:"BackstageTableHeader"})(A.rV),J=(0,B.A)(t=>({root:{padding:t.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:t.typography.fontWeightBold}},searchField:{paddingRight:t.spacing(2)}}),{name:"BackstageTableToolbar"})(A.Nb),he=(0,F.A)(t=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:t.typography.fontWeightBold,fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),ue=(0,F.A)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function Ee(t,a){return t.map(n=>{const r=n.headerStyle??{};let s=n.cellStyle||{};if(n.highlight)if(r.color=a.palette.textContrast,typeof s=="object")s.fontWeight=a.typography.fontWeightBold;else{const c=s;s=(i,g,d)=>({...c(i,g,d),fontWeight:a.typography.fontWeightBold})}return{...n,headerStyle:r,cellStyle:s}})}function Ae(t,a){return(0,j.transform)(t,(n,r,s)=>{(0,j.isEqual)(r,a[s])||(n[s]=r)})}const Q={search:"",filtersOpen:!1,filters:{}};function ve(t){const{toolbarRef:a,setSearch:n,hasFilters:r,selectedFiltersLength:s,toggleFilters:c}=t,i=he(),g=(0,e.useCallback)(d=>{t.onSearchChanged(d),n(d)},[t,n]);return r?e.createElement(o.A,{className:i.root},e.createElement(o.A,{className:i.root},e.createElement(D.A,{onClick:c,"aria-label":"filter list"},e.createElement(T.A,null)),e.createElement(v.A,{className:i.title},"Filters (",s,")")),e.createElement(J,{...t,ref:a,onSearchChanged:g})):e.createElement(J,{...t,ref:a,onSearchChanged:g})}function Z(t){const{data:a,columns:n,emptyContent:r,options:s,title:c,subtitle:i,localization:g,filters:d,initialState:f,onStateChange:E,components:Ce,isLoading:K,style:be,...Fe}=t,Te=ue(),Re=(0,x.A)(),$={...Q,...f},[X,k]=(0,e.useState)($.filtersOpen),q=(0,e.useCallback)(()=>k(y=>!y),[k]),[h,Be]=(0,e.useState)($.filters),[_,ee]=(0,e.useState)($.search);(0,e.useEffect)(()=>{if(E){const y=Ae({search:_,filtersOpen:X,filters:h},Q);E(y)}},[_,X,h,E]);const te=(0,e.useCallback)(y=>n.find(re=>re.title===y)?.field,[n]),xe=(0,e.useMemo)(()=>{if(typeof a=="function"||!h)return a;const y=Object.values(h);return a&&y.flat().length?a.filter(Oe=>!!Object.entries(h).filter(([,Y])=>!!Y.length).every(([Y,C])=>{const b=G(Oe,te(Y));return Array.isArray(b)&&Array.isArray(C)?b.some(We=>C.includes(We)):Array.isArray(b)?b.includes(C):Array.isArray(C)?C.includes(b):b===C})):a},[a,h,te]),ae=Object.values(h).flat().length,le=!!d?.length,Le=(0,e.useCallback)(y=>e.createElement(ve,{setSearch:ee,hasFilters:le,selectedFiltersLength:ae,toggleFilters:q,...y}),[q,le,ae,ee]),ne=typeof a!="function"&&a.length===0,se=n.length,Ne=(0,e.useMemo)(()=>pe({hasNoRows:ne,emptyContent:r,columnCount:se,loading:K}),[ne,r,se,K]);return e.createElement(o.A,{className:Te.root},X&&a&&typeof a!="function"&&d?.length&&e.createElement(me,{filters:Se(d,a,n),selectedFilters:h,onChangeFilters:Be}),e.createElement(A.Ay,{components:{Header:ye,Body:Ne,Toolbar:Le,...Ce},options:s,columns:Ee(n,Re),icons:U,title:e.createElement(e.Fragment,null,e.createElement(v.A,{variant:"h5",component:"h2"},c),i&&e.createElement(v.A,{color:"textSecondary",variant:"body1"},i)),data:xe,style:{width:"100%",...be},localization:{toolbar:{searchPlaceholder:"Filter",searchTooltip:"Filter"},...g},...Fe}))}Z.icons=Object.freeze(U);function pe({columnCount:t,emptyContent:a,hasNoRows:n,loading:r}){return s=>r?e.createElement(ge,{colSpan:t}):a&&n?e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{colSpan:t},a))):e.createElement(A.C6,{...s})}function Se(t,a,n){const r=c=>{const i=new Set,g=d=>{d!=null&&i.add(d)};return a&&a.forEach(d=>{const f=G(d,n.find(E=>E.title===c)?.field);Array.isArray(f)?f.forEach(g):g(f)}),i},s=c=>({placeholder:"All results",label:c.column,multiple:c.type==="multiple-select",items:[...r(c.column)].sort().map(i=>({label:i,value:i}))});return t.map(c=>({type:c.type,element:s(c)}))}},24428:(oe,R,l)=>{l.r(R),l.d(R,{EntityLabelsCard:()=>M,hasLabels:()=>T});var A=l(16400),o=l(14041),D=l(94238),B=l(29021),F=l(64947),x=l(72501),v=l(58837),I=l(62112),L=l(58045),N=l(10265);const z=`metadata:
  name: example
  labels:
    javaVersion: 1.2.3`,O=(0,v.A)(m=>({code:{borderRadius:6,margin:m.spacing(2,0),background:m.palette.type==="dark"?"#444":m.palette.common.white}}),{name:"PluginCatalogEntityLabelsEmptyState"});function W(){const m=O(),{t:p}=(0,N.i)(L.W);return o.createElement(o.Fragment,null,o.createElement(x.A,{variant:"body1"},p("entityLabelsCard.emptyDescription")),o.createElement("div",{className:m.code},o.createElement(I.z,{text:z,language:"yaml",showLineNumbers:!0,highlightedNumbers:[3,4,5,6],customStyle:{background:"inherit",fontSize:"115%"}})),o.createElement(F.A,{variant:"contained",color:"primary",target:"_blank",href:"https://backstage.io/docs/features/software-catalog/descriptor-format#labels-optional"},p("entityLabelsCard.readMoreButtonTitle")))}const P=(0,v.A)(m=>({key:{fontWeight:"bold"}})),M=m=>{const{variant:p,title:w}=m,{entity:H}=(0,A.tN)(),V=P(),{t:j}=(0,N.i)(L.W),e=[{render:S=>o.createElement(x.A,{className:V.key,variant:"body2"},S.key)},{field:"value"}],u=H?.metadata?.labels;return o.createElement(D.n,{title:w||j("entityLabelsCard.title"),variant:p},!u||Object.keys(u).length===0?o.createElement(W,null):o.createElement(B.X,{columns:e,data:Object.keys(u).map(S=>({key:S,value:u[S]})),options:{search:!1,showTitle:!0,loadingType:"linear",header:!1,padding:"dense",pageSize:5,toolbar:!1,paging:Object.keys(u).length>5}}))};function T(m){return m?.metadata?.labels?Object.keys(m?.metadata?.labels).some(Boolean):!1}}}]);})();

//# sourceMappingURL=4428.2c1c4369.chunk.js.map