"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1811],{56420:(I,l,t)=>{t.d(l,{Y:()=>P});var e=t(95208),a=t(77125),c=t(64947),s=t(93453),m=t(29365),r=t(46423),u=t(5951),i=t(26343),v=t(28233),o=t(55197),A=t(58837),T=t(72501),O=t(5893),n=t(14041),h=t(45250),U=t.n(h),E=t(45810),B=t.n(E),L=t(70209),g=t(92483),p=t(75202),R=t(89475),K=t(10265);const f=(0,A.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),S=({icon:d})=>{const C=(0,e.n)(),_=d?C.getSystemIcon(d)??g.NT:g.NT;return n.createElement(_,null)},N=({link:d})=>n.createElement(p.N_,{to:d.url},d.title??d.url),D=({item:d})=>n.createElement(i.A,{button:!1},n.createElement(r.A,null,n.createElement(S,{icon:d.icon})),n.createElement(u.A,{primary:d.title,secondary:d.links?.reduce((C,_,M)=>[...C,M>0&&n.createElement("br",{key:M}),n.createElement(N,{link:_,key:_.url})],[])}));function P(d){const{t:C}=(0,K.i)(R.O),{title:_,items:M,children:W}=d,{items:j}=(0,L.l)(),[G,x]=(0,n.useState)(!1),[z,H]=(0,n.useState)(null),F=f(),X=(0,O.A)(y=>y.breakpoints.down("sm")),V=y=>{H(y.currentTarget),x(!0)},Y=()=>{x(!1)};return n.createElement(n.Fragment,null,n.createElement(a.A,{display:"flex",ml:1},X?n.createElement(m.A,{color:"primary",size:"small",onClick:V,"data-testid":"support-button","aria-label":"Support"},n.createElement(g.NT,null)):n.createElement(c.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:V,startIcon:n.createElement(g.NT,null)},C("supportButton.title"))),n.createElement(o.Ay,{"data-testid":"support-button-popover",open:G,anchorEl:z,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:Y},n.createElement(v.A,{className:F.popoverList,autoFocusItem:!!z},_&&n.createElement(i.A,{button:!1,alignItems:"flex-start",className:F.menuItem},n.createElement(T.A,{variant:"subtitle1"},_)),n.Children.map(W,(y,$)=>n.createElement(i.A,{button:!1,alignItems:"flex-start",key:`child-${$}`,className:F.menuItem},y)),(M??j).map((y,$)=>n.createElement(D,{item:y,key:`item-${$}`}))),n.createElement(s.A,null,n.createElement(c.A,{color:"primary",onClick:Y,"aria-label":"Close"},C("supportButton.close")))))}},92303:(I,l,t)=>{t.d(l,{d:()=>s});var e=t(14041),a=t(16654),c=t(82326);function s(m){const{themeId:r,children:u,...i}=m;return e.createElement(c.Y,{themeId:r},e.createElement(a.Y,{...i}),u)}},19108:(I,l,t)=>{t.d(l,{A:()=>e,G:()=>a});const e="backstage.io/techdocs-ref",a="backstage.io/techdocs-entity"},11811:(I,l,t)=>{t.r(l),t.d(l,{EmbeddedDocsRouter:()=>h,LegacyEmbeddedDocsRouter:()=>U,Router:()=>n,isTechDocsAvailable:()=>O});var e=t(14041),a=t(18690),c=t(78560),s=t(19108),m=t(64392),r=t(64088),u=t(84893);const i=({entity:E})=>{let B=(0,c.sM)(E);if(E.metadata.annotations?.[s.G])try{B=(0,c.KU)(E.metadata.annotations?.[s.G])}catch{}return e.createElement(m.Wj,{entityRef:B},e.createElement(u.Z,null),e.createElement(r.p,{withSearch:!1}))};var v=t(4315),o=t(95403),A=t(16400),T=t(32293);const O=E=>!!E?.metadata?.annotations?.[s.A]||!!E?.metadata?.annotations?.[s.G],n=()=>e.createElement(a.BV,null,e.createElement(a.qh,{path:"/",element:e.createElement(v.TechDocsIndexPage,null)}),e.createElement(a.qh,{path:"/:namespace/:kind/:name/*",element:e.createElement(o.W,null)})),h=E=>{const{children:B,emptyState:L}=E,{entity:g}=(0,A.tN)(),p=(0,a.Ye)([{path:"/*",element:e.createElement(i,{entity:g}),children:[{path:"*",element:B}]}]);return g.metadata.annotations?.[s.A]||g.metadata.annotations?.[s.G]?p:L??e.createElement(T.o,{annotation:[s.A]})},U=E=>e.createElement(h,{children:E.children})},4348:(I,l,t)=>{t.d(l,{V:()=>e});function e(a,c){return c.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?a:a.toLocaleLowerCase("en-US")}},67633:(I,l,t)=>{t.d(l,{o:()=>E});var e=t(14041),a=t(36338),c=t(72814),s=t(18139),m=t(54195),r=t(97214),u=t(699),i=t(53318),v=t(17749),o=t(29021),A=t(65995),T=t(87318),O=t(143),n=t(48751),h=t(4348);const U=[n.B.createTitleColumn({hidden:!0}),n.B.createNameColumn(),n.B.createOwnerColumn(),n.B.createKindColumn(),n.B.createTypeColumn()],E=B=>{const{entities:L,title:g,loading:p,columns:R,actions:K,options:f}=B,[,S]=(0,a.A)(),N=(0,c.S)(v.Oc),D=(0,s.gf)(m.U);if(!L)return null;const P=L.map(M=>{const W=(0,u.t)(M,r.vv);return{entity:M,resolved:{docsUrl:N({namespace:(0,h.V)(M.metadata.namespace??"default",D),kind:(0,h.V)(M.kind,D),name:(0,h.V)(M.metadata.name,D)}),ownedByRelations:W,ownedByRelationsTitle:W.map(j=>(0,i.S)(j,{defaultKind:"group"})).join(", ")}}}),d=[O.f.createCopyDocsUrlAction(S)],C=20,_=P&&P.length>C;return e.createElement(e.Fragment,null,p||P&&P.length>0?e.createElement(o.X,{isLoading:p,options:{paging:_,pageSize:C,search:!0,actionsColumnIndex:-1,...f},data:P,columns:R||U,actions:K||d,title:g?`${g} (${P.length})`:`All (${P.length})`}):e.createElement(A.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(T.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};E.columns=n.B,E.actions=O.f},143:(I,l,t)=>{t.d(l,{f:()=>s});var e=t(14041),a=t(55290),c=t(23730);const s={createCopyDocsUrlAction(m){return r=>({icon:()=>e.createElement(a.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>m(`${window.location.origin}${r.resolved.docsUrl}`)})},createStarEntityAction(m,r){return u=>{const i=u.entity,v=m(i);return{cellStyle:{paddingLeft:"1em"},icon:()=>e.createElement(c.m,{isFavorite:v}),tooltip:v?"Remove from favorites":"Add to favorites",onClick:()=>r(i)}}}}},48751:(I,l,t)=>{t.d(l,{B:()=>v});var e=t(14041),a=t(77125),c=t(58837);const s=(0,c.A)(o=>({value:{marginBottom:o.spacing(.75)},subvalue:{color:o.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function m(o){const{value:A,subvalue:T}=o,O=s();return e.createElement(e.Fragment,null,e.createElement(a.A,{className:O.value},A),e.createElement(a.A,{className:O.subvalue},T))}var r=t(75202),u=t(14158);function i(o){return o.metadata.title||o.metadata.name}const v={createTitleColumn(o){return{...v.createNameColumn(),field:"entity.metadata.title",hidden:o?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(o,A)=>{const T=i(o.entity).toLocaleLowerCase(),O=i(A.entity).toLocaleLowerCase();return T.localeCompare(O)},render:o=>e.createElement(m,{value:e.createElement(r.N_,{to:o.resolved.docsUrl},i(o.entity)),subvalue:o.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:o})=>e.createElement(u.i,{entityRefs:o.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},4315:(I,l,t)=>{t.r(l),t.d(l,{TechDocsIndexPage:()=>N});var e=t(14041),a=t(18690),c=t(16454),s=t(17138),m=t(56420),r=t(18453),u=t(77509),i=t(30117),v=t(40941),o=t(56829),A=t(88461),T=t(24259),O=t(19108);class n{getCatalogFilters(){return{[`metadata.annotations.${O.A}`]:T.c}}}const h=()=>{const{updateFilters:D}=(0,r.nK)();return(0,e.useEffect)(()=>{D({techdocs:new n})},[D]),null};var U=t(36338),E=t(45250),B=t(99338),L=t(62112),g=t(44861),p=t(67633),R=t(143),K=t(48751);const f=D=>{const{columns:P,actions:d,options:C}=D,{loading:_,error:M,entities:W,filters:j}=(0,r.nK)(),{isStarredEntity:G,toggleStarredEntity:x}=(0,g.I)(),[,z]=(0,U.A)(),H=(0,E.capitalize)(j.user?.value??"all"),F=[R.f.createCopyDocsUrlAction(z),R.f.createStarEntityAction(G,x)];return M?e.createElement(B.B,{severity:"error",title:"Could not load available documentation."},e.createElement(L.z,{language:"text",text:M.toString()})):e.createElement(p.o,{title:H,entities:W,loading:_,actions:d||F,columns:P,options:C})};f.columns=K.B,f.actions=R.f;const S=D=>{const{initialFilter:P="owned",columns:d,actions:C,ownerPickerMode:_}=D;return e.createElement(A.S,null,e.createElement(c.U,null,e.createElement(s.d,{title:""},e.createElement(m.Y,null,"Discover documentation in your ecosystem.")),e.createElement(r.B9,null,e.createElement(u.GI,null,e.createElement(u.GI.Filters,null,e.createElement(h,null),e.createElement(i.y,{initialFilter:P}),e.createElement(v.t,{mode:_}),e.createElement(o.m,null)),e.createElement(u.GI.Content,null,e.createElement(f,{actions:C,columns:d}))))))},N=D=>(0,a.P1)()||e.createElement(S,{...D})},88461:(I,l,t)=>{t.d(l,{S:()=>m});var e=t(14041),a=t(92303),c=t(18139),s=t(54195);const m=r=>{const{children:u}=r,v=`Documentation available in ${(0,c.gf)(s.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(a.d,{title:"Documentation",subtitle:v,themeId:"documentation"},u)}},55290:(I,l,t)=>{var e,a=t(4293),c=t(78920);e={value:!0},l.A=void 0;var s=c(t(14041)),m=a(t(74044)),r=(0,m.default)(s.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");l.A=r}}]);})();

//# sourceMappingURL=1811.48e39bb4.chunk.js.map