"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[574],{574:(q,R,n)=>{n.r(R),n.d(R,{CatalogGraphPage:()=>Xt});var B=n(78560),e=n(14041),g=n(58837),N=n(50868);const I=(0,g.A)(t=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[t.breakpoints.down("xs")]:{height:"100%"},"@media print":{display:"block",height:"auto",overflowY:"inherit"}}}),{name:"BackstagePage"});function O(t){const{themeId:o,children:a}=t,l=I();return e.createElement(N.A,{theme:s=>({...s,page:s.getPageTheme({themeId:o})})},e.createElement("main",{className:l.root},a))}var H=n(18139),_=n(54195),A=n(77125),W=n(42899),se=n(71677),S=n(72501),p=n(93285),ee=n(94202),ie=n(45634),z=n(58007),ce=n(8109),V=n(55197),k=n(7031);const te=(0,k.A)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(S.A),$=(0,k.A)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(A.A),X=(0,k.A)({root:{fontStyle:"italic"}},{name:"BreadcrumbsCurrentPage"})(A.A);function ne(t){const{children:o,...a}=t,[l,s]=e.useState(null),r=e.Children.toArray(o),[i,c,...u]=r,d=u.length?u.pop():r[r.length-1],m=r.length>3,f=h=>{s(h.currentTarget)},E=()=>{s(null)},y=!!l;return e.createElement(e.Fragment,null,e.createElement(ie.A,{"aria-label":"breadcrumb",...a},r.length>1&&e.createElement($,{clone:!0},i),r.length>2&&e.createElement($,{clone:!0},c),m&&e.createElement(te,{onClick:f},"..."),e.createElement(X,null,d)),e.createElement(V.Ay,{open:y,anchorEl:l,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e.createElement(z.A,null,u.map((h,C)=>e.createElement(ce.A,{key:C,button:!0},e.createElement($,{clone:!0},h))))))}const ae=(0,g.A)(t=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[t.breakpoints.up("sm")]:{paddingLeft:o=>o.isPinned?o.sidebarConfig.drawerWidthOpen:o.sidebarConfig.drawerWidthClosed},[t.breakpoints.down("xs")]:{paddingBottom:o=>o.sidebarConfig.mobileSidebarHeight},"@media print":{padding:"0px !important"}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),w=(0,e.createContext)({content:{contentRef:void 0}});function de(t){const[o,a]=useState(()=>LocalStorage.getSidebarPinState()),{sidebarConfig:l}=useContext(SidebarConfigContext),s=useRef(null),r=useMemo(()=>({content:{contentRef:s}}),[s]);useEffect(()=>{LocalStorage.setSidebarPinState(o)},[o]);const i=useMediaQuery(d=>d.breakpoints.down("xs"),{noSsr:!0}),c=()=>a(!o),u=ae({isPinned:o,sidebarConfig:l});return React__default.createElement(SidebarPinStateProvider,{value:{isPinned:o,toggleSidebarPinState:c,isMobile:i}},React__default.createElement(w.Provider,{value:r},React__default.createElement(Box,{className:u.root},t.children)))}function Y(){const{content:t}=(0,e.useContext)(w);return{focusContent:(0,e.useCallback)(()=>{t?.contentRef?.current?.focus()},[t]),contentRef:t?.contentRef}}const me=(0,g.A)(t=>({header:{gridArea:"pageHeader",padding:t.spacing(3),width:"100%",boxShadow:t.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:t.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[t.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:t.page.fontColor,wordBreak:"break-word",fontSize:t.typography.h3.fontSize,marginBottom:0},subtitle:{color:t.page.fontColor,opacity:.8,display:"inline-block",marginTop:t.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:t.spacing(1),color:t.page.fontColor},breadcrumb:{color:t.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-t.spacing(.3),marginBottom:t.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-t.spacing(.3),marginBottom:t.spacing(.3)}}),{name:"BackstageHeader"}),ue=({type:t,typeLink:o,classes:a,pageTitle:l})=>t?o?e.createElement(ne,{className:a.breadcrumb},e.createElement(ee.N_,{to:o},t),e.createElement(S.A,null,l)):e.createElement(S.A,{className:a.type},t):null,ve=({pageTitle:t,classes:o,tooltip:a})=>{const{contentRef:l}=Y(),s=e.createElement(S.A,{ref:l,tabIndex:-1,className:o.title,variant:"h1"},t);return a?e.createElement(se.Ay,{title:a,placement:"top-start"},s):s},Q=({classes:t,subtitle:o})=>o?typeof o!="string"?e.createElement(e.Fragment,null,o):e.createElement(S.A,{className:t.subtitle,variant:"subtitle2",component:"span"},o):null;function ke(t){const{children:o,pageTitleOverride:a,style:l,subtitle:s,title:r,tooltip:i,type:c,typeLink:u}=t,d=me(),f=(0,H.gf)(_.U).getOptionalString("app.title")||"Backstage",E=a||r,y=r||a,h=`${E} | %s | ${f}`,C=`${E} | ${f}`;return e.createElement(e.Fragment,null,e.createElement(p.m,{titleTemplate:h,defaultTitle:C}),e.createElement("header",{style:l,className:d.header},e.createElement(A.A,{className:d.leftItemsBox},e.createElement(ue,{classes:d,type:c,typeLink:u,pageTitle:y}),e.createElement(ve,{classes:d,pageTitle:y,tooltip:i}),e.createElement(Q,{classes:d,subtitle:s})),e.createElement(W.A,{container:!0,className:d.rightItemsBox,spacing:4},o)))}var He=n(99870),We=n.n(He);const Ke=(0,g.A)(t=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:t.spacing(3),paddingBottom:t.spacing(3),paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function Ue(t){const{className:o,stretch:a,noPadding:l,children:s,...r}=t,i=Ke();return e.createElement("article",{...r,className:We()(i.root,o,{[i.stretch]:a,[i.noPadding]:l})},s)}const Ge=t=>(0,g.A)(o=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:o.spacing(2),textAlign:t.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:o.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),Ve=({title:t="Unknown page",className:o})=>e.createElement(S.A,{variant:"h4",component:"h2",className:o,"data-testid":"header-title"},t);function $e(t){const{description:o,title:a,titleComponent:l=void 0,children:s,textAlign:r="left"}=t,i=Ge({textAlign:r})(),c=l||e.createElement(Ve,{title:a,className:i.title});return e.createElement(e.Fragment,null,e.createElement(p.m,{title:a}),e.createElement(A.A,{className:i.container},e.createElement(A.A,{className:i.leftItemsBox},c,o&&e.createElement(S.A,{className:i.description,variant:"body2"},o)),e.createElement(A.A,{className:i.rightItemsBox},s)))}var Ee=n(95208),ye=n(64947),Xe=n(93453),Ae=n(29365),we=n(46423),Ye=n(5951),j=n(26343),Qe=n(28233),je=n(5893),wt=n(45250),Ze=n(45810),Ce=n.n(Ze),be=n(43979),Se=n(10265);const Je=()=>{const{t}=(0,Se.i)(be.O);return{url:"https://github.com/backstage/backstage/issues",items:[{title:t("supportConfig.default.title"),icon:"warning",links:[{title:t("supportConfig.default.linkTitle"),url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]}};function qe(){const a=(0,H.Q2)().get(_.U)?.getOptionalConfig("app.support"),l=Je();return a?{url:a.getString("url"),items:a.getConfigArray("items").flatMap(s=>({title:s.getString("title"),icon:s.getOptionalString("icon"),links:(s.getOptionalConfigArray("links")??[]).flatMap(r=>({url:r.getString("url"),title:r.getString("title")}))}))}:l}var _e=n(27799);function P(t){const{id:o,Fallback:a=_e.A,...l}=t,r=(0,Ee.n)().getSystemIcon(o)??a;return e.createElement(r,{...l})}function Yt(t){return React__default.createElement(P,{id:"brokenImage",...t})}function Qt(t){return React__default.createElement(P,{id:"catalog",...t})}function jt(t){return React__default.createElement(P,{id:"chat",...t})}function Zt(t){return React__default.createElement(P,{id:"dashboard",...t})}function Jt(t){return React__default.createElement(P,{id:"docs",...t})}function qt(t){return React__default.createElement(P,{id:"email",...t})}function _t(t){return React__default.createElement(P,{id:"github",...t})}function en(t){return React__default.createElement(P,{id:"group",...t})}function oe(t){return e.createElement(P,{id:"help",...t})}function tn(t){return React__default.createElement(P,{id:"user",...t})}function nn(t){return React__default.createElement(P,{id:"warning",...t})}const et=(0,g.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),tt=({icon:t})=>{const o=(0,Ee.n)(),a=t?o.getSystemIcon(t)??oe:oe;return e.createElement(a,null)},nt=({link:t})=>e.createElement(ee.N_,{to:t.url},t.title??t.url),at=({item:t})=>e.createElement(j.A,null,e.createElement(we.A,null,e.createElement(tt,{icon:t.icon})),e.createElement(Ye.A,{primary:t.title,secondary:t.links?.reduce((o,a,l)=>[...o,l>0&&e.createElement("br",{key:l}),e.createElement(nt,{link:a,key:a.url})],[])}));function ot(t){const{t:o}=(0,Se.i)(be.O),{title:a,items:l,children:s}=t,{items:r}=qe(),[i,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),m=et(),f=(0,je.A)(h=>h.breakpoints.down("sm")),E=h=>{d(h.currentTarget),c(!0)},y=()=>{c(!1)};return e.createElement(e.Fragment,null,e.createElement(A.A,{display:"flex",ml:1},f?e.createElement(Ae.A,{color:"primary",size:"small",onClick:E,"data-testid":"support-button","aria-label":"Support"},e.createElement(oe,null)):e.createElement(ye.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:E,startIcon:e.createElement(oe,null)},o("supportButton.title"))),e.createElement(V.Ay,{"data-testid":"support-button-popover",open:i,anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:y},e.createElement(Qe.A,{className:m.popoverList,autoFocusItem:!!u},a&&e.createElement(j.A,{button:!1,alignItems:"flex-start",className:m.menuItem},e.createElement(S.A,{variant:"subtitle1"},a)),e.Children.map(s,(h,C)=>e.createElement(j.A,{alignItems:"flex-start",key:`child-${C}`,className:m.menuItem},h)),(l??r).map((h,C)=>e.createElement(at,{item:h,key:`item-${C}`}))),e.createElement(Xe.A,null,e.createElement(ye.A,{color:"primary",onClick:y,"aria-label":"Close"},o("supportButton.close")))))}var lt=n(72814),rt=n(52262),st=n(20987),pe=n(53318),it=n(4321),ct=n(65859),dt=n(98984),mt=n(15485),xe=n(18690),ut=n(42316),pt=n(54361),ge=n(69076),gt=n(67720),Ie=n(95061),ft=n(41857),ht=n(48543),vt=n(81215),le=n(99703),Re=n(10437);const Et=(0,g.A)(t=>(0,le.A)({icon:{position:"absolute",right:t.spacing(.5),pointerEvents:"none",color:"#616161"}}),{name:"BackstageClosedDropdown"}),yt=()=>{const t=Et();return e.createElement(Re.A,{className:t.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"currentColor"}))},At=(0,g.A)(t=>(0,le.A)({icon:{position:"absolute",right:t.spacing(.5),pointerEvents:"none",color:"#616161"}}),{name:"BackstageOpenedDropdown"}),Ct=()=>{const t=At();return e.createElement(Re.A,{className:t.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"currentColor"}))},bt=(0,k.A)(t=>(0,le.A)({root:{"label + &":{marginTop:t.spacing(3)},"&.Mui-focused > div[role=button]":{borderColor:t.palette.primary.main}},input:{borderRadius:t.shape.borderRadius,position:"relative",backgroundColor:t.palette.background.paper,border:"1px solid #ced4da",fontSize:t.typography.body1.fontSize,padding:t.spacing(1.25,3.25,1.25,1.5),transition:t.transitions.create(["border-color","box-shadow"]),"&:focus":{background:t.palette.background.paper,borderRadius:t.shape.borderRadius}}}),{name:"BackstageSelectInputBase"})(ft.A),St=(0,g.A)(t=>(0,le.A)({formControl:{margin:t.spacing(1,0)},label:{transform:"initial",fontWeight:"bold",fontSize:t.typography.body2.fontSize,fontFamily:t.typography.fontFamily,color:t.palette.text.primary,"&.Mui-focused":{color:t.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:t.typography.body2.fontSize,fontFamily:t.typography.fontFamily,color:t.palette.text.primary,"&.Mui-focused":{color:t.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function Be(t){const{multiple:o,items:a,label:l,placeholder:s,selected:r,onChange:i,triggerReset:c,native:u=!1,disabled:d=!1,margin:m,"data-testid":f="select"}=t,E=St(),[y,h]=(0,e.useState)(r||(o?[]:"")),[C,F]=(0,e.useState)(!1);(0,e.useEffect)(()=>{h(o?[]:"")},[c,o]),(0,e.useEffect)(()=>{h(r||(o?[]:""))},[r,o]);const U=v=>{h(v.target.value),i(v.target.value)},Z=v=>{if(d){v.preventDefault();return}F(x=>o&&!(v.target instanceof HTMLElement)?!0:!x)},D=()=>{F(!1)},M=v=>()=>{const x=y.filter(T=>T!==v);h(x),i(x)};return e.createElement(A.A,{className:E.root},e.createElement(Ie.A,{className:E.formControl},e.createElement(ht.A,{className:E.formLabel},l),e.createElement(vt.A,{"aria-label":l,value:y,native:u,disabled:d,"data-testid":f,displayEmpty:!0,multiple:o,margin:m,onChange:U,open:C,onOpen:Z,onClose:D,input:e.createElement(bt,null),label:l,renderValue:v=>o&&y.length!==0?e.createElement(A.A,{className:E.chips},v.map(x=>{const T=a.find(b=>b.value===x);return T?e.createElement(gt.A,{key:T?.value,label:T?.label,clickable:!0,onDelete:M(x),className:E.chip}):!1})):e.createElement(S.A,null,y.length===0?s||"":a.find(x=>x.value===v)?.label),IconComponent:()=>C?e.createElement(Ct,null):e.createElement(yt,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},!!s&&!o&&e.createElement(j.A,{value:[]},s),u?a&&a.map(v=>e.createElement("option",{value:v.value,key:v.value},v.label)):a&&a.map(v=>e.createElement(j.A,{key:v.value,value:v.value},o&&e.createElement(ge.A,{color:"primary",checked:y.includes(v.value)||!1,className:E.checkbox}),v.label)))))}const xt={curveMonotoneX:"Monotone X",curveStepBefore:"Step Before"},It=["curveMonotoneX","curveStepBefore"],Rt=({value:t,onChange:o})=>{const a=(0,e.useCallback)(l=>o(l),[o]);return e.createElement(A.A,{pb:1,pt:1},e.createElement(Be,{label:"Curve",selected:t,items:It.map(l=>({label:xt[l],value:l})),onChange:a}))};var K=n(60241);const Bt={[K.O.LEFT_RIGHT]:"Left to right",[K.O.RIGHT_LEFT]:"Right to left",[K.O.TOP_BOTTOM]:"Top to bottom",[K.O.BOTTOM_TOP]:"Bottom to top"},Tt=({value:t,onChange:o})=>{const a=(0,e.useCallback)(l=>o(l),[o]);return e.createElement(A.A,{pb:1,pt:1},e.createElement(Be,{label:"Direction",selected:t,items:Object.values(K.O).map(l=>({label:Bt[l],value:l})),onChange:a}))};var Pt=n(34839),Nt=n(35963),Ot=n(64704);const Lt=(0,g.A)({formControl:{width:"100%",maxWidth:300}},{name:"PluginCatalogGraphMaxDepthFilter"}),Ft=({value:t,onChange:o})=>{const a=Lt(),l=(0,e.useRef)(o),[s,r]=(0,e.useState)(t);(0,e.useEffect)(()=>{l.current=o},[o]),(0,e.useEffect)(()=>{r(t)},[t]);const i=(0,e.useCallback)(u=>{const d=Number(u.target.value),m=Number.isFinite(d)&&d>0?d:Number.POSITIVE_INFINITY;r(m),l.current(m)},[]),c=(0,e.useCallback)(()=>{r(Number.POSITIVE_INFINITY),l.current(Number.POSITIVE_INFINITY)},[l]);return e.createElement(A.A,{pb:1,pt:1},e.createElement(Ie.A,{variant:"outlined",className:a.formControl},e.createElement(S.A,{variant:"button"},"Max Depth"),e.createElement(Nt.A,{type:"number",placeholder:"\u221E Infinite",value:Number.isFinite(s)?String(s):"",onChange:i,endAdornment:e.createElement(Pt.A,{position:"end"},e.createElement(Ae.A,{"aria-label":"clear max depth",onClick:c,edge:"end"},e.createElement(Ot.A,null))),inputProps:{"aria-label":"maxp"},labelWidth:0})))};var Dt=n(34477),Mt=n(30043),fe=n(86901),Te=n(16249),Pe=n(44148),Ne=n(41260),Oe=n(6924),Le=n(61783),zt=n(73466);const kt=(0,g.A)({formControl:{maxWidth:300}},{name:"PluginCatalogGraphSelectedKindsFilter"}),Ht=({value:t,onChange:o})=>{const a=kt(),l=(0,H.gf)(Dt.k),s=(0,H.gf)(Mt.v),{error:r,value:i}=(0,zt.A)(async()=>await s.getEntityFacets({facets:["kind"]}).then(m=>m.facets.kind?.map(f=>f.value).sort()||[]));(0,e.useEffect)(()=>{r&&l.post({message:"Failed to load entity kinds",severity:"error"})},[r,l]);const c=(0,e.useMemo)(()=>i&&i.map(m=>m.toLocaleLowerCase("en-US")),[i]),u=(0,e.useCallback)((m,f)=>{o(c&&c.every(E=>f.includes(E))?void 0:f)},[c,o]),d=(0,e.useCallback)(()=>{o(t?.length?t:void 0)},[t,o]);return!i?.length||!c?.length||r?e.createElement(e.Fragment,null):e.createElement(A.A,{pb:1,pt:1},e.createElement(S.A,{variant:"button"},"Kinds"),e.createElement(Le.Ay,{className:a.formControl,multiple:!0,limitTags:4,disableCloseOnSelect:!0,"aria-label":"Kinds",options:c,value:t??c,getOptionLabel:m=>i[c.indexOf(m)]??m,onChange:u,onBlur:d,renderOption:(m,{selected:f})=>e.createElement(fe.A,{control:e.createElement(ge.A,{icon:e.createElement(Ne.A,{fontSize:"small"}),checkedIcon:e.createElement(Pe.A,{fontSize:"small"}),checked:f}),label:i[c.indexOf(m)]??m}),size:"small",popupIcon:e.createElement(Oe.A,{"data-testid":"selected-kinds-expand"}),renderInput:m=>e.createElement(Te.A,{...m,variant:"outlined"})}))},Wt=(0,g.A)({formControl:{maxWidth:300}},{name:"PluginCatalogGraphSelectedRelationsFilter"}),Kt=({relationPairs:t,value:o,onChange:a})=>{const l=Wt(),s=(0,e.useMemo)(()=>t.flat(),[t]),r=(0,e.useCallback)((c,u)=>{a(s.every(d=>u.includes(d))?void 0:u)},[s,a]),i=(0,e.useCallback)(()=>{a(o?.length?o:void 0)},[o,a]);return e.createElement(A.A,{pb:1,pt:1},e.createElement(S.A,{variant:"button"},"Relations"),e.createElement(Le.Ay,{className:l.formControl,multiple:!0,limitTags:4,disableCloseOnSelect:!0,"aria-label":"Relations",options:s,value:o??s,onChange:r,onBlur:i,renderOption:(c,{selected:u})=>e.createElement(fe.A,{control:e.createElement(ge.A,{icon:e.createElement(Ne.A,{fontSize:"small"}),checkedIcon:e.createElement(Pe.A,{fontSize:"small"}),checked:u}),label:c}),size:"small",popupIcon:e.createElement(Oe.A,{"data-testid":"selected-relations-expand"}),renderInput:c=>e.createElement(Te.A,{...c,variant:"outlined"})}))};var Ut=n(73643);const Gt=(0,g.A)({root:{width:"100%",maxWidth:300}},{name:"PluginCatalogGraphSwitchFilter"}),Fe=({label:t,value:o,onChange:a})=>{const l=Gt(),s=(0,e.useCallback)(r=>{a(r.target.checked)},[a]);return e.createElement(A.A,{pb:1,pt:1},e.createElement(fe.A,{control:e.createElement(Ut.A,{checked:o,onChange:s,name:t,color:"primary"}),label:t,className:l.root}))};var De=n(5877);function Vt({initialState:t={}}){const o=(0,xe.zy)(),a=(0,e.useMemo)(()=>Ce().parse(o.search,{arrayLimit:0,ignoreQueryPrefix:!0})||{},[o.search]),[l,s]=(0,e.useState)(()=>(Array.isArray(a.rootEntityRefs)?a.rootEntityRefs:t?.rootEntityRefs??[]).map(b=>(0,B.KU)(b))),[r,i]=(0,e.useState)(()=>typeof a.maxDepth=="string"?Me(a.maxDepth):t?.maxDepth??Number.POSITIVE_INFINITY),[c,u]=(0,e.useState)(()=>Array.isArray(a.selectedRelations)?a.selectedRelations:t?.selectedRelations),[d,m]=(0,e.useState)(()=>(Array.isArray(a.selectedKinds)?a.selectedKinds:t?.selectedKinds)?.map(b=>b.toLocaleLowerCase("en-US"))),[f,E]=(0,e.useState)(()=>typeof a.unidirectional=="string"?a.unidirectional==="true":t?.unidirectional??!0),[y,h]=(0,e.useState)(()=>typeof a.mergeRelations=="string"?a.mergeRelations==="true":t?.mergeRelations??!0),[C,F]=(0,e.useState)(()=>typeof a.direction=="string"?a.direction:t?.direction??K.O.LEFT_RIGHT),[U,Z]=(0,e.useState)(()=>typeof a.curve=="string"?a.curve:t?.curve??"curveMonotoneX"),[D,M]=(0,e.useState)(()=>typeof a.showFilters=="string"?a.showFilters==="true":t?.showFilters??!0),v=(0,e.useCallback)(()=>M(b=>!b),[M]),x=(0,De.A)(o.search);(0,e.useEffect)(()=>{o.search!==x&&(Array.isArray(a.rootEntityRefs)&&s(a.rootEntityRefs.map(b=>(0,B.KU)(b))),typeof a.maxDepth=="string"&&i(Me(a.maxDepth)),Array.isArray(a.selectedKinds)&&m(a.selectedKinds),Array.isArray(a.selectedRelations)&&u(a.selectedRelations),typeof a.unidirectional=="string"&&E(a.unidirectional==="true"),typeof a.mergeRelations=="string"&&h(a.mergeRelations==="true"),typeof a.direction=="string"&&F(a.direction),typeof a.showFilters=="string"&&M(a.showFilters==="true"))},[x,o.search,a,s,i,m,u,E,h,F,M]);const T=(0,De.A)(l.map(b=>(0,B.U2)(b)));return(0,e.useEffect)(()=>{const b=l.map(L=>(0,B.U2)(L)),J=Ce().stringify({rootEntityRefs:b,maxDepth:isFinite(r)?r:"\u221E",selectedKinds:d,selectedRelations:c,unidirectional:f,mergeRelations:y,direction:C,showFilters:D},{arrayFormat:"brackets",addQueryPrefix:!0}),re=`${window.location.pathname}${J}`;!T||b.length===T.length&&b.every((L,he)=>L===T[he])?window.history.replaceState(null,document.title,re):window.history.pushState(null,document.title,re)},[l,r,d,c,f,y,C,D,T]),{rootEntityNames:l,setRootEntityNames:s,maxDepth:r,setMaxDepth:i,selectedRelations:c,setSelectedRelations:u,selectedKinds:d,setSelectedKinds:m,unidirectional:f,setUnidirectional:E,mergeRelations:y,setMergeRelations:h,direction:C,setDirection:F,curve:U,setCurve:Z,showFilters:D,toggleShowFilters:v}}function Me(t){return t==="\u221E"?Number.POSITIVE_INFINITY:Number(t)}const $t=(0,g.A)(t=>({content:{minHeight:0},container:{height:"100%",maxHeight:"100%",minHeight:0},fullHeight:{maxHeight:"100%",display:"flex",minHeight:0},graphWrapper:{position:"relative",flex:1,minHeight:0,display:"flex"},graph:{flex:1,minHeight:0},legend:{position:"absolute",bottom:0,right:0,padding:t.spacing(1),"& .icon":{verticalAlign:"bottom"}},filters:{display:"grid",gridGap:t.spacing(1),gridAutoRows:"auto",[t.breakpoints.up("lg")]:{display:"block"},[t.breakpoints.only("md")]:{gridTemplateColumns:"repeat(3, 1fr)"},[t.breakpoints.only("sm")]:{gridTemplateColumns:"repeat(2, 1fr)"},[t.breakpoints.down("xs")]:{gridTemplateColumns:"repeat(1, 1fr)"}}}),{name:"PluginCatalogGraphCatalogGraphPage"}),Xt=t=>{const{relationPairs:o=pt.b,initialState:a,entityFilter:l}=t,s=(0,xe.Zp)(),r=$t(),i=(0,lt.S)(st.s),{maxDepth:c,setMaxDepth:u,selectedKinds:d,setSelectedKinds:m,selectedRelations:f,setSelectedRelations:E,unidirectional:y,setUnidirectional:h,mergeRelations:C,setMergeRelations:F,direction:U,setDirection:Z,curve:D,setCurve:M,rootEntityNames:v,setRootEntityNames:x,showFilters:T,toggleShowFilters:b}=Vt({initialState:a}),J=(0,rt.s)(),re=(0,e.useCallback)((L,he)=>{const G=(0,B.KU)(L.id);if(he.shiftKey){const ze=i({kind:G.kind.toLocaleLowerCase("en-US"),namespace:G.namespace.toLocaleLowerCase("en-US"),name:G.name});J.captureEvent("click",L.entity.metadata.title??(0,pe.S)(G),{attributes:{to:ze}}),s(ze)}else J.captureEvent("click",L.entity.metadata.title??(0,pe.S)(G)),x([G])},[i,s,x,J]);return e.createElement(O,{themeId:"home"},e.createElement(ke,{title:"Catalog Graph",subtitle:v.map(L=>(0,pe.S)(L)).join(", ")}),e.createElement(Ue,{stretch:!0,className:r.content},e.createElement($e,{titleComponent:e.createElement(mt.A,{value:"show filters",selected:T,onChange:()=>b()},e.createElement(ct.A,null)," Filters")},e.createElement(ot,null,"Start tracking your component in by adding it to the software catalog.")),e.createElement(W.A,{container:!0,alignItems:"stretch",className:r.container},T&&e.createElement(W.A,{item:!0,xs:12,lg:2,className:r.filters},e.createElement(Ft,{value:c,onChange:u}),e.createElement(Ht,{value:d,onChange:m}),e.createElement(Kt,{value:f,onChange:E,relationPairs:o}),e.createElement(Tt,{value:U,onChange:Z}),e.createElement(Rt,{value:D,onChange:M}),e.createElement(Fe,{value:y,onChange:h,label:"Simplified"}),e.createElement(Fe,{value:C,onChange:F,label:"Merge Relations"})),e.createElement(W.A,{item:!0,xs:!0,className:r.fullHeight},e.createElement(it.A,{className:r.graphWrapper},e.createElement(S.A,{variant:"caption",color:"textSecondary",display:"block",className:r.legend},e.createElement(dt.A,{className:"icon"})," Use pinch & zoom to move around the diagram. Click to change active node, shift click to navigate to entity."),e.createElement(ut.L,{...t,rootEntityNames:v,maxDepth:c,kinds:d&&d.length>0?d:void 0,relations:f&&f.length>0?f:void 0,mergeRelations:C,unidirectional:y,onNodeClick:re,direction:U,relationPairs:o,entityFilter:l,className:r.graph,zoom:"enabled",curve:D}))))))}},44148:(q,R,n)=>{var B,e=n(4293),g=n(78920);B={value:!0},R.A=void 0;var N=g(n(14041)),I=e(n(74044)),O=(0,I.default)(N.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");R.A=O},41260:(q,R,n)=>{var B,e=n(4293),g=n(78920);B={value:!0},R.A=void 0;var N=g(n(14041)),I=e(n(74044)),O=(0,I.default)(N.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");R.A=O},98984:(q,R,n)=>{var B,e=n(4293),g=n(78920);B={value:!0},R.A=void 0;var N=g(n(14041)),I=e(n(74044)),O=(0,I.default)(N.createElement("path",{d:"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");R.A=O},15485:(q,R,n)=>{n.d(R,{A:()=>se});var B=n(39850),e=n(89575),g=n(14041),N=n(9546),I=n(268),O=n(7031),H=n(97740),_=n(11192),A=function(p){return{root:(0,e.A)({},p.typography.button,{boxSizing:"border-box",borderRadius:p.shape.borderRadius,padding:11,border:"1px solid ".concat((0,I.X4)(p.palette.action.active,.12)),color:(0,I.X4)(p.palette.action.active,.38),"&$selected":{color:p.palette.action.active,backgroundColor:(0,I.X4)(p.palette.action.active,.12),"&:hover":{backgroundColor:(0,I.X4)(p.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,I.X4)(p.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,I.X4)(p.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:p.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:p.typography.pxToRem(15)}}},W=g.forwardRef(function(p,ee){var ie=p.children,z=p.classes,ce=p.className,V=p.disabled,k=V===void 0?!1:V,te=p.disableFocusRipple,$=te===void 0?!1:te,X=p.onChange,ne=p.onClick,ae=p.selected,w=p.size,de=w===void 0?"medium":w,Y=p.value,me=(0,B.A)(p,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),ue=function(Q){ne&&(ne(Q,Y),Q.isDefaultPrevented())||X&&X(Q,Y)};return g.createElement(H.A,(0,e.A)({className:(0,N.default)(z.root,ce,k&&z.disabled,ae&&z.selected,de!=="medium"&&z["size".concat((0,_.A)(de))]),disabled:k,focusRipple:!$,ref:ee,onClick:ue,onChange:X,value:Y,"aria-pressed":ae},me),g.createElement("span",{className:z.label},ie))});const se=(0,O.A)(A,{name:"MuiToggleButton"})(W)}}]);})();

//# sourceMappingURL=574.9db7b84a.chunk.js.map