{"version":3,"file":"dynatraceQueries.cjs.js","sources":["../../src/schema/dynatraceQueries.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { Entity, EntityMeta } from '@backstage/catalog-model';\r\nimport { z } from 'zod';\r\n\r\nconst entityQuerySchema = z.object({\r\n  /**\r\n   * The id of the query.\r\n   */\r\n  id: z.string(),\r\n  /**\r\n   * The query itself.\r\n   */\r\n  query: z.string(),\r\n  /**\r\n   * The description of the query.\r\n   */\r\n  description: z.string().optional(),\r\n  /**\r\n   * The environments in which the query is executed.\r\n   */\r\n  environments: z.array(z.string()).optional(),\r\n});\r\nexport const dynatraceCatalogQuerySchema = z.array(entityQuerySchema).min(1);\r\nexport type EntityQuery = z.infer<typeof entityQuerySchema>;\r\nexport type ExtendedEntityMetadata = EntityMeta & {\r\n  dynatrace?: {\r\n    queries: EntityQuery[];\r\n  };\r\n};\r\nexport type ExtendedEntity = Entity & {\r\n  metadata: ExtendedEntityMetadata;\r\n};\r\n"],"names":["z"],"mappings":";;;;AAkBA,MAAM,iBAAA,GAAoBA,MAAE,MAAO,CAAA;AAAA;AAAA;AAAA;AAAA,EAIjC,EAAA,EAAIA,MAAE,MAAO,EAAA;AAAA;AAAA;AAAA;AAAA,EAIb,KAAA,EAAOA,MAAE,MAAO,EAAA;AAAA;AAAA;AAAA;AAAA,EAIhB,WAAa,EAAAA,KAAA,CAAE,MAAO,EAAA,CAAE,QAAS,EAAA;AAAA;AAAA;AAAA;AAAA,EAIjC,cAAcA,KAAE,CAAA,KAAA,CAAMA,MAAE,MAAO,EAAC,EAAE,QAAS,EAAA;AAC7C,CAAC,CAAA,CAAA;AACM,MAAM,8BAA8BA,KAAE,CAAA,KAAA,CAAM,iBAAiB,CAAA,CAAE,IAAI,CAAC;;;;"}