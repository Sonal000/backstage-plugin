(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7118],{57118:(se,F,l)=>{"use strict";l.r(F),l.d(F,{ImportPage:()=>Kn});var e=l(14041),B=l(18690),A=l(58837),H=l(50868);const M=(0,A.A)(t=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[t.breakpoints.down("xs")]:{height:"100%"},"@media print":{display:"block",height:"auto",overflowY:"inherit"}}}),{name:"BackstagePage"});function ie(t){const{themeId:n,children:a}=t,r=M();return e.createElement(H.A,{theme:o=>({...o,page:o.getPageTheme({themeId:n})})},e.createElement("main",{className:r.root},a))}var C=l(18139),L=l(54195),x=l(77125),I=l(42899),Re=l(71677),g=l(72501),ke=l(93285),Ie=l(52262),Pe=l(49203),nt=l(99870),Q=l.n(nt),Be=l(45250),at=l(73657);function rt(){const[t]=(0,B.AV)(e.createElement(B.qh,{index:!0,element:e.createElement("div",null)}));return!t.index}const ot=(0,A.A)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",userSelect:"none",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),Le=t=>/^([a-z+.-]+):/.test(t),Te=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ce=window.open;if(ce&&!ce.__backstage){const t=function(...a){const r=String(a[0]);if(Te.test(r))throw new Error("Rejected window.open() with a javascript: URL as a security precaution");return ce.apply(this,a)};t.__backstage=!0,window.open=t}const lt=()=>{try{return(0,C.gf)(L.U).getOptionalString("app.baseUrl")}catch{return}},st=()=>{const t="http://sample.dev",n=lt()??"/",{pathname:a}=new URL(n,t);return(0,Be.trimEnd)(a,"/")},it=t=>{let n=String(t);const a=st(),r=Le(n),o=n.startsWith(a);return!r&&!o&&(n=a.concat(n)),n},me=t=>t instanceof Array?t.map(me).join(" ").trim():typeof t=="object"&&t?me(t?.props?.children):["string","number"].includes(typeof t)?String(t):"",U=e.forwardRef(({onClick:t,noTrack:n,...a},r)=>{const o=ot(),s=(0,Ie.s)(),i=rt()?it(a.to):a.to,c=me(a.children)||i,u=Le(i),m=u&&!!/^https?:/.exec(i);if(Te.test(i))throw new Error("Link component rejected javascript: URL as a security precaution");const E=p=>{t?.(p),n||s.captureEvent("click",c,{attributes:{to:i}})};return u?e.createElement(Pe.A,{...m?{target:"_blank",rel:"noopener"}:{},...a,...a["aria-label"]?{"aria-label":`${a["aria-label"]}, Opens in a new window`}:{},ref:r,href:i,onClick:E,className:Q()(o.externalLink,a.className)},a.children,e.createElement(g.A,{component:"span",className:o.visuallyHidden},", Opens in a new window")):e.createElement(Pe.A,{...a,ref:r,component:at.N_,to:i,onClick:E})});var ct=l(45634),X=l(58007),T=l(8109),we=l(55197),J=l(7031);const mt=(0,J.A)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(g.A),ue=(0,J.A)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(x.A),ut=(0,J.A)({root:{fontStyle:"italic"}},{name:"BreadcrumbsCurrentPage"})(x.A);function dt(t){const{children:n,...a}=t,[r,o]=e.useState(null),s=e.Children.toArray(n),[i,c,...u]=s,m=u.length?u.pop():s[s.length-1],E=s.length>3,p=f=>{o(f.currentTarget)},h=()=>{o(null)},d=!!r;return e.createElement(e.Fragment,null,e.createElement(ct.A,{"aria-label":"breadcrumb",...a},s.length>1&&e.createElement(ue,{clone:!0},i),s.length>2&&e.createElement(ue,{clone:!0},c),E&&e.createElement(mt,{onClick:p},"..."),e.createElement(ut,null,m)),e.createElement(we.Ay,{open:d,anchorEl:r,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e.createElement(X.A,null,u.map((f,y)=>e.createElement(T.A,{key:y,button:!0},e.createElement(ue,{clone:!0},f))))))}const pt=(0,A.A)(t=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[t.breakpoints.up("sm")]:{paddingLeft:n=>n.isPinned?n.sidebarConfig.drawerWidthOpen:n.sidebarConfig.drawerWidthClosed},[t.breakpoints.down("xs")]:{paddingBottom:n=>n.sidebarConfig.mobileSidebarHeight},"@media print":{padding:"0px !important"}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),Ne=(0,e.createContext)({content:{contentRef:void 0}});function _n(t){const[n,a]=useState(()=>LocalStorage.getSidebarPinState()),{sidebarConfig:r}=useContext(SidebarConfigContext),o=useRef(null),s=useMemo(()=>({content:{contentRef:o}}),[o]);useEffect(()=>{LocalStorage.setSidebarPinState(n)},[n]);const i=useMediaQuery(m=>m.breakpoints.down("xs"),{noSsr:!0}),c=()=>a(!n),u=pt({isPinned:n,sidebarConfig:r});return React__default.createElement(SidebarPinStateProvider,{value:{isPinned:n,toggleSidebarPinState:c,isMobile:i}},React__default.createElement(Ne.Provider,{value:s},React__default.createElement(Box,{className:u.root},t.children)))}function gt(){const{content:t}=(0,e.useContext)(Ne);return{focusContent:(0,e.useCallback)(()=>{t?.contentRef?.current?.focus()},[t]),contentRef:t?.contentRef}}const ft=(0,A.A)(t=>({header:{gridArea:"pageHeader",padding:t.spacing(3),width:"100%",boxShadow:t.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:t.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[t.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:t.page.fontColor,wordBreak:"break-word",fontSize:t.typography.h3.fontSize,marginBottom:0},subtitle:{color:t.page.fontColor,opacity:.8,display:"inline-block",marginTop:t.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:t.spacing(1),color:t.page.fontColor},breadcrumb:{color:t.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-t.spacing(.3),marginBottom:t.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-t.spacing(.3),marginBottom:t.spacing(.3)}}),{name:"BackstageHeader"}),ht=({type:t,typeLink:n,classes:a,pageTitle:r})=>t?n?e.createElement(dt,{className:a.breadcrumb},e.createElement(U,{to:n},t),e.createElement(g.A,null,r)):e.createElement(g.A,{className:a.type},t):null,Et=({pageTitle:t,classes:n,tooltip:a})=>{const{contentRef:r}=gt(),o=e.createElement(g.A,{ref:r,tabIndex:-1,className:n.title,variant:"h1"},t);return a?e.createElement(Re.Ay,{title:a,placement:"top-start"},o):o},yt=({classes:t,subtitle:n})=>n?typeof n!="string"?e.createElement(e.Fragment,null,n):e.createElement(g.A,{className:t.subtitle,variant:"subtitle2",component:"span"},n):null;function At(t){const{children:n,pageTitleOverride:a,style:r,subtitle:o,title:s,tooltip:i,type:c,typeLink:u}=t,m=ft(),p=(0,C.gf)(L.U).getOptionalString("app.title")||"Backstage",h=a||s,d=s||a,f=`${h} | %s | ${p}`,y=`${h} | ${p}`;return e.createElement(e.Fragment,null,e.createElement(ke.m,{titleTemplate:f,defaultTitle:y}),e.createElement("header",{style:r,className:m.header},e.createElement(x.A,{className:m.leftItemsBox},e.createElement(ht,{classes:m,type:c,typeLink:u,pageTitle:d}),e.createElement(Et,{classes:m,pageTitle:d,tooltip:i}),e.createElement(yt,{classes:m,subtitle:o})),e.createElement(I.A,{container:!0,className:m.rightItemsBox,spacing:4},n)))}const vt=(0,A.A)(t=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:t.spacing(3),paddingBottom:t.spacing(3),paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function Ct(t){const{className:n,stretch:a,noPadding:r,children:o,...s}=t,i=vt();return e.createElement("article",{...s,className:Q()(i.root,n,{[i.stretch]:a,[i.noPadding]:r})},o)}const bt=t=>(0,A.A)(n=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:n.spacing(2),textAlign:t.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:n.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),St=({title:t="Unknown page",className:n})=>e.createElement(g.A,{variant:"h4",component:"h2",className:n,"data-testid":"header-title"},t);function xt(t){const{description:n,title:a,titleComponent:r=void 0,children:o,textAlign:s="left"}=t,i=bt({textAlign:s})(),c=r||e.createElement(St,{title:a,className:i.title});return e.createElement(e.Fragment,null,e.createElement(ke.m,{title:a}),e.createElement(x.A,{className:i.container},e.createElement(x.A,{className:i.leftItemsBox},c,n&&e.createElement(g.A,{className:i.description,variant:"body2"},n)),e.createElement(x.A,{className:i.rightItemsBox},o)))}var Fe=l(95208),$=l(64947),Rt=l(93453),de=l(29365),pe=l(46423),w=l(5951),ge=l(26343),kt=l(28233),Ue=l(5893),ea=l(45810),It=l(97963);const K=(0,It.h)({id:"core-components",messages:{signIn:{title:"Sign In",loginFailed:"Login failed",customProvider:{title:"Custom User",subtitle:`Enter your own User ID and credentials.
 This selection will not be stored.`,userId:"User ID",tokenInvalid:"Token is not a valid OpenID Connect JWT Token",continue:"Continue",idToken:"ID Token (optional)"},guestProvider:{title:"Guest",subtitle:`Enter as a Guest User.
 You will not have a verified identity, meaning some features might be unavailable.`,enter:"Enter"}},skipToContent:"Skip to content",copyTextButton:{tooltipText:"Text copied to clipboard"},simpleStepper:{reset:"Reset",finish:"Finish",next:"Next",skip:"Skip",back:"Back"},errorPage:{subtitle:"ERROR {{status}}: {{statusMessage}}",title:"Looks like someone dropped the mic!",goBack:"Go back",showMoreDetails:"Show more details",showLessDetails:"Show less details"},emptyState:{missingAnnotation:{title:"Missing Annotation",actionTitle:"Add the annotation to your component YAML as shown in the highlighted example below:",readMore:"Read more"}},supportConfig:{default:{title:"Support Not Configured",linkTitle:"Add `app.support` config key"}},errorBoundary:{title:"Please contact {{slackChannel}} for help."},oauthRequestDialog:{title:"Login Required",authRedirectTitle:"This will trigger a http redirect to OAuth Login.",login:"Log in",rejectAll:"Reject All"},supportButton:{title:"Support",close:"Close"},table:{filter:{title:"Filters",clearAll:"Clear all"}},alertDisplay:{message_one:"({{ count }} older message)",message_other:"({{ count }} older messages)"},autoLogout:{stillTherePrompt:{title:"Logging out due to inactivity",buttonText:"Yes! Don't log me out"}},proxiedSignInPage:{title:"You do not appear to be signed in. Please try reloading the browser page."}}});var Z=l(10265);const Pt=()=>{const{t}=(0,Z.i)(K);return{url:"https://github.com/backstage/backstage/issues",items:[{title:t("supportConfig.default.title"),icon:"warning",links:[{title:t("supportConfig.default.linkTitle"),url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]}};function Bt(){const a=(0,C.Q2)().get(L.U)?.getOptionalConfig("app.support"),r=Pt();return a?{url:a.getString("url"),items:a.getConfigArray("items").flatMap(o=>({title:o.getString("title"),icon:o.getOptionalString("icon"),links:(o.getOptionalConfigArray("links")??[]).flatMap(s=>({url:s.getString("url"),title:s.getString("title")}))}))}:r}var Lt=l(27799);function P(t){const{id:n,Fallback:a=Lt.A,...r}=t,s=(0,Fe.n)().getSystemIcon(n)??a;return e.createElement(s,{...r})}function ta(t){return React__default.createElement(P,{id:"brokenImage",...t})}function na(t){return React__default.createElement(P,{id:"catalog",...t})}function aa(t){return React__default.createElement(P,{id:"chat",...t})}function ra(t){return React__default.createElement(P,{id:"dashboard",...t})}function oa(t){return React__default.createElement(P,{id:"docs",...t})}function la(t){return React__default.createElement(P,{id:"email",...t})}function sa(t){return React__default.createElement(P,{id:"github",...t})}function ia(t){return React__default.createElement(P,{id:"group",...t})}function q(t){return e.createElement(P,{id:"help",...t})}function ca(t){return React__default.createElement(P,{id:"user",...t})}function ma(t){return React__default.createElement(P,{id:"warning",...t})}const Tt=(0,A.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),wt=({icon:t})=>{const n=(0,Fe.n)(),a=t?n.getSystemIcon(t)??q:q;return e.createElement(a,null)},Nt=({link:t})=>e.createElement(U,{to:t.url},t.title??t.url),Ft=({item:t})=>e.createElement(ge.A,null,e.createElement(pe.A,null,e.createElement(wt,{icon:t.icon})),e.createElement(w.A,{primary:t.title,secondary:t.links?.reduce((n,a,r)=>[...n,r>0&&e.createElement("br",{key:r}),e.createElement(Nt,{link:a,key:a.url})],[])}));function Ut(t){const{t:n}=(0,Z.i)(K),{title:a,items:r,children:o}=t,{items:s}=Bt(),[i,c]=(0,e.useState)(!1),[u,m]=(0,e.useState)(null),E=Tt(),p=(0,Ue.A)(f=>f.breakpoints.down("sm")),h=f=>{m(f.currentTarget),c(!0)},d=()=>{c(!1)};return e.createElement(e.Fragment,null,e.createElement(x.A,{display:"flex",ml:1},p?e.createElement(de.A,{color:"primary",size:"small",onClick:h,"data-testid":"support-button","aria-label":"Support"},e.createElement(q,null)):e.createElement($.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:h,startIcon:e.createElement(q,null)},n("supportButton.title"))),e.createElement(we.Ay,{"data-testid":"support-button-popover",open:i,anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:d},e.createElement(kt.A,{className:E.popoverList,autoFocusItem:!!u},a&&e.createElement(ge.A,{button:!1,alignItems:"flex-start",className:E.menuItem},e.createElement(g.A,{variant:"subtitle1"},a)),e.Children.map(o,(f,y)=>e.createElement(ge.A,{alignItems:"flex-start",key:`child-${y}`,className:E.menuItem},f)),(r??s).map((f,y)=>e.createElement(Ft,{item:f,key:`item-${y}`}))),e.createElement(Rt.A,null,e.createElement($.A,{color:"primary",onClick:d,"aria-label":"Close"},n("supportButton.close")))))}var ze=l(54917),fe=l(40703),We=l(59469),he=l(48653),Ee=l(45685),Oe=l(37197),zt=l(52235);const Wt=(0,A.A)(t=>({root:{maxWidth:"fit-content",padding:t.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:t.palette.textSubtle},arrow:{color:t.palette.textSubtle}}),{name:"BackstageBottomLink"});function Ot(t){const{link:n,title:a,onClick:r}=t,o=Wt();return e.createElement(x.A,null,e.createElement(Oe.A,null),e.createElement(U,{to:n,onClick:r,underline:"none"},e.createElement(x.A,{display:"flex",alignItems:"center",className:o.root},e.createElement(x.A,{className:o.boxTitle,fontWeight:"fontWeightBold",m:1},e.createElement(g.A,null,e.createElement("strong",null,a))),e.createElement(zt.A,{className:o.arrow}))))}const Dt=e.forwardRef((t,n)=>e.createElement(U,{ref:n,...t,color:"initial"})),De=e.forwardRef((t,n)=>e.createElement($.A,{ref:n,component:Dt,...t})),ua=null;var ye=l(24453),Ht=l(99594),Mt=l(36338);function _(t){const{t:n}=(0,Z.i)(K),{text:a,tooltipDelay:r=1e3,tooltipText:o=n("copyTextButton.tooltipText"),"aria-label":s="Copy text"}=t,i=(0,C.gf)(ye.m),[c,u]=(0,e.useState)(!1),[{error:m},E]=(0,Mt.A)();(0,e.useEffect)(()=>{m&&i.post(m)},[m,i]);const p=h=>{h.stopPropagation(),u(!0),E(a)};return e.createElement(e.Fragment,null,e.createElement(Re.Ay,{id:"copy-test-tooltip",title:o,placement:"top",leaveDelay:r,onClose:()=>u(!1),open:c},e.createElement(de.A,{onClick:p,"aria-label":s},e.createElement(Ht.A,null))))}var ee=l(268),$t=l(8973),Gt=l(29655),jt=l(91567),Vt=l(9181),He=l(6924),Yt=l(36108),Qt=l(28138),Xt=l(20279),Jt=l(40697),Kt=l(25577);function Me(t){const{text:n,language:a,showLineNumbers:r=!1,highlightedNumbers:o,customStyle:s,showCopyCodeButton:i=!1}=t,c=(0,ze.A)(),u=c.palette.type==="dark"?Jt.A:Kt.A,m=c.palette.type==="dark"?"#256bf3":"#e6ffed";return e.createElement(x.A,{position:"relative"},e.createElement(Xt.A,{customStyle:s,language:a,style:u,showLineNumbers:r,wrapLines:!0,lineNumberStyle:{color:c.palette.textVerySubtle},lineProps:E=>o?.includes(E)?{style:{backgroundColor:m}}:{}},n),i&&e.createElement(x.A,{position:"absolute",top:0,right:0},e.createElement(_,{text:n})))}const Zt=(0,A.A)(t=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${t.palette.border}`},"& th, & td":{border:`1px solid ${t.palette.border}`,padding:t.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:t.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:t.palette.background.paper},"& tr":{backgroundColor:t.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:t.palette.background.default},"& a":{color:t.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),$e=(t,n)=>n?typeof n=="string"?t+n:e.Children.toArray(n.props.children).reduce($e,t):t,z=({level:t,children:n})=>{const o=e.Children.toArray(n).reduce($e,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return e.createElement(`h${t}`,{id:o},n)},qt={code:({inline:t,className:n,children:a,...r})=>{const o=String(a).replace(/\n+$/,""),s=/language-(\w+)/.exec(n||"");return!t&&s?e.createElement(Me,{language:s[1],text:o}):e.createElement("code",{className:n,...r},a)},h1:z,h2:z,h3:z,h4:z,h5:z,h6:z};function Ge(t){const{content:n,dialect:a="gfm",linkTarget:r,transformLinkUri:o,transformImageUri:s,className:i}=t,c=Zt();return e.createElement(Yt.$,{remarkPlugins:a==="gfm"?[Qt.A]:[],className:`${c.markdown} ${i??""}`.trim(),children:n,components:qt,linkTarget:r,transformLinkUri:o,transformImageUri:s})}const te=(t,n)=>(n.palette.type==="light"?ee.e$:ee.a)(n.palette[t].light,.6),je=(t,n)=>(n.palette.type==="light"?ee.a:ee.e$)(n.palette[t].light,.9),Ve=(0,A.A)(t=>({root:{marginRight:t.spacing(1),fill:({severity:n})=>te(n,t)}})),_t=({severity:t})=>{const n=Ve({severity:t});return e.createElement(Vt.A,{classes:n})},en=({severity:t})=>{const n=Ve({severity:t});return e.createElement(He.A,{classes:n})},tn=(0,A.A)(t=>({panel:{backgroundColor:({severity:n})=>je(n,t),color:({severity:n})=>te(n,t),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:n})=>te(n,t),fontWeight:t.typography.fontWeightBold},markdownContent:{"& p":{display:"inline"}},message:{width:"100%",display:"block",color:({severity:n})=>te(n,t),backgroundColor:({severity:n})=>je(n,t)},details:{width:"100%",display:"block",color:t.palette.textContrast,backgroundColor:t.palette.background.default,border:`1px solid ${t.palette.border}`,padding:t.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),nn=t=>t.charAt(0).toLocaleUpperCase("en-US")+t.slice(1);function an(t){const{severity:n="warning",title:a,titleFormat:r,message:o,children:s,defaultExpanded:i}=t,c=tn({severity:n}),u=nn(n)+(a?`: ${a}`:"");return e.createElement($t.A,{defaultExpanded:i??!1,className:c.panel,role:"alert"},e.createElement(Gt.A,{expandIcon:e.createElement(en,{severity:n}),className:c.summary},e.createElement(_t,{severity:n}),e.createElement(g.A,{className:c.summaryText,variant:"subtitle1"},r==="markdown"?e.createElement(Ge,{content:u,className:c.markdownContent}):u)),(o||s)&&e.createElement(jt.A,null,e.createElement(I.A,{container:!0},o&&e.createElement(I.A,{item:!0,xs:12},e.createElement(g.A,{className:c.message,variant:"body1"},o)),s&&e.createElement(I.A,{item:!0,xs:12,className:c.details},s))))}const rn=(0,A.A)(t=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:t.spacing(2)},divider:{margin:t.spacing(2)}}),{name:"BackstageErrorPanel"}),on=({error:t,message:n,stack:a,children:r})=>{const o=rn();return e.createElement(X.A,{dense:!0},e.createElement(T.A,{alignItems:"flex-start"},e.createElement(w.A,{classes:{secondary:o.text},primary:"Error",secondary:t}),e.createElement(_,{text:t})),e.createElement(T.A,{alignItems:"flex-start"},e.createElement(w.A,{classes:{secondary:o.text},primary:"Message",secondary:n}),e.createElement(_,{text:n})),a&&e.createElement(T.A,{alignItems:"flex-start"},e.createElement(w.A,{classes:{secondary:o.text},primary:"Stack Trace",secondary:a}),e.createElement(_,{text:a})),r)};function ln(t){const{title:n,error:a,defaultExpanded:r,titleFormat:o,children:s}=t;return e.createElement(an,{severity:"error",title:n??a.message,defaultExpanded:r,titleFormat:o},e.createElement(on,{error:a.name,message:a.message,stack:a.stack,children:s}))}const sn=t=>{const{slackChannel:n}=t,{t:a}=(0,Z.i)(K);if(n){if(typeof n=="string")return e.createElement(g.A,null,a("errorBoundary.title",{slackChannel:n}));if(!n.href)return e.createElement(g.A,null,a("errorBoundary.title",{slackChannel:n.name}))}else return null;return e.createElement(De,{to:n.href,variant:"contained"},n.name)},cn=class extends e.Component{constructor(n){super(n),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(n,a){console.error(`ErrorBoundary, error: ${n}`,{error:n,errorInfo:a}),this.setState({error:n,errorInfo:a})}render(){const{slackChannel:n,children:a}=this.props,{error:r}=this.state;return r?e.createElement(ln,{title:"Something Went Wrong",error:r},e.createElement(sn,{slackChannel:n})):a}},mn=(0,A.A)(t=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},contentAlignBottom:{display:"flex",alignItems:"self-end"},header:{padding:t.spacing(2,2,2,2.5)},headerTitle:{fontWeight:t.typography.fontWeightBold},headerSubheader:{paddingTop:t.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),un=(0,J.A)(t=>({root:{display:"inline-block",padding:t.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(We.A),Ye={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px",breakInside:"avoid-page","@media print":{height:"auto"}}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function Qe(t){const{title:n,subheader:a,divider:r=!0,deepLink:o,slackChannel:s,errorBoundaryProps:i,variant:c,alignContent:u="normal",children:m,headerStyle:E,headerProps:p,icon:h,action:d,actionsClassName:f,actions:y,cardClassName:v,actionsTopRight:b,className:D,noPadding:Se,titleTypographyProps:R,subheaderTypographyProps:k}=t,S=mn();let Y={},xe={};c&&c.split(/[\s]+/g).forEach(tt=>{Y={...Y,...Ye.card[tt]},xe={...xe,...Ye.cardContent[tt]}});const Zn=()=>!a&&!h?null:e.createElement("div",{"data-testid":"info-card-subheader"},a&&e.createElement("div",{className:S.subheader},a),h),qn=i||(s?{slackChannel:s}:{});return e.createElement(fe.A,{style:Y,className:D},e.createElement(cn,{...qn},n&&e.createElement(Ee.A,{classes:{root:Q()(S.header),title:S.headerTitle,subheader:S.headerSubheader,avatar:S.headerAvatar,action:S.headerAction,content:S.headerContent},title:n,subheader:Zn(),action:d,style:{...E},titleTypographyProps:R,subheaderTypographyProps:k,...p}),b&&e.createElement(un,null,b),r&&e.createElement(Oe.A,null),e.createElement(he.A,{className:Q()(v,{[S.noPadding]:Se,[S.contentAlignBottom]:u==="bottom"}),style:xe},m),y&&e.createElement(We.A,{className:f},y),o&&e.createElement(Ot,{...o})))}var dn=l(67720),ne=l(5336),Xe=l(51419),da=l(52536),W=l(3969);function Ae(){const t=(0,C.gf)(L.U);return(0,W.J7)(t)}const pn=t=>{const{exampleLocationUrl:n="https://github.com/backstage/backstage/blob/master/catalog-info.yaml",exampleRepositoryUrl:a="https://github.com/backstage/backstage"}=t,r=(0,C.gf)(L.U),o=r.getOptionalString("app.title")||"Backstage",s=(0,C.gf)(ne.g),i=r.has("integrations.github"),c=Ae();return e.createElement(Qe,{title:"Register an existing component",titleTypographyProps:{component:"h3"},deepLink:{title:"Learn more about the Software Catalog",link:"https://backstage.io/docs/features/software-catalog/"}},e.createElement(g.A,{variant:"body2",paragraph:!0},"Enter the URL to your source code repository to add it to ",o,"."),e.createElement(g.A,{component:"h4",variant:"h6"},"Link to an existing entity file"),e.createElement(g.A,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",e.createElement("code",null,n)),e.createElement(g.A,{variant:"body2",paragraph:!0},"The wizard analyzes the file, previews the entities, and adds them to the ",o," catalog."),i&&e.createElement(e.Fragment,null,e.createElement(g.A,{component:"h4",variant:"h6"},"Link to a repository"," ",e.createElement(dn.A,{label:"GitHub only",variant:"outlined",size:"small"})),e.createElement(g.A,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Example: ",e.createElement("code",null,a)),e.createElement(g.A,{variant:"body2",paragraph:!0},"The wizard discovers all ",e.createElement("code",null,c)," files in the repository, previews the entities, and adds them to the ",o," ","catalog."),s.preparePullRequest&&e.createElement(g.A,{variant:"body2",paragraph:!0},"If no entities are found, the wizard will prepare a Pull Request that adds an example ",e.createElement("code",null,c)," and prepares the ",o," catalog to load all entities as soon as the Pull Request is merged.")))};var gn=l(21619),fn=l(41045),hn=l(78733);function Je(t){return{activeFlow:"unknown",activeState:"analyze",analysisUrl:t,previousStates:[]}}function En(t,n){switch(n.type){case"onAnalysis":{if(t.activeState!=="analyze")return t;const{activeState:a,previousStates:r}=t,[o,s,i,c]=n.args;return{...t,analysisUrl:s,activeFlow:o,analyzeResult:i,prepareResult:c?.prepareResult,activeState:c?.prepareResult===void 0?"prepare":"review",previousStates:r.concat(a)}}case"onPrepare":{if(t.activeState!=="prepare")return t;const{activeState:a,previousStates:r}=t,[o,s]=n.args;return{...t,prepareResult:o,activeState:"review",previousStates:s?.notRepeatable?[]:r.concat(a)}}case"onReview":{if(t.activeState!=="review")return t;const{activeState:a,previousStates:r}=t,[o]=n.args;return{...t,reviewResult:o,activeState:"finish",previousStates:r.concat(a)}}case"onGoBack":{const{activeState:a,previousStates:r}=t;return{...t,activeState:r.length>0?r[r.length-1]:a,previousStates:r.slice(0,r.length-1)}}case"onReset":return{...Je(n.initialUrl),prepareResult:t.prepareResult};default:throw new Error}}const yn=t=>{const[n,a]=(0,e.useReducer)(En,t?.initialUrl,Je),{activeFlow:r,activeState:o,analysisUrl:s,previousStates:i}=n;return{activeFlow:r,activeState:o,activeStepNumber:["analyze","prepare","review","finish"].indexOf(o),analysisUrl:s,analyzeResult:n.analyzeResult,prepareResult:n.prepareResult,reviewResult:n.reviewResult,onAnalysis:(c,u,m,E)=>a({type:"onAnalysis",args:[c,u,m,E]}),onPrepare:(c,u)=>a({type:"onPrepare",args:[c,u]}),onReview:c=>a({type:"onReview",args:[c]}),onGoBack:i.length>0?()=>a({type:"onGoBack"}):void 0,onReset:()=>a({type:"onReset",initialUrl:t?.initialUrl})}};var ve=l(69076),An=l(86901),G=l(51253),N=l(37877),j=l(16249),Ke=l(78467);const Ce=(0,A.A)(t=>({wrapper:{marginTop:t.spacing(1),marginRight:t.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},button:{marginTop:t.spacing(1),marginRight:t.spacing(1)}})),ae=t=>{const{loading:n,...a}=t,r=Ce();return e.createElement("div",{className:r.wrapper},e.createElement($.A,{color:"primary",variant:"contained",...a,disabled:t.disabled||t.loading}),t.loading&&e.createElement(Ke.A,{size:"1.5rem",className:r.buttonProgress}),t.loading)},O=t=>{const n=Ce();return e.createElement($.A,{variant:"outlined",className:n.button,...t},t.children||"Back")},vn=t=>{const n=Ce();return e.createElement(De,{color:"primary",variant:"contained",className:n.button,...t},t.children)};var re=l(52755),oe=l(78560),Cn=l(91072),bn=l(37281),Sn=l(45809),xn=l(69621),Rn=l(65569),kn=l(23164);const In=(0,A.A)(t=>({nested:{paddingLeft:t.spacing(4)}})),V=t=>{const{locations:n,collapsed:a=!1,locationListItemIcon:r,onItemClick:o,firstListItem:s,withLinks:i=!1}=t,c=In(),u=(0,C.gf)(Cn.n),[m,E]=(0,e.useState)([]),p=d=>{E(f=>f.includes(d)?f.filter(y=>y!==d):f.concat(d))};function h(d){return d.sort((f,y)=>u.forEntity((0,oe.U2)(f)).snapshot.entityRef.localeCompare(u.forEntity((0,oe.U2)(y)).snapshot.entityRef))}return e.createElement(X.A,null,s,n.map(d=>e.createElement(e.Fragment,{key:d.target},e.createElement(T.A,{dense:!0,button:!!o,onClick:()=>o?.(d.target)},e.createElement(pe.A,null,r(d.target)),e.createElement(w.A,{primary:d.target,secondary:`Entities: ${d.entities.length}`}),a&&e.createElement(Rn.A,null,e.createElement(de.A,{edge:"end",onClick:()=>p(d.target)},m.includes(d.target)?e.createElement(kn.A,null):e.createElement(He.A,null)))),e.createElement(xn.A,{in:!a||m.includes(d.target),timeout:"auto",unmountOnExit:!0},e.createElement(X.A,{component:"div",disablePadding:!0,dense:!0},h(d.entities).map(f=>e.createElement(T.A,{key:(0,oe.U2)(f),className:c.nested,...i?{component:bn.z,entityRef:f,button:i}:{}},e.createElement(w.A,{primary:e.createElement(Sn.d,{entityRef:f})}))))))))};var Pn=l(19953),Ze=l.n(Pn),Bn=l(55488),Ln=l(20987),Tn=l(72814);const wn=t=>{for(const n of t)for(const a of n.entities)if(["component","api","resource"].includes(a.kind.toLocaleLowerCase("en-US")))return{kind:a.kind.toLocaleLowerCase("en-US"),namespace:a.namespace?.toLocaleLowerCase("en-US")??Bn.oQ,name:a.name};return null},Nn=({prepareResult:t,onReset:n})=>{const a=(0,Tn.S)(Ln.s);if(t.type==="repository")return e.createElement(e.Fragment,null,e.createElement(g.A,{paragraph:!0},"The following Pull Request has been opened:"," ",e.createElement(U,{to:t.pullRequest.url,target:"_blank",rel:"noreferrer"},t.pullRequest.url)),e.createElement(g.A,{paragraph:!0},"Your entities will be imported as soon as the Pull Request is merged."),e.createElement(I.A,{container:!0,spacing:0},e.createElement(O,{onClick:n},"Register another")));const[r,o]=Ze()(t.locations,i=>i.exists),s=wn(o);return e.createElement(e.Fragment,null,o.length>0&&e.createElement(e.Fragment,null,e.createElement(g.A,null,"The following entities have been added to the catalog:"),e.createElement(V,{locations:o,locationListItemIcon:()=>e.createElement(re.A,null),withLinks:!0})),r.length>0&&e.createElement(e.Fragment,null,e.createElement(g.A,null,"A refresh was triggered for the following locations:"),e.createElement(V,{locations:r,locationListItemIcon:()=>e.createElement(re.A,null),withLinks:!0})),e.createElement(I.A,{container:!0,spacing:0},s&&e.createElement(vn,{to:a(s)},"View Component"),e.createElement(O,{onClick:n},"Register another")))};var le=l(80824);const Fn=t=>{const{onAnalysis:n,analysisUrl:a="",disablePullRequest:r=!1,exampleLocationUrl:o="https://github.com/backstage/backstage/blob/master/catalog-info.yaml"}=t,s=(0,C.gf)(ye.m),i=(0,C.gf)(ne.g),{register:c,handleSubmit:u,formState:{errors:m},watch:E}=(0,le.mN)({mode:"onTouched",defaultValues:{url:a}}),[p,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)(void 0),y=(0,e.useCallback)(async({url:v})=>{h(!0);try{const b=await i.analyzeUrl(v);switch(b.type){case"repository":!r&&b.generatedEntities.length>0?n("no-location",v,b):(f("Couldn't generate entities for your repository"),h(!1));break;case"locations":{b.locations.length===1?n("single-location",v,b,{prepareResult:b}):b.locations.length>1?n("multiple-locations",v,b):(f("There are no entities at this location"),h(!1));break}default:{const D=`Received unknown analysis result of type ${b.type}. Please contact the support team.`;f(D),h(!1),s.post(new Error(D));break}}}catch(b){f(b?.data?.error?.message??b.message),h(!1)}},[i,r,s,n]);return e.createElement("form",{onSubmit:u(y)},e.createElement(j.A,{...(0,W.eO)(c("url",{required:!0,validate:{httpsValidator:v=>typeof v=="string"&&v.match(/^http[s]?:\/\//)!==null||"Must start with http:// or https://."}})),fullWidth:!0,id:"url",label:"URL",placeholder:o,helperText:"Enter the full path to your entity file to start tracking your component",margin:"normal",variant:"outlined",error:!!m.url,required:!0}),m.url&&e.createElement(G.A,{error:!0},m.url.message),d&&e.createElement(G.A,{error:!0},d),e.createElement(I.A,{container:!0,spacing:0},e.createElement(ae,{disabled:!!m.url||!E("url"),loading:p,type:"submit"},"Analyze")))};var Un=l(61783);const zn=t=>{const{name:n,options:a,required:r,errors:o,rules:s,loading:i=!1,loadingText:c,helperText:u,errorHelperText:m,textFieldProps:E={}}=t;return e.createElement(le.xI,{name:n,rules:s,render:({field:{onChange:p}})=>e.createElement(Un.Ay,{loading:i,loadingText:c,options:a||[],autoSelect:!0,freeSolo:!0,onChange:(h,d)=>p(d),renderInput:h=>e.createElement(j.A,{...h,helperText:o?.[n]&&m||u,error:!!o?.[n],margin:"normal",variant:"outlined",required:r,InputProps:{...h.InputProps,endAdornment:e.createElement(e.Fragment,null,i?e.createElement(Ke.A,{color:"inherit",size:"1em"}):null,h.InputProps.endAdornment)},...E})})})};var qe=l(3399),_e=l(30043),Wn=l(53318),et=l(73466);const On=t=>{const{defaultValues:n,onSubmit:a,render:r}=t,o=(0,le.mN)({mode:"onTouched",defaultValues:n}),{handleSubmit:s,watch:i,control:c,register:u,formState:m,setValue:E}=o;return e.createElement(le.Op,{...o},e.createElement("form",{onSubmit:s(a)},r({values:i(),formState:m,register:u,control:c,setValue:E})))},Dn=t=>{const{repositoryUrl:n,entities:a,classes:r}=t,o=Ae();return e.createElement(fe.A,{variant:"outlined",className:r?.card},e.createElement(Ee.A,{title:e.createElement("code",null,`${(0,Be.trimEnd)(n,"/")}/${o}`)}),e.createElement(he.A,{className:r?.cardContent},e.createElement(Me,{text:a.map(s=>Xe.Ay.stringify(s)).join(`---
`).trim(),language:"yaml"})))},Hn=t=>{const{title:n,description:a,classes:r}=t;return e.createElement(fe.A,{variant:"outlined",className:r?.card},e.createElement(Ee.A,{title:n,subheader:"Create a new Pull Request"}),e.createElement(he.A,{className:r?.cardContent},e.createElement(Ge,{content:a})))},Mn=(0,A.A)(t=>({previewCard:{marginTop:t.spacing(1)},previewCardContent:{paddingTop:0}}));function be(t,n,a){return t.map(r=>({...r,apiVersion:r.apiVersion,kind:r.kind,metadata:{...r.metadata,name:n},spec:{...r.spec,...a?{owner:a}:{}}}))}const $n=t=>{const{analyzeResult:n,onPrepare:a,onGoBack:r,renderFormFields:o}=t,s=Mn(),i=(0,C.gf)(_e.v),c=(0,C.gf)(ne.g),u=(0,C.gf)(ye.m),[m,E]=(0,e.useState)(!1),[p,h]=(0,e.useState)(),d=Ae(),{loading:f,value:y,error:v}=(0,et.A)(()=>c.preparePullRequest(),[c.preparePullRequest]);(0,e.useEffect)(()=>{v&&u.post(v)},[v,u]);const{loading:b,value:D}=(0,et.A)(async()=>(await i.getEntities({filter:{kind:"group"}})).items.map(k=>(0,Wn.S)(k,{defaultKind:"group"})).sort()),Se=(0,e.useCallback)(async R=>{E(!0);try{const k=await c.submitPullRequest({repositoryUrl:n.url,title:R.title,body:R.body,fileContent:be(n.generatedEntities,R.componentName,R.owner).map(S=>Xe.Ay.stringify(S)).join(`---
`)});a({type:"repository",url:n.url,integrationType:n.integrationType,pullRequest:{url:k.link},locations:[{target:k.location,entities:be(n.generatedEntities,R.componentName,R.owner).map(S=>({kind:S.kind,namespace:S.metadata.namespace,name:S.metadata.name}))}]},{notRepeatable:!0})}catch(k){(0,qe.tX)(k),h(k.message),E(!1)}},[n.generatedEntities,n.integrationType,n.url,c,a]);return e.createElement(e.Fragment,null,e.createElement(g.A,null,"You entered a link to a ",n.integrationType," repository but a"," ",e.createElement("code",null,d)," could not be found. Use this form to open a Pull Request that creates one."),!f&&e.createElement(On,{onSubmit:Se,defaultValues:{title:y?.title??"",body:y?.body??"",owner:n.generatedEntities[0]?.spec?.owner||"",componentName:n.generatedEntities[0]?.metadata?.name||"",useCodeowners:!1},render:({values:R,formState:k,register:S,setValue:Y})=>e.createElement(e.Fragment,null,o({values:R,formState:k,register:S,setValue:Y,groups:D??[],groupsLoading:b}),e.createElement(x.A,{marginTop:2},e.createElement(g.A,{variant:"h6"},"Preview Pull Request")),e.createElement(Hn,{title:R.title,description:R.body,classes:{card:s.previewCard,cardContent:s.previewCardContent}}),e.createElement(x.A,{marginTop:2,marginBottom:1},e.createElement(g.A,{variant:"h6"},"Preview Entities")),e.createElement(Dn,{entities:be(n.generatedEntities,R.componentName,R.owner),repositoryUrl:n.url,classes:{card:s.previewCard,cardContent:s.previewCardContent}}),p&&e.createElement(G.A,{error:!0},p),e.createElement(I.A,{container:!0,spacing:0},r&&e.createElement(O,{onClick:r,disabled:m}),e.createElement(ae,{type:"submit",disabled:!!(k.errors.title||k.errors.body||k.errors.owner),loading:m},"Create PR")))}))},Gn=({analyzeResult:t,prepareResult:n,onPrepare:a,onGoBack:r})=>{const[o,s]=(0,e.useState)(n?.locations.map(p=>p.target)||[]),[i,c]=Ze()(t?.locations,p=>p.exists),u=(0,e.useCallback)(async()=>{a({type:"locations",locations:c.filter(p=>o.includes(p.target))})},[c,a,o]),m=p=>{s(h=>h.includes(p)?h.filter(d=>d!==p):h.concat(p))},E=()=>{s(p=>p.length<c.length?c.map(h=>h.target):[])};return e.createElement(e.Fragment,null,c.length>0&&e.createElement(e.Fragment,null,e.createElement(g.A,null,"Select one or more locations that are present in your git repository:"),e.createElement(V,{firstListItem:e.createElement(T.A,{dense:!0,button:!0,onClick:E},e.createElement(pe.A,null,e.createElement(ve.A,{edge:"start",checked:o.length===c.length,indeterminate:o.length>0&&o.length<c.length,tabIndex:-1,disableRipple:!0})),e.createElement(w.A,{primary:"Select All"})),onItemClick:m,locations:c,locationListItemIcon:p=>e.createElement(ve.A,{edge:"start",checked:o.includes(p),tabIndex:-1,disableRipple:!0}),collapsed:!0})),i.length>0&&e.createElement(e.Fragment,null,e.createElement(g.A,null,"These locations already exist in the catalog:"),e.createElement(V,{locations:i,locationListItemIcon:()=>e.createElement(re.A,null),withLinks:!0,collapsed:!0})),e.createElement(I.A,{container:!0,spacing:0},r&&e.createElement(O,{onClick:r}),e.createElement(ae,{disabled:o.length===0,onClick:u},"Review")))},jn=({prepareResult:t,onReview:n,onGoBack:a})=>{const r=(0,C.gf)(_e.v),o=(0,C.gf)(L.U),s=(0,Ie.s)(),i=o.getOptionalString("app.title")||"Backstage",[c,u]=(0,e.useState)(!1),[m,E]=(0,e.useState)(),p=!!(t.type==="locations"&&t.locations.some(d=>d.exists)),h=(0,e.useCallback)(async()=>{u(!0),s.captureEvent("click","import entity");try{let d=new Array;t.type==="locations"&&(d=await Promise.all(t.locations.filter(y=>y.exists).map(async y=>{const v=(0,oe.U2)(y.entities[0]??y);return await r.refreshEntity(v),{target:y.target}})));const f=await Promise.all(t.locations.filter(y=>!y.exists).map(async y=>{const v=await r.addLocation({type:"url",target:y.target});return{target:v.location.target,entities:v.entities}}));n({...t,refreshed:d,locations:f})}catch(d){(0,qe.tX)(d),t.type==="repository"&&d.message.startsWith("Location was added but has no entities specified yet")?n({...t,locations:t.locations.map(f=>({target:f.target,entities:[]}))}):(E(d.message),u(!1))}},[t,n,r,s]);return e.createElement(e.Fragment,null,t.type==="repository"&&e.createElement(e.Fragment,null,e.createElement(g.A,{paragraph:!0},"The following Pull Request has been opened:"," ",e.createElement(U,{to:t.pullRequest.url,target:"_blank",rel:"noopener noreferrer"},t.pullRequest.url)),e.createElement(g.A,{paragraph:!0},"You can already import the location and ",i," will fetch the entities as soon as the Pull Request is merged.")),e.createElement(g.A,null,p?"The following locations already exist in the catalog:":"The following entities will be added to the catalog:"),e.createElement(V,{locations:t.locations,locationListItemIcon:()=>e.createElement(re.A,null)}),m&&e.createElement(G.A,{error:!0},m),e.createElement(I.A,{container:!0,spacing:0},a&&e.createElement(O,{onClick:a,disabled:c}),e.createElement(ae,{disabled:c,loading:c,onClick:()=>h()},p?"Refresh":"Import")))};function Vn(t,n){switch(t){case"single-location":return{...n,prepare:()=>({stepLabel:e.createElement(N.A,{optional:e.createElement(g.A,{variant:"caption"},"Discovered Locations: 1")},"Select Locations"),content:e.createElement(e.Fragment,null)})};case"multiple-locations":return{...n,prepare:(a,r)=>a.analyzeResult.type!=="locations"?n.prepare(a,r):{stepLabel:e.createElement(N.A,{optional:e.createElement(g.A,{variant:"caption"},"Discovered Locations: ",a.analyzeResult.locations.length)},"Select Locations"),content:e.createElement(Gn,{analyzeResult:a.analyzeResult,prepareResult:a.prepareResult,onPrepare:a.onPrepare,onGoBack:a.onGoBack})}};case"no-location":return{...n,prepare:(a,r)=>a.analyzeResult.type!=="repository"?n.prepare(a,r):{stepLabel:e.createElement(N.A,null,"Create Pull Request"),content:e.createElement($n,{analyzeResult:a.analyzeResult,onPrepare:a.onPrepare,onGoBack:a.onGoBack,renderFormFields:({values:o,setValue:s,formState:i,groupsLoading:c,groups:u,register:m})=>e.createElement(e.Fragment,null,e.createElement(x.A,{marginTop:2},e.createElement(g.A,{variant:"h6"},"Pull Request Details")),e.createElement(j.A,{...(0,W.eO)(m("title",{required:!0})),label:"Pull Request Title",placeholder:"Add Backstage catalog entity descriptor files",margin:"normal",variant:"outlined",fullWidth:!0,error:!!i.errors.title,required:!0}),e.createElement(j.A,{...(0,W.eO)(m("body",{required:!0})),label:"Pull Request Body",placeholder:"A describing text with Markdown support",margin:"normal",variant:"outlined",fullWidth:!0,error:!!i.errors.body,multiline:!0,required:!0}),e.createElement(x.A,{marginTop:2},e.createElement(g.A,{variant:"h6"},"Entity Configuration")),e.createElement(j.A,{...(0,W.eO)(m("componentName",{required:!0})),label:"Name of the created component",placeholder:"my-component",margin:"normal",variant:"outlined",fullWidth:!0,error:!!i.errors.componentName,required:!0}),!o.useCodeowners&&e.createElement(zn,{name:"owner",errors:i.errors,options:u||[],loading:c,loadingText:"Loading groups\u2026",helperText:"Select an owner from the list or enter a reference to a Group or a User",errorHelperText:"required value",textFieldProps:{label:"Entity Owner",placeholder:"my-group"},rules:{required:!0},required:!0}),e.createElement(An.A,{control:e.createElement(ve.A,{...(0,W.eO)(m("useCodeowners")),onChange:(E,p)=>{p&&s("owner","")}}),label:e.createElement(e.Fragment,null,"Use ",e.createElement("em",null,"CODEOWNERS")," file as Entity Owner")}),e.createElement(G.A,null,"WARNING: This may fail if no CODEOWNERS file is found at the target location."))})}};default:return n}}const Yn={analyze:(t,{apis:n})=>({stepLabel:e.createElement(N.A,null,"Select URL"),content:e.createElement(Fn,{key:"analyze",analysisUrl:t.analysisUrl,onAnalysis:t.onAnalysis,disablePullRequest:!n.catalogImportApi.preparePullRequest})}),prepare:t=>({stepLabel:e.createElement(N.A,{optional:e.createElement(g.A,{variant:"caption"},"Optional")},"Import Actions"),content:e.createElement(O,{onClick:t.onGoBack})}),review:t=>({stepLabel:e.createElement(N.A,null,"Review"),content:e.createElement(jn,{prepareResult:t.prepareResult,onReview:t.onReview,onGoBack:t.onGoBack})}),finish:t=>({stepLabel:e.createElement(N.A,null,"Finish"),content:e.createElement(Nn,{prepareResult:t.prepareResult,onReset:t.onReset})})},Qn=(0,A.A)(()=>({stepperRoot:{padding:0}})),Xn=t=>{const{initialUrl:n,generateStepper:a=Vn,variant:r}=t,o=(0,C.gf)(ne.g),s=Qn(),i=yn({initialUrl:n}),c=(0,e.useMemo)(()=>a(i.activeFlow,Yn),[a,i.activeFlow]),u=m=>e.createElement(gn.A,null,m.stepLabel,e.createElement(fn.A,null,m.content));return e.createElement(Qe,{variant:r},e.createElement(hn.A,{classes:{root:s.stepperRoot},activeStep:i.activeStepNumber,orientation:"vertical"},u(c.analyze(i,{apis:{catalogImportApi:o}})),u(c.prepare(i,{apis:{catalogImportApi:o}})),u(c.review(i,{apis:{catalogImportApi:o}})),u(c.finish(i,{apis:{catalogImportApi:o}}))))},Jn=()=>{const t=(0,ze.A)(),n=(0,C.gf)(L.U),a=(0,Ue.A)(t.breakpoints.down("sm")),r=n.getOptionalString("app.title")||"Backstage",o=[e.createElement(I.A,{key:0,item:!0,xs:12,md:4,lg:6,xl:8},e.createElement(pn,null)),e.createElement(I.A,{key:1,item:!0,xs:12,md:8,lg:6,xl:4},e.createElement(Xn,null))];return e.createElement(ie,{themeId:"home"},e.createElement(At,{title:"Register an existing component"}),e.createElement(Ct,null,e.createElement(xt,{title:`Start tracking your component in ${r}`},e.createElement(Ut,null,"Start tracking your component in ",r," by adding it to the software catalog.")),e.createElement(I.A,{container:!0,spacing:2},a?o:o.reverse())))},Kn=()=>(0,B.P1)()||e.createElement(Jn,null)},23164:(se,F,l)=>{"use strict";var e,B=l(4293),A=l(78920);e={value:!0},F.A=void 0;var H=A(l(14041)),M=B(l(74044)),ie=(0,M.default)(H.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");F.A=ie},19953:(se,F,l)=>{var e=l(72195),B=e(function(A,H,M){A[M?0:1].push(H)},function(){return[[],[]]});se.exports=B}}]);})();

//# sourceMappingURL=7118.840e198a.chunk.js.map