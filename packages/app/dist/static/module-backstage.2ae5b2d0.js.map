{"version":3,"file":"static/module-backstage.2ae5b2d0.js","mappings":"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,YAAa,8BACf,EACA,aAAc,CACZ,MAAO,SACP,YAAa,4BACf,EACA,iBAAkB,CAChB,MAAO,OACP,YAAa,sHACf,EACA,eAAgB,CACd,MAAO,SACP,YAAa,4BACf,EACA,kBAAmB,CACjB,MAAO,SACP,YAAa,4BACf,EACA,YAAa,CACX,MAAO,QACP,YAAa,4BACf,EACA,gBAAiB,CACf,aAAc,CACZ,MAAO,eACP,YAAa,gDACf,EACA,QAAS,CACP,MAAO,UACP,YAAa,2CACf,CACF,EACA,oBAAqB,CACnB,WAAY,CACV,MAAO,qBACP,WAAY,aACZ,YAAa,6CACf,EACA,QAAS,CACP,MAAO,mBACP,WAAY,WACZ,YAAa,2CACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,QACP,YAAa,qCACf,EACA,OAAQ,CACN,MAAO,SACP,YAAa,iDACf,CACF,EACA,gBAAiB,CACf,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,kIACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,iEACf,CACF,EACA,iBAAkB,CAChB,MAAO,CACL,MAAO,kBACP,WAAY,QACZ,YAAa,mIACf,CACF,EACA,cAAe,CACb,KAAM,CACJ,MAAO,OACP,YAAa,+CACf,EACA,WAAY,CACV,MAAO,yBACP,WAAY,aACZ,YAAa,4BACf,CACF,CACF,EACA,aAAc,CACZ,MAAO,sBACP,UAAW,kBACX,SAAU,mCACV,QAAS,CACP,WAAY,CACV,MAAO,4BACP,YAAa,sEACf,EACA,WAAY,QACZ,UAAW,CACT,OAAQ,UACR,SAAU,WACV,QAAS,UACT,MAAO,QACP,OAAQ,QACV,CACF,CACF,EACA,gBAAiB,CACf,MAAO,aACP,QAAS,CACP,MAAO,QACP,IAAK,KACP,CACF,EACA,YAAa,CACX,MAAO,SACP,UAAW,CACT,gBAAiB,0BACjB,eAAgB,gBAClB,EACA,SAAU,kBACV,kBAAmB,SACnB,iBAAkB,QAClB,qBAAsB,aACtB,oBAAqB,YACrB,oBAAqB,YACrB,YAAa,CACX,SAAU,YACV,SAAU,YACV,cAAe,kBACf,MAAO,QACP,cAAe,kBACf,UAAW,aACX,OAAQ,QACV,CACF,EACA,mBAAoB,CAClB,QAAS,CACP,UAAW,0DACb,CACF,EACA,mBAAoB,CAClB,MAAO,YACT,EACA,kBAAmB,CACjB,MAAO,mBACP,SAAU,gEACZ,EACA,iBAAkB,CAChB,MAAO,kBACP,SAAU,4CACZ,EACA,wBAAyB,CACvB,MAAO,wBACP,SAAU,0CACZ,EACA,mBAAoB,CAClB,MAAO,kBACP,SAAU,0DACV,cAAe,CACb,MAAO,iBACT,EACA,kBAAmB,CACjB,MAAO,sBACP,oBAAqB,mBACrB,kBAAmB,eACrB,EACA,kBAAmB,CACjB,IAAK,CACH,MAAO,QACP,IAAK,MACL,OAAQ,QACV,CACF,EACA,kBAAmB,CACjB,iBAAkB,SACpB,EACA,oBAAqB,CACnB,iBAAkB,gCAClB,UAAW,CACT,MAAO,gBACP,iBAAkB,OACpB,EACA,aAAc,CACZ,MAAO,eACT,EACA,QAAS,CACP,MAAO,eACT,CACF,EACA,sBAAuB,CACrB,oBAAqB,6CACrB,gBAAiB,iBACjB,kBAAmB,mBACnB,iBAAkB,iBACpB,EACA,oBAAqB,CACnB,MAAO,mDACP,UAAW,CACT,MAAO,0BACP,YAAa,kGACb,mBAAoB,gDACtB,EACA,YAAa,CACX,MAAO,sBACP,YAAa,oGACb,mBAAoB,gDACtB,EACA,WAAY,CACV,MAAO,2BACP,YAAa,6GACf,EACA,cAAe,CACb,MAAO,wBACP,YAAa,wEACf,CACF,EACA,uBAAwB,CACtB,gBAAiB,YACjB,mBAAoB,cACpB,oBAAqB,2CACvB,EACA,sBAAuB,CACrB,MAAO,wBACT,CACF,EACA,iBAAkB,CAChB,MAAO,yBACP,SAAU,+EACV,UAAW,yBACX,eAAgB,CACd,aAAc,YACd,WAAY,iBACd,EACA,cAAe,CACb,4BAA6B,8BAC7B,mBAAoB,6JACtB,EACA,yBAA0B,CACxB,kBAAmB,eACrB,CACF,EACA,mBAAoB,CAClB,MAAO,yBACP,SAAU,+EACV,UAAW,yBACX,gBAAiB,CACf,uBAAwB,oBAC1B,CACF,EACA,sB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","sources":["webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/DiscoveryApi/UrlPatternDiscovery.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/subjects.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AlertApi/AlertApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AnalyticsApi/NoOpAnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorAlerter.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/UnhandledErrorForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/StorageApi/WebStorage.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/createFetchApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/IdentityAuthInjectorFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/PluginProtocolResolverFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/FetchMiddlewares.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthPendingRequests.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthRequestManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/loginPopup.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthConnector/DefaultAuthConnector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/common.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/SessionStateTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/oauth2/OAuth2.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/google/GoogleAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/microsoft/MicrosoftAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/github/GithubAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/okta/OktaAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/gitlab/GitlabAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/onelogin/OneLoginAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucket/BitbucketAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucketServer/BitbucketServerAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/atlassian/AtlassianAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/vmwareCloud/VMwareCloudAuth.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/plugin-permission-react/dist/apis/PermissionApi.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/plugin-permission-common/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/plugin-permission-common/dist/PermissionClient.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/plugin-permission-react/dist/apis/IdentityPermissionApi.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/apis.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/Link/Link.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/hooks/useSupportConfig.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/layout/ErrorPage/MicDrop.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/CopyTextButton/CopyTextButton.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/CodeSnippet/CodeSnippet.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/layout/ErrorPage/StackDetails.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/layout/ErrorPage/ErrorPage.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/MarkdownContent/MarkdownContent.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/WarningPanel/WarningPanel.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/core-components/dist/components/Progress/Progress.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/components.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/icons.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/unified/UnifiedThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/base/palettes.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/base/pageTheme.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/base/createBaseThemeOptions.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/v5/defaultComponentThemes.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/unified/overrides.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/unified/UnifiedTheme.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/node_modules/@backstage/theme/dist/unified/themes.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/themes.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiAggregator.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiFactoryRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppThemeApi/AppThemeSelector.esm.js","webpack://app/../../node_modules/@backstage/config/dist/index.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/extensions/traversal.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/plugins/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FeatureFlagged.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RoutingProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/validation.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/startCookieAuthRefresh.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/AppIdentityProxy.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/defaultConfigLoader.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/resolveRouteBindings.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/TranslationApi/I18nextTranslationApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/overrideBaseUrlConfigs.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isProtectedApp.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/createSpecializedApp.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/createApp.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/constants.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/ref.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/kinds/relations.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/annotation.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/helpers.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/CommonValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/KubernetesValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/cli/config/webpack-public-path.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppRouter.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/InternalAppContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isReactRouterBeta.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FlatRoutes.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/AlertDisplay/AlertDisplay.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CodeSnippet/CodeSnippet.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CopyTextButton/CopyTextButton.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyStateImage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyState.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/FavoriteToggle/FavoriteToggle.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LinkButton/LinkButton.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Link/Link.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/MarkdownContent/MarkdownContent.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/LoginRequestListItem.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/OAuthRequestDialog.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Progress/Progress.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ResponseErrorPanel/ResponseErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/ClosedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/OpenedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/Select.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/TabbedLayout/RoutedTabs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/TabbedLayout/TabbedLayout.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/WarningPanel/WarningPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/icons/icons.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ContentHeader/ContentHeader.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Content/Content.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderLabel/HeaderLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderTabs/HeaderTabs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Breadcrumbs/Breadcrumbs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Header/Header.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/BottomLink/BottomLink.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorBoundary/ErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/InfoCard/InfoCard.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Page/Page.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebar.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Bar.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenu.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/utils.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Items.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebarContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/localStorage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Page.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarGroup.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarOpenStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarPinStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/config.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/GuestUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/LegacyUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/UserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/styles.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/commonProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/ProxiedSignInIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/guestProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/customProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/IdentityApiSignOutProxy.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/providers.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/SignInPage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/AnalyticsContext.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/Tracker.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/useAnalytics.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AlertApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppLanguageApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppThemeApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ConfigApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/DiscoveryApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ErrorApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FeatureFlagsApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FetchApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/IdentityApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/OAuthRequestApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/StorageApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/TranslationApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/auth.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/ApiRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/useApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/app/useApp.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/componentData.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/PluginErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/extensions.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/useElementFilter.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/plugin/Plugin.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/ExternalRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/RouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/SubRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRefParams.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/useTranslationRef.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/index.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuth.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuthApi.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/AwsS3Integration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/AwsCodeCommitIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureUrl.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/BitbucketCloudIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/BitbucketIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/BitbucketServerIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/GerritIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/GitLabIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/GiteaIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/HarnessIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/ScmIntegrations.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmIntegrationsApi.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/GithubIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/integration/node_modules/git-url-parse/lib/index.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/ApiDefinitionCard/ApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/config.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/node_modules/@backstage/core-components/dist/components/CodeSnippet/CodeSnippet.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/node_modules/@backstage/core-components/dist/components/CopyTextButton/CopyTextButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/node_modules/@backstage/core-components/dist/components/Progress/Progress.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/node_modules/@backstage/core-components/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-common/dist/permissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/components/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/GitHub.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureRepoApiClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureDevops.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/EntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/defaultEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useUpdatingObservable.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/StarredEntitiesApi/StarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityDisplayName/EntityDisplayName.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLinks.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/humanize.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useStarredEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/FavoriteEntity/FavoriteEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/MissingAnnotationEmptyState/MissingAnnotationEmptyState.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntityPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/utils/getEntityRelations.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/alpha/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/useUnregisterEntityDialogState.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/UnregisterEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultNode.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/constants.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Node.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Edge.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DependencyGraph.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/EntityKindIcon.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/AncestryPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/common.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/ColocatedPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/util.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/JsonPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/OverviewPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/YamlPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/InspectEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/UnregisterEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/EntityContextMenu.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityLayout/EntityLayout.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/DeleteEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/EntityOrphanWarning.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/status.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityProcessingErrorsPanel/EntityProcessingErrorsPanel.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityRelationWarning/EntityRelationWarning.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/EntitySwitch.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/conditions.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/generated/pluginId.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/generated/apis/DefaultApi.client.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/CatalogClient.esm.js","webpack://app/../../node_modules/@backstage/types/dist/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/defaults.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/migration.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/createPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/util.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/apis/PermissionApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/hooks/usePermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/keys.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/secrets/SecretsContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/EntityNamePicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/validation.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/EntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/makeValidator.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/EntityTagsPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/MultiEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/MyGroupsPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/OwnerPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/BitbucketRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/DefaultRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/RepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GithubRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GiteaRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GitlabRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/AzureRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/BitbucketRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GerritRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerHost.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerRepoName.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/validation.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/node_modules/react-window/dist/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/VirtualizedListbox.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/HighlightedSearchResultText/HighlightedSearchResultText.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchBar/SearchBar.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.Autocomplete.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchPagination/SearchPagination.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchResult/SearchResult.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/context/SearchContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/DefaultResultListItem/DefaultResultListItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Accordion.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Tabs.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/apis.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/node_modules/@backstage/version-bridge/dist/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/context.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ExpandableNavigation/ExpandableNavigation.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/node_modules/@backstage/integration/dist/github/GithubIntegration.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/node_modules/@backstage/integration/dist/gitlab/GitLabIntegration.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/node_modules/@backstage/core-components/dist/icons/icons.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/node_modules/@backstage/core-components/dist/components/Link/Link.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/IssueLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/ReportIssue.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/TextSize/TextSize.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/LigthBox/LightBox.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/addons.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/client.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/node_modules/@backstage/plugin-techdocs-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/General/UserSettingsSignInAvatar.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarOpenStateContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenu.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/core-components/dist/layout/Sidebar/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/core-components/dist/layout/Sidebar/Items.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/Settings.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/useUserProfileInfo.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/core-components/dist/layout/Sidebar/config.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/node_modules/@backstage/version-bridge/dist/index.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedContext.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedValue.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/globalObject.esm.js","webpack://app/./node_modules/@backstage/plugin-permission-react/dist/apis/PermissionApi.esm.js","webpack://app/./node_modules/@backstage/plugin-permission-common/dist/permissions/util.esm.js","webpack://app/./node_modules/@backstage/plugin-permission-common/dist/types/api.esm.js","webpack://app/./node_modules/@backstage/plugin-permission-react/dist/hooks/usePermission.esm.js","webpack://app/./node_modules/@backstage/plugin-permission-react/dist/components/RequirePermission.esm.js"],"sourcesContent":["const ERROR_PREFIX = \"Invalid discovery URL pattern,\";\nclass UrlPatternDiscovery {\n  constructor(parts) {\n    this.parts = parts;\n  }\n  /**\n   * Creates a new UrlPatternDiscovery given a template. The the only\n   * interpolation done for the template is to replace instances of `{{pluginId}}`\n   * with the ID of the plugin being requested.\n   *\n   * Example pattern: `http://localhost:7007/api/{{ pluginId }}`\n   */\n  static compile(pattern) {\n    const parts = pattern.split(/\\{\\{\\s*pluginId\\s*\\}\\}/);\n    const urlStr = parts.join(\"pluginId\");\n    let url;\n    try {\n      url = new URL(urlStr);\n    } catch {\n      throw new Error(`${ERROR_PREFIX} URL '${urlStr}' is invalid`);\n    }\n    if (url.hash) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a hash`);\n    }\n    if (url.search) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a query`);\n    }\n    if (urlStr.endsWith(\"/\")) {\n      throw new Error(`${ERROR_PREFIX} URL must not end with a slash`);\n    }\n    return new UrlPatternDiscovery(parts);\n  }\n  async getBaseUrl(pluginId) {\n    return this.parts.join(encodeURIComponent(pluginId));\n  }\n}\n\nexport { UrlPatternDiscovery };\n//# sourceMappingURL=UrlPatternDiscovery.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nclass PublishSubject {\n  isClosed = false;\n  terminatingError;\n  observable = new ObservableImpl((subscriber) => {\n    if (this.isClosed) {\n      if (this.terminatingError) {\n        subscriber.error(this.terminatingError);\n      } else {\n        subscriber.complete();\n      }\n      return () => {\n      };\n    }\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\nclass BehaviorSubject {\n  isClosed;\n  currentValue;\n  terminatingError;\n  observable;\n  constructor(value) {\n    this.isClosed = false;\n    this.currentValue = value;\n    this.terminatingError = void 0;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      subscriber.next(this.currentValue);\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.currentValue = value;\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\n\nexport { BehaviorSubject, PublishSubject };\n//# sourceMappingURL=subjects.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass AlertApiForwarder {\n  subject = new PublishSubject();\n  post(alert) {\n    this.subject.next(alert);\n  }\n  alert$() {\n    return this.subject;\n  }\n}\n\nexport { AlertApiForwarder };\n//# sourceMappingURL=AlertApiForwarder.esm.js.map\n","class NoOpAnalyticsApi {\n  captureEvent(_event) {\n  }\n}\n\nexport { NoOpAnalyticsApi };\n//# sourceMappingURL=NoOpAnalyticsApi.esm.js.map\n","class ErrorAlerter {\n  constructor(alertApi, errorApi) {\n    this.alertApi = alertApi;\n    this.errorApi = errorApi;\n  }\n  post(error, context) {\n    if (!context?.hidden) {\n      this.alertApi.post({ message: error.message, severity: \"error\" });\n    }\n    return this.errorApi.post(error, context);\n  }\n  error$() {\n    return this.errorApi.error$();\n  }\n}\n\nexport { ErrorAlerter };\n//# sourceMappingURL=ErrorAlerter.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass ErrorApiForwarder {\n  subject = new PublishSubject();\n  post(error, context) {\n    this.subject.next({ error, context });\n  }\n  error$() {\n    return this.subject;\n  }\n}\n\nexport { ErrorApiForwarder };\n//# sourceMappingURL=ErrorApiForwarder.esm.js.map\n","class UnhandledErrorForwarder {\n  /**\n   * Add event listener, such that unhandled errors can be forwarded using an given `ErrorApi` instance\n   */\n  static forward(errorApi, errorContext) {\n    window.addEventListener(\n      \"unhandledrejection\",\n      (e) => {\n        errorApi.post(e.reason, errorContext);\n      }\n    );\n  }\n}\n\nexport { UnhandledErrorForwarder };\n//# sourceMappingURL=UnhandledErrorForwarder.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nconst buckets = /* @__PURE__ */ new Map();\nclass WebStorage {\n  constructor(namespace, errorApi) {\n    this.namespace = namespace;\n    this.errorApi = errorApi;\n  }\n  static hasSubscribed = false;\n  static create(options) {\n    return new WebStorage(options.namespace ?? \"\", options.errorApi);\n  }\n  static addStorageEventListener() {\n    window.addEventListener(\"storage\", (event) => {\n      for (const [bucketPath, webStorage] of buckets.entries()) {\n        if (event.key?.startsWith(bucketPath)) {\n          webStorage.handleStorageChange(event.key);\n        }\n      }\n    });\n  }\n  get(key) {\n    return this.snapshot(key).value;\n  }\n  snapshot(key) {\n    let value = void 0;\n    let presence = \"absent\";\n    try {\n      const item = localStorage.getItem(this.getKeyName(key));\n      if (item) {\n        value = JSON.parse(item, (_key, val) => {\n          if (typeof val === \"object\" && val !== null) {\n            Object.freeze(val);\n          }\n          return val;\n        });\n        presence = \"present\";\n      }\n    } catch (e) {\n      this.errorApi.post(\n        new Error(`Error when parsing JSON config from storage for: ${key}`)\n      );\n    }\n    return { key, value, presence };\n  }\n  forBucket(name) {\n    const bucketPath = `${this.namespace}/${name}`;\n    if (!buckets.has(bucketPath)) {\n      buckets.set(bucketPath, new WebStorage(bucketPath, this.errorApi));\n    }\n    return buckets.get(bucketPath);\n  }\n  async set(key, data) {\n    localStorage.setItem(this.getKeyName(key), JSON.stringify(data));\n    this.notifyChanges(key);\n  }\n  async remove(key) {\n    localStorage.removeItem(this.getKeyName(key));\n    this.notifyChanges(key);\n  }\n  observe$(key) {\n    if (!WebStorage.hasSubscribed) {\n      WebStorage.addStorageEventListener();\n      WebStorage.hasSubscribed = true;\n    }\n    return this.observable.filter(({ key: messageKey }) => messageKey === key);\n  }\n  handleStorageChange(eventKey) {\n    if (!eventKey?.startsWith(this.namespace)) {\n      return;\n    }\n    const trimmedKey = eventKey?.slice(`${this.namespace}/`.length);\n    if (!trimmedKey.includes(\"/\")) {\n      this.notifyChanges(decodeURIComponent(trimmedKey));\n    }\n  }\n  getKeyName(key) {\n    return `${this.namespace}/${encodeURIComponent(key)}`;\n  }\n  notifyChanges(key) {\n    const snapshot = this.snapshot(key);\n    for (const subscription of this.subscribers) {\n      subscription.next(snapshot);\n    }\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n}\n\nexport { WebStorage, buckets };\n//# sourceMappingURL=WebStorage.esm.js.map\n","function createFetchApi(options) {\n  let result = options.baseImplementation || global.fetch;\n  const middleware = [options.middleware ?? []].flat().reverse();\n  for (const m of middleware) {\n    result = m.apply(result);\n  }\n  return {\n    fetch: result\n  };\n}\n\nexport { createFetchApi };\n//# sourceMappingURL=createFetchApi.esm.js.map\n","class IdentityAuthInjectorFetchMiddleware {\n  constructor(identityApi, allowUrl, headerName, headerValue) {\n    this.identityApi = identityApi;\n    this.allowUrl = allowUrl;\n    this.headerName = headerName;\n    this.headerValue = headerValue;\n  }\n  static create(options) {\n    const matcher = buildMatcher(options);\n    const headerName = options.header?.name || \"authorization\";\n    const headerValue = options.header?.value || ((token) => `Bearer ${token}`);\n    return new IdentityAuthInjectorFetchMiddleware(\n      options.identityApi,\n      matcher,\n      headerName,\n      headerValue\n    );\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const { token } = await this.identityApi.getCredentials();\n      if (request.headers.get(this.headerName) || typeof token !== \"string\" || !token || !this.allowUrl(request.url)) {\n        return next(input, init);\n      }\n      request.headers.set(this.headerName, this.headerValue(token));\n      return next(request);\n    };\n  }\n}\nfunction buildMatcher(options) {\n  if (options.allowUrl) {\n    return options.allowUrl;\n  } else if (options.urlPrefixAllowlist) {\n    return buildPrefixMatcher(options.urlPrefixAllowlist);\n  } else if (options.config) {\n    return buildPrefixMatcher([options.config.getString(\"backend.baseUrl\")]);\n  }\n  return () => false;\n}\nfunction buildPrefixMatcher(prefixes) {\n  const trimmedPrefixes = prefixes.map((prefix) => prefix.replace(/\\/$/, \"\"));\n  return (url) => trimmedPrefixes.some(\n    (prefix) => url === prefix || url.startsWith(`${prefix}/`)\n  );\n}\n\nexport { IdentityAuthInjectorFetchMiddleware };\n//# sourceMappingURL=IdentityAuthInjectorFetchMiddleware.esm.js.map\n","function join(left, right) {\n  if (!right || right === \"/\") {\n    return left;\n  }\n  return `${left.replace(/\\/$/, \"\")}/${right.replace(/^\\//, \"\")}`;\n}\nclass PluginProtocolResolverFetchMiddleware {\n  constructor(discoveryApi) {\n    this.discoveryApi = discoveryApi;\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const prefix = \"plugin://\";\n      if (!request.url.startsWith(prefix)) {\n        return next(input, init);\n      }\n      const { hostname, pathname, search, hash, username, password } = new URL(\n        `http://${request.url.substring(prefix.length)}`\n      );\n      let base = await this.discoveryApi.getBaseUrl(hostname);\n      if (username || password) {\n        const baseUrl = new URL(base);\n        const authority = `${username}${password ? `:${password}` : \"\"}@`;\n        base = `${baseUrl.protocol}//${authority}${baseUrl.host}${baseUrl.pathname}`;\n      }\n      const target = `${join(base, pathname)}${search}${hash}`;\n      return next(\n        target,\n        typeof input === \"string\" || isUrl(input) ? init : input\n      );\n    };\n  }\n}\nfunction isUrl(a) {\n  return typeof a === \"object\" && a?.constructor === URL;\n}\n\nexport { PluginProtocolResolverFetchMiddleware };\n//# sourceMappingURL=PluginProtocolResolverFetchMiddleware.esm.js.map\n","import { IdentityAuthInjectorFetchMiddleware } from './IdentityAuthInjectorFetchMiddleware.esm.js';\nimport { PluginProtocolResolverFetchMiddleware } from './PluginProtocolResolverFetchMiddleware.esm.js';\n\nclass FetchMiddlewares {\n  /**\n   * Handles translation from `plugin://` URLs to concrete http(s) URLs based on\n   * the discovery API.\n   *\n   * @remarks\n   *\n   * If the request is for `plugin://catalog/entities?filter=x=y`, the discovery\n   * API will be queried for `'catalog'`. If it returned\n   * `https://backstage.example.net/api/catalog`, the resulting query would be\n   * `https://backstage.example.net/api/catalog/entities?filter=x=y`.\n   *\n   * If the incoming URL protocol was not `plugin`, the request is just passed\n   * through verbatim to the underlying implementation.\n   */\n  static resolvePluginProtocol(options) {\n    return new PluginProtocolResolverFetchMiddleware(options.discoveryApi);\n  }\n  /**\n   * Injects a Backstage token header when the user is signed in.\n   *\n   * @remarks\n   *\n   * Per default, an `Authorization: Bearer <token>` is generated. This can be\n   * customized using the `header` option.\n   *\n   * The header injection only happens on allowlisted URLs. Per default, if the\n   * `config` option is passed in, the `backend.baseUrl` is allowlisted, unless\n   * the `urlPrefixAllowlist` or `allowUrl` options are passed in, in which case\n   * they take precedence. If you pass in neither config nor an\n   * allowlist/callback, the middleware will have no effect since effectively no\n   * request will match the (nonexistent) rules.\n   */\n  static injectIdentityAuth(options) {\n    return IdentityAuthInjectorFetchMiddleware.create(options);\n  }\n  constructor() {\n  }\n}\n\nexport { FetchMiddlewares };\n//# sourceMappingURL=FetchMiddlewares.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nfunction hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction joinScopes(scopes, ...moreScopess) {\n  const result = new Set(scopes);\n  for (const moreScopes of moreScopess) {\n    for (const scope of moreScopes) {\n      result.add(scope);\n    }\n  }\n  return result;\n}\nclass OAuthPendingRequests {\n  requests = [];\n  subject = new BehaviorSubject(\n    this.getCurrentPending()\n  );\n  request(scopes) {\n    return new Promise((resolve, reject) => {\n      this.requests.push({ scopes, resolve, reject });\n      this.subject.next(this.getCurrentPending());\n    });\n  }\n  resolve(scopes, result) {\n    this.requests = this.requests.filter((request) => {\n      if (hasScopes(scopes, request.scopes)) {\n        request.resolve(result);\n        return false;\n      }\n      return true;\n    });\n    this.subject.next(this.getCurrentPending());\n  }\n  reject(error) {\n    this.requests.forEach((request) => request.reject(error));\n    this.requests = [];\n    this.subject.next(this.getCurrentPending());\n  }\n  pending() {\n    return this.subject;\n  }\n  getCurrentPending() {\n    const currentScopes = this.requests.length === 0 ? void 0 : this.requests.slice(1).reduce(\n      (acc, current) => joinScopes(acc, current.scopes),\n      this.requests[0].scopes\n    );\n    return {\n      scopes: currentScopes,\n      resolve: (value) => {\n        if (currentScopes) {\n          this.resolve(currentScopes, value);\n        }\n      },\n      reject: (reason) => {\n        if (currentScopes) {\n          this.reject(reason);\n        }\n      }\n    };\n  }\n}\n\nexport { OAuthPendingRequests, hasScopes, joinScopes };\n//# sourceMappingURL=OAuthPendingRequests.esm.js.map\n","import { OAuthPendingRequests } from './OAuthPendingRequests.esm.js';\nimport { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nclass OAuthRequestManager {\n  subject = new BehaviorSubject([]);\n  currentRequests = [];\n  handlerCount = 0;\n  createAuthRequester(options) {\n    const handler = new OAuthPendingRequests();\n    const index = this.handlerCount;\n    this.handlerCount++;\n    handler.pending().subscribe({\n      next: (scopeRequest) => {\n        const newRequests = this.currentRequests.slice();\n        const request = this.makeAuthRequest(scopeRequest, options);\n        if (!request) {\n          delete newRequests[index];\n        } else {\n          newRequests[index] = request;\n        }\n        this.currentRequests = newRequests;\n        this.subject.next(newRequests.filter(Boolean));\n      }\n    });\n    return (scopes) => {\n      return handler.request(scopes);\n    };\n  }\n  // Converts the pending request and popup options into a popup request that we can forward to subscribers.\n  makeAuthRequest(request, options) {\n    const { scopes } = request;\n    if (!scopes) {\n      return void 0;\n    }\n    return {\n      provider: options.provider,\n      trigger: async () => {\n        const result = await options.onAuthRequest(scopes);\n        request.resolve(result);\n      },\n      reject: () => {\n        const error = new Error(\"Login failed, rejected by user\");\n        error.name = \"RejectedError\";\n        request.reject(error);\n      }\n    };\n  }\n  authRequest$() {\n    return this.subject;\n  }\n}\n\nexport { OAuthRequestManager };\n//# sourceMappingURL=OAuthRequestManager.esm.js.map\n","function showLoginPopup(options) {\n  return new Promise((resolve, reject) => {\n    const width = options.width || 500;\n    const height = options.height || 700;\n    const left = window.screen.width / 2 - width / 2;\n    const top = window.screen.height / 2 - height / 2;\n    const popup = window.open(\n      options.url,\n      options.name,\n      `menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${width},height=${height},top=${top},left=${left}`\n    );\n    let targetOrigin = \"\";\n    if (!popup || typeof popup.closed === \"undefined\" || popup.closed) {\n      const error = new Error(\"Failed to open auth popup.\");\n      error.name = \"PopupRejectedError\";\n      reject(error);\n      return;\n    }\n    const messageListener = (event) => {\n      if (event.source !== popup) {\n        return;\n      }\n      if (event.origin !== options.origin) {\n        return;\n      }\n      const { data } = event;\n      if (data.type === \"config_info\") {\n        targetOrigin = data.targetOrigin;\n        return;\n      }\n      if (data.type !== \"authorization_response\") {\n        return;\n      }\n      const authResult = data;\n      if (\"error\" in authResult) {\n        const error = new Error(authResult.error.message);\n        error.name = authResult.error.name;\n        reject(error);\n      } else {\n        resolve(authResult.response);\n      }\n      done();\n    };\n    const intervalId = setInterval(() => {\n      if (popup.closed) {\n        const errMessage = `Login failed, ${targetOrigin && targetOrigin !== window.location.origin ? `Incorrect app origin, expected ${targetOrigin}` : \"popup was closed\"}`;\n        const error = new Error(errMessage);\n        error.name = \"PopupClosedError\";\n        reject(error);\n        done();\n      }\n    }, 100);\n    function done() {\n      window.removeEventListener(\"message\", messageListener);\n      clearInterval(intervalId);\n    }\n    window.addEventListener(\"message\", messageListener);\n  });\n}\n\nexport { showLoginPopup };\n//# sourceMappingURL=loginPopup.esm.js.map\n","import { showLoginPopup } from '../loginPopup.esm.js';\n\nlet warned = false;\nfunction defaultJoinScopes(scopes) {\n  return [...scopes].join(\" \");\n}\nclass DefaultAuthConnector {\n  discoveryApi;\n  environment;\n  provider;\n  joinScopesFunc;\n  authRequester;\n  sessionTransform;\n  enableExperimentalRedirectFlow;\n  popupOptions;\n  constructor(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      joinScopes = defaultJoinScopes,\n      oauthRequestApi,\n      sessionTransform = (id) => id,\n      popupOptions\n    } = options;\n    if (!warned && !configApi) {\n      console.warn(\n        \"DEPRECATION WARNING: Authentication providers require a configApi instance to configure the authentication flow. Please provide one to the authentication provider constructor.\"\n      );\n      warned = true;\n    }\n    this.enableExperimentalRedirectFlow = configApi ? configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false : false;\n    this.authRequester = oauthRequestApi.createAuthRequester({\n      provider,\n      onAuthRequest: async (scopes) => {\n        if (!this.enableExperimentalRedirectFlow) {\n          return this.showPopup(scopes);\n        }\n        return this.executeRedirect(scopes);\n      }\n    });\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.joinScopesFunc = joinScopes;\n    this.sessionTransform = sessionTransform;\n    this.popupOptions = popupOptions;\n  }\n  async createSession(options) {\n    if (options.instantPopup) {\n      if (this.enableExperimentalRedirectFlow) {\n        return this.executeRedirect(options.scopes);\n      }\n      return this.showPopup(options.scopes);\n    }\n    return this.authRequester(options.scopes);\n  }\n  async refreshSession(scopes) {\n    const res = await fetch(\n      await this.buildUrl(\"/refresh\", {\n        optional: true,\n        ...scopes && { scope: this.joinScopesFunc(scopes) }\n      }),\n      {\n        headers: {\n          \"x-requested-with\": \"XMLHttpRequest\"\n        },\n        credentials: \"include\"\n      }\n    ).catch((error) => {\n      throw new Error(`Auth refresh request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(\n        `Auth refresh request failed, ${res.statusText}`\n      );\n      error.status = res.status;\n      throw error;\n    }\n    const authInfo = await res.json();\n    if (authInfo.error) {\n      const error = new Error(authInfo.error.message);\n      if (authInfo.error.name) {\n        error.name = authInfo.error.name;\n      }\n      throw error;\n    }\n    return await this.sessionTransform(authInfo);\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async showPopup(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    const popupUrl = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      flow: \"popup\"\n    });\n    const width = this.popupOptions?.size?.fullscreen ? window.screen.width : this.popupOptions?.size?.width || 450;\n    const height = this.popupOptions?.size?.fullscreen ? window.screen.height : this.popupOptions?.size?.height || 730;\n    const payload = await showLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      origin: new URL(popupUrl).origin,\n      width,\n      height\n    });\n    return await this.sessionTransform(payload);\n  }\n  async executeRedirect(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    window.location.href = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      redirectUrl: window.location.href,\n      flow: \"redirect\"\n    });\n    return new Promise(() => {\n    });\n  }\n  async buildUrl(path, query) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    const queryString = this.buildQueryString({\n      ...query,\n      env: this.environment\n    });\n    return `${baseUrl}/${this.provider.id}${path}${queryString}`;\n  }\n  buildQueryString(query) {\n    if (!query) {\n      return \"\";\n    }\n    const queryString = Object.entries(query).map(([key, value]) => {\n      if (typeof value === \"string\") {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      } else if (value) {\n        return encodeURIComponent(key);\n      }\n      return void 0;\n    }).filter(Boolean).join(\"&\");\n    if (!queryString) {\n      return \"\";\n    }\n    return `?${queryString}`;\n  }\n}\n\nexport { DefaultAuthConnector };\n//# sourceMappingURL=DefaultAuthConnector.esm.js.map\n","function hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nclass SessionScopeHelper {\n  constructor(options) {\n    this.options = options;\n  }\n  sessionExistsAndHasScope(session, scopes) {\n    if (!session) {\n      return false;\n    }\n    if (!scopes) {\n      return true;\n    }\n    if (this.options.sessionScopes === void 0) {\n      return true;\n    }\n    const sessionScopes = this.options.sessionScopes(session);\n    return hasScopes(sessionScopes, scopes);\n  }\n  getExtendedScope(session, scopes) {\n    const newScope = new Set(this.options.defaultScopes);\n    if (session && this.options.sessionScopes !== void 0) {\n      const sessionScopes = this.options.sessionScopes(session);\n      for (const scope of sessionScopes) {\n        newScope.add(scope);\n      }\n    }\n    if (scopes) {\n      for (const scope of scopes) {\n        newScope.add(scope);\n      }\n    }\n    return newScope;\n  }\n}\n\nexport { SessionScopeHelper, hasScopes };\n//# sourceMappingURL=common.esm.js.map\n","import { BehaviorSubject } from '../subjects.esm.js';\nimport { SessionState } from '@backstage/core-plugin-api';\n\nclass SessionStateTracker {\n  subject = new BehaviorSubject(\n    SessionState.SignedOut\n  );\n  signedIn = false;\n  setIsSignedIn(isSignedIn) {\n    if (this.signedIn !== isSignedIn) {\n      this.signedIn = isSignedIn;\n      this.subject.next(\n        this.signedIn ? SessionState.SignedIn : SessionState.SignedOut\n      );\n    }\n  }\n  sessionState$() {\n    return this.subject;\n  }\n}\n\nexport { SessionStateTracker };\n//# sourceMappingURL=SessionStateTracker.esm.js.map\n","import { SessionScopeHelper, hasScopes } from './common.esm.js';\nimport { SessionStateTracker } from './SessionStateTracker.esm.js';\n\nclass RefreshingAuthSessionManager {\n  connector;\n  helper;\n  sessionScopesFunc;\n  sessionShouldRefreshFunc;\n  stateTracker = new SessionStateTracker();\n  refreshPromise;\n  currentSession;\n  constructor(options) {\n    const {\n      connector,\n      defaultScopes = /* @__PURE__ */ new Set(),\n      sessionScopes,\n      sessionShouldRefresh\n    } = options;\n    this.connector = connector;\n    this.sessionScopesFunc = sessionScopes;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({ sessionScopes, defaultScopes });\n  }\n  async getSession(options) {\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(this.currentSession);\n      if (!shouldRefresh) {\n        return this.currentSession;\n      }\n      try {\n        const refreshedSession = await this.collapsedSessionRefresh(\n          options.scopes\n        );\n        const currentScopes = this.sessionScopesFunc(this.currentSession);\n        const refreshedScopes = this.sessionScopesFunc(refreshedSession);\n        if (hasScopes(refreshedScopes, currentScopes)) {\n          this.currentSession = refreshedSession;\n        }\n        return refreshedSession;\n      } catch (error) {\n        if (options.optional) {\n          return void 0;\n        }\n        throw error;\n      }\n    }\n    if (!this.currentSession && !options.instantPopup) {\n      try {\n        const newSession = await this.collapsedSessionRefresh(options.scopes);\n        this.currentSession = newSession;\n        return this.getSession(options);\n      } catch {\n      }\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n  async collapsedSessionRefresh(scopes) {\n    if (this.refreshPromise) {\n      return this.refreshPromise;\n    }\n    this.refreshPromise = this.connector.refreshSession(\n      this.helper.getExtendedScope(this.currentSession, scopes)\n    );\n    try {\n      const session = await this.refreshPromise;\n      this.stateTracker.setIsSignedIn(true);\n      return session;\n    } finally {\n      delete this.refreshPromise;\n    }\n  }\n}\n\nexport { RefreshingAuthSessionManager };\n//# sourceMappingURL=RefreshingAuthSessionManager.esm.js.map\n","import { DefaultAuthConnector } from '../../../../lib/AuthConnector/DefaultAuthConnector.esm.js';\nimport { RefreshingAuthSessionManager } from '../../../../lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js';\nimport 'zen-observable';\nimport '@backstage/core-plugin-api';\n\nconst DEFAULT_PROVIDER = {\n  id: \"oauth2\",\n  title: \"Your Identity Provider\",\n  icon: () => null\n};\nclass OAuth2 {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [],\n      scopeTransform = (x) => x,\n      popupOptions\n    } = options;\n    const connector = new DefaultAuthConnector({\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform({\n        backstageIdentity,\n        ...res\n      }) {\n        const session = {\n          ...res,\n          providerInfo: {\n            idToken: res.providerInfo.idToken,\n            accessToken: res.providerInfo.accessToken,\n            scopes: OAuth2.normalizeScopes(\n              scopeTransform,\n              res.providerInfo.scope\n            ),\n            expiresAt: res.providerInfo.expiresInSeconds ? new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3) : void 0\n          }\n        };\n        if (backstageIdentity) {\n          session.backstageIdentity = {\n            token: backstageIdentity.token,\n            identity: backstageIdentity.identity,\n            expiresAt: backstageIdentity.expiresInSeconds ? new Date(Date.now() + backstageIdentity.expiresInSeconds * 1e3) : void 0\n          };\n        }\n        return session;\n      },\n      popupOptions\n    });\n    const sessionManager = new RefreshingAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes,\n      sessionShouldRefresh: (session) => {\n        let min = Infinity;\n        if (session.providerInfo?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.providerInfo.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        if (session.backstageIdentity?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.backstageIdentity.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        return min < 60 * 5;\n      }\n    });\n    return new OAuth2({ sessionManager, scopeTransform });\n  }\n  sessionManager;\n  scopeTransform;\n  constructor(options) {\n    this.sessionManager = options.sessionManager;\n    this.scopeTransform = options.scopeTransform;\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    const normalizedScopes = OAuth2.normalizeScopes(this.scopeTransform, scope);\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: normalizedScopes\n    });\n    return session?.providerInfo.accessToken ?? \"\";\n  }\n  async getIdToken(options = {}) {\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: /* @__PURE__ */ new Set([\"openid\"])\n    });\n    return session?.providerInfo.idToken ?? \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.profile;\n  }\n  static normalizeScopes(scopeTransform, scopes) {\n    if (!scopes) {\n      return /* @__PURE__ */ new Set();\n    }\n    const scopeList = Array.isArray(scopes) ? scopes : scopes.split(/[\\s|,]/).filter(Boolean);\n    return new Set(scopeTransform(scopeList));\n  }\n}\n\nexport { OAuth2 as default };\n//# sourceMappingURL=OAuth2.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"google\",\n  title: \"Google\",\n  icon: () => null\n};\nconst SCOPE_PREFIX = \"https://www.googleapis.com/auth/\";\nclass GoogleAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\n        \"openid\",\n        `${SCOPE_PREFIX}userinfo.email`,\n        `${SCOPE_PREFIX}userinfo.profile`\n      ]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (scope === \"openid\") {\n            return scope;\n          }\n          if (scope === \"profile\" || scope === \"email\") {\n            return `${SCOPE_PREFIX}userinfo.${scope}`;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { GoogleAuth as default };\n//# sourceMappingURL=GoogleAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"microsoft\",\n  title: \"Microsoft\",\n  icon: () => null\n};\nclass MicrosoftAuth {\n  oauth2;\n  configApi;\n  environment;\n  provider;\n  oauthRequestApi;\n  discoveryApi;\n  scopeTransform;\n  static MicrosoftGraphID = \"00000003-0000-0000-c000-000000000000\";\n  static create(options) {\n    return new MicrosoftAuth(options);\n  }\n  constructor(options) {\n    const {\n      configApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      discoveryApi,\n      defaultScopes = [\n        \"openid\",\n        \"offline_access\",\n        \"profile\",\n        \"email\",\n        \"User.Read\"\n      ],\n      scopeTransform = (scopes) => scopes.concat(\"offline_access\")\n    } = options;\n    this.configApi = configApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.oauthRequestApi = oauthRequestApi;\n    this.discoveryApi = discoveryApi;\n    this.scopeTransform = scopeTransform;\n    this.oauth2 = {\n      [MicrosoftAuth.MicrosoftGraphID]: OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform,\n        defaultScopes\n      })\n    };\n  }\n  microsoftGraph() {\n    return this.oauth2[MicrosoftAuth.MicrosoftGraphID];\n  }\n  static resourceForScopes(scope) {\n    const audiences = [\n      ...new Set(\n        scope.split(\" \").map(MicrosoftAuth.resourceForScope).filter((aud) => aud !== \"openid\")\n      )\n    ];\n    if (audiences.length > 1) {\n      return Promise.reject(\n        new Error(\n          `Requested access token with scopes from multiple Azure resources: ${audiences.join(\n            \", \"\n          )}. Access tokens can only have a single audience.`\n        )\n      );\n    }\n    const audience = audiences[0] ?? MicrosoftAuth.MicrosoftGraphID;\n    return Promise.resolve(audience);\n  }\n  static resourceForScope(scope) {\n    const groups = scope.match(/^(?<resourceURI>.*)\\/(?<scp>[^\\/]*)$/)?.groups;\n    if (groups) {\n      const { resourceURI } = groups;\n      const aud = resourceURI.replace(/^api:\\/\\//, \"\");\n      return aud;\n    }\n    switch (scope) {\n      case \"email\":\n      case \"openid\":\n      case \"offline_access\":\n      case \"profile\": {\n        return \"openid\";\n      }\n      default:\n        return MicrosoftAuth.MicrosoftGraphID;\n    }\n  }\n  async getAccessToken(scope, options) {\n    const aud = scope === void 0 ? MicrosoftAuth.MicrosoftGraphID : await MicrosoftAuth.resourceForScopes(\n      Array.isArray(scope) ? scope.join(\" \") : scope\n    );\n    if (!(aud in this.oauth2)) {\n      this.oauth2[aud] = OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform\n      });\n    }\n    return this.oauth2[aud].getAccessToken(scope, options);\n  }\n  getIdToken(options) {\n    return this.microsoftGraph().getIdToken(options);\n  }\n  getProfile(options) {\n    return this.microsoftGraph().getProfile(options);\n  }\n  getBackstageIdentity(options) {\n    return this.microsoftGraph().getBackstageIdentity(options);\n  }\n  signIn() {\n    return this.microsoftGraph().signIn();\n  }\n  signOut() {\n    return this.microsoftGraph().signOut();\n  }\n  sessionState$() {\n    return this.microsoftGraph().sessionState$();\n  }\n}\n\nexport { MicrosoftAuth as default };\n//# sourceMappingURL=MicrosoftAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"github\",\n  title: \"GitHub\",\n  icon: () => null\n};\nclass GithubAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read:user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GithubAuth as default };\n//# sourceMappingURL=GithubAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"okta\",\n  title: \"Okta\",\n  icon: () => null\n};\nconst OKTA_OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst OKTA_SCOPE_PREFIX = \"okta.\";\nclass OktaAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"openid\", \"email\", \"profile\", \"offline_access\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OKTA_OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(OKTA_SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${OKTA_SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OktaAuth as default };\n//# sourceMappingURL=OktaAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"gitlab\",\n  title: \"GitLab\",\n  icon: () => null\n};\nclass GitlabAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read_user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GitlabAuth as default };\n//# sourceMappingURL=GitlabAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"onelogin\",\n  title: \"onelogin\",\n  icon: () => null\n};\nconst OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst SCOPE_PREFIX = \"onelogin.\";\nclass OneLoginAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OneLoginAuth as default };\n//# sourceMappingURL=OneLoginAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucket\",\n  title: \"Bitbucket\",\n  icon: () => null\n};\nclass BitbucketAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"account\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketAuth as default };\n//# sourceMappingURL=BitbucketAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucketServer\",\n  title: \"Bitbucket Server\",\n  icon: () => null\n};\nclass BitbucketServerAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"PROJECT_ADMIN\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketServerAuth as default };\n//# sourceMappingURL=BitbucketServerAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"atlassian\",\n  title: \"Atlassian\",\n  icon: () => null\n};\nclass AtlassianAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment\n    });\n  }\n}\n\nexport { AtlassianAuth as default };\n//# sourceMappingURL=AtlassianAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"vmwareCloudServices\",\n  title: \"VMware Cloud\",\n  icon: () => null\n};\nclass VMwareCloudAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\"openid\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { VMwareCloudAuth as default };\n//# sourceMappingURL=VMwareCloudAuth.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst permissionApiRef = createApiRef({\n  id: \"plugin.permission.api\"\n});\n\nexport { permissionApiRef };\n//# sourceMappingURL=PermissionApi.esm.js.map\n","var AuthorizeResult = /* @__PURE__ */ ((AuthorizeResult2) => {\n  AuthorizeResult2[\"DENY\"] = \"DENY\";\n  AuthorizeResult2[\"ALLOW\"] = \"ALLOW\";\n  AuthorizeResult2[\"CONDITIONAL\"] = \"CONDITIONAL\";\n  return AuthorizeResult2;\n})(AuthorizeResult || {});\n\nexport { AuthorizeResult };\n//# sourceMappingURL=api.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport fetch from 'cross-fetch';\nimport * as uuid from 'uuid';\nimport { z } from 'zod';\nimport { AuthorizeResult } from './types/api.esm.js';\n\nconst permissionCriteriaSchema = z.lazy(\n  () => z.object({\n    rule: z.string(),\n    resourceType: z.string(),\n    params: z.record(z.any()).optional()\n  }).or(z.object({ anyOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ allOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ not: permissionCriteriaSchema }))\n);\nconst authorizePermissionResponseSchema = z.object({\n  result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n});\nconst queryPermissionResponseSchema = z.union([\n  z.object({\n    result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n  }),\n  z.object({\n    result: z.literal(AuthorizeResult.CONDITIONAL),\n    pluginId: z.string(),\n    resourceType: z.string(),\n    conditions: permissionCriteriaSchema\n  })\n]);\nconst responseSchema = (itemSchema, ids) => z.object({\n  items: z.array(\n    z.intersection(\n      z.object({\n        id: z.string()\n      }),\n      itemSchema\n    )\n  ).refine(\n    (items) => items.length === ids.size && items.every(({ id }) => ids.has(id)),\n    {\n      message: \"Items in response do not match request\"\n    }\n  )\n});\nclass PermissionClient {\n  enabled;\n  discovery;\n  constructor(options) {\n    this.discovery = options.discovery;\n    this.enabled = options.config.getOptionalBoolean(\"permission.enabled\") ?? false;\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorize}\n   */\n  async authorize(requests, options) {\n    return this.makeRequest(\n      requests,\n      authorizePermissionResponseSchema,\n      options\n    );\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorizeConditional}\n   */\n  async authorizeConditional(queries, options) {\n    return this.makeRequest(queries, queryPermissionResponseSchema, options);\n  }\n  async makeRequest(queries, itemSchema, options) {\n    if (!this.enabled) {\n      return queries.map((_) => ({ result: AuthorizeResult.ALLOW }));\n    }\n    const request = {\n      items: queries.map((query) => ({\n        id: uuid.v4(),\n        ...query\n      }))\n    };\n    const permissionApi = await this.discovery.getBaseUrl(\"permission\");\n    const response = await fetch(`${permissionApi}/authorize`, {\n      method: \"POST\",\n      body: JSON.stringify(request),\n      headers: {\n        ...this.getAuthorizationHeader(options?.token),\n        \"content-type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const responseBody = await response.json();\n    const parsedResponse = responseSchema(\n      itemSchema,\n      new Set(request.items.map(({ id }) => id))\n    ).parse(responseBody);\n    const responsesById = parsedResponse.items.reduce((acc, r) => {\n      acc[r.id] = r;\n      return acc;\n    }, {});\n    return request.items.map((query) => responsesById[query.id]);\n  }\n  getAuthorizationHeader(token) {\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  }\n}\n\nexport { PermissionClient };\n//# sourceMappingURL=PermissionClient.esm.js.map\n","import { PermissionClient } from '@backstage/plugin-permission-common';\n\nclass IdentityPermissionApi {\n  constructor(permissionClient, identityApi) {\n    this.permissionClient = permissionClient;\n    this.identityApi = identityApi;\n  }\n  static create(options) {\n    const { config, discovery, identity } = options;\n    const permissionClient = new PermissionClient({ discovery, config });\n    return new IdentityPermissionApi(permissionClient, identity);\n  }\n  async authorize(request) {\n    const response = await this.permissionClient.authorize(\n      [request],\n      await this.identityApi.getCredentials()\n    );\n    return response[0];\n  }\n}\n\nexport { IdentityPermissionApi };\n//# sourceMappingURL=IdentityPermissionApi.esm.js.map\n","import { UrlPatternDiscovery, AlertApiForwarder, NoOpAnalyticsApi, ErrorAlerter, ErrorApiForwarder, UnhandledErrorForwarder, WebStorage, createFetchApi, FetchMiddlewares, OAuthRequestManager, GoogleAuth, MicrosoftAuth, GithubAuth, OktaAuth, GitlabAuth, OneLoginAuth, BitbucketAuth, BitbucketServerAuth, AtlassianAuth, VMwareCloudAuth } from '@backstage/core-app-api';\nimport { createApiFactory, discoveryApiRef, configApiRef, alertApiRef, analyticsApiRef, errorApiRef, storageApiRef, fetchApiRef, identityApiRef, oauthRequestApiRef, googleAuthApiRef, microsoftAuthApiRef, githubAuthApiRef, oktaAuthApiRef, gitlabAuthApiRef, oneloginAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, atlassianAuthApiRef, vmwareCloudAuthApiRef } from '@backstage/core-plugin-api';\nimport { permissionApiRef, IdentityPermissionApi } from '@backstage/plugin-permission-react';\n\nconst apis = [\n  createApiFactory({\n    api: discoveryApiRef,\n    deps: { configApi: configApiRef },\n    factory: ({ configApi }) => UrlPatternDiscovery.compile(\n      `${configApi.getString(\"backend.baseUrl\")}/api/{{ pluginId }}`\n    )\n  }),\n  createApiFactory({\n    api: alertApiRef,\n    deps: {},\n    factory: () => new AlertApiForwarder()\n  }),\n  createApiFactory({\n    api: analyticsApiRef,\n    deps: {},\n    factory: () => new NoOpAnalyticsApi()\n  }),\n  createApiFactory({\n    api: errorApiRef,\n    deps: { alertApi: alertApiRef },\n    factory: ({ alertApi }) => {\n      const errorApi = new ErrorAlerter(alertApi, new ErrorApiForwarder());\n      UnhandledErrorForwarder.forward(errorApi, { hidden: false });\n      return errorApi;\n    }\n  }),\n  createApiFactory({\n    api: storageApiRef,\n    deps: { errorApi: errorApiRef },\n    factory: ({ errorApi }) => WebStorage.create({ errorApi })\n  }),\n  createApiFactory({\n    api: fetchApiRef,\n    deps: {\n      configApi: configApiRef,\n      identityApi: identityApiRef,\n      discoveryApi: discoveryApiRef\n    },\n    factory: ({ configApi, identityApi, discoveryApi }) => {\n      return createFetchApi({\n        middleware: [\n          FetchMiddlewares.resolvePluginProtocol({\n            discoveryApi\n          }),\n          FetchMiddlewares.injectIdentityAuth({\n            identityApi,\n            config: configApi\n          })\n        ]\n      });\n    }\n  }),\n  createApiFactory({\n    api: oauthRequestApiRef,\n    deps: {},\n    factory: () => new OAuthRequestManager()\n  }),\n  createApiFactory({\n    api: googleAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GoogleAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: microsoftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => MicrosoftAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: githubAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GithubAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"read:user\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oktaAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OktaAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: gitlabAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GitlabAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oneloginAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OneLoginAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"account\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketServerAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketServerAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"REPO_READ\"]\n    })\n  }),\n  createApiFactory({\n    api: atlassianAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return AtlassianAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: vmwareCloudAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return VMwareCloudAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: permissionApiRef,\n    deps: {\n      discovery: discoveryApiRef,\n      identity: identityApiRef,\n      config: configApiRef\n    },\n    factory: ({ config, discovery, identity }) => IdentityPermissionApi.create({ config, discovery, identity })\n  })\n];\n\nexport { apis };\n//# sourceMappingURL=apis.esm.js.map\n","import { useAnalytics, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport MaterialLink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { trimEnd } from 'lodash';\nimport React__default from 'react';\nimport { Link as Link$1, createRoutesFromChildren, Route } from 'react-router-dom';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ React__default.createElement(Route, { index: true, element: /* @__PURE__ */ React__default.createElement(\"div\", null) }));\n  return !obj.index;\n}\nconst useStyles = makeStyles(\n  {\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      userSelect: \"none\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    }\n  },\n  { name: \"Link\" }\n);\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  const base = \"http://sample.dev\";\n  const url = useBaseUrl() ?? \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText(node?.props?.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = React__default.forwardRef(\n  ({ onClick, noTrack, ...props }, ref) => {\n    const classes = useStyles();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick?.(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className)\n        },\n        props.children,\n        /* @__PURE__ */ React__default.createElement(Typography, { component: \"span\", className: classes.visuallyHidden }, \", Opens in a new window\")\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nexport { Link, isExternalUri, isReactRouterBeta, useResolvedPath };\n//# sourceMappingURL=Link.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst coreComponentsTranslationRef = createTranslationRef({\n  id: \"core-components\",\n  messages: {\n    signIn: {\n      title: \"Sign In\",\n      loginFailed: \"Login failed\",\n      customProvider: {\n        title: \"Custom User\",\n        subtitle: \"Enter your own User ID and credentials.\\n This selection will not be stored.\",\n        userId: \"User ID\",\n        tokenInvalid: \"Token is not a valid OpenID Connect JWT Token\",\n        continue: \"Continue\",\n        idToken: \"ID Token (optional)\"\n      },\n      guestProvider: {\n        title: \"Guest\",\n        subtitle: \"Enter as a Guest User.\\n You will not have a verified identity, meaning some features might be unavailable.\",\n        enter: \"Enter\"\n      }\n    },\n    skipToContent: \"Skip to content\",\n    copyTextButton: {\n      tooltipText: \"Text copied to clipboard\"\n    },\n    simpleStepper: {\n      reset: \"Reset\",\n      finish: \"Finish\",\n      next: \"Next\",\n      skip: \"Skip\",\n      back: \"Back\"\n    },\n    errorPage: {\n      subtitle: \"ERROR {{status}}: {{statusMessage}}\",\n      title: \"Looks like someone dropped the mic!\",\n      goBack: \"Go back\",\n      showMoreDetails: \"Show more details\",\n      showLessDetails: \"Show less details\"\n    },\n    emptyState: {\n      missingAnnotation: {\n        title: \"Missing Annotation\",\n        actionTitle: \"Add the annotation to your component YAML as shown in the highlighted example below:\",\n        readMore: \"Read more\"\n      }\n    },\n    supportConfig: {\n      default: {\n        title: \"Support Not Configured\",\n        linkTitle: \"Add `app.support` config key\"\n      }\n    },\n    errorBoundary: {\n      title: \"Please contact {{slackChannel}} for help.\"\n    },\n    oauthRequestDialog: {\n      title: \"Login Required\",\n      authRedirectTitle: \"This will trigger a http redirect to OAuth Login.\",\n      login: \"Log in\",\n      rejectAll: \"Reject All\"\n    },\n    supportButton: {\n      title: \"Support\",\n      close: \"Close\"\n    },\n    table: {\n      filter: {\n        title: \"Filters\",\n        clearAll: \"Clear all\"\n      }\n    },\n    alertDisplay: {\n      message_one: \"({{ count }} older message)\",\n      message_other: \"({{ count }} older messages)\"\n    },\n    autoLogout: {\n      stillTherePrompt: {\n        title: \"Logging out due to inactivity\",\n        buttonText: \"Yes! Don't log me out\"\n      }\n    },\n    proxiedSignInPage: {\n      title: \"You do not appear to be signed in. Please try reloading the browser page.\"\n    }\n  }\n});\n\nexport { coreComponentsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { useApiHolder, configApiRef } from '@backstage/core-plugin-api';\nimport { coreComponentsTranslationRef } from '../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useDefaultSupportConfig = () => {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return {\n    url: \"https://github.com/backstage/backstage/issues\",\n    items: [\n      {\n        title: t(\"supportConfig.default.title\"),\n        icon: \"warning\",\n        links: [\n          {\n            // TODO: Update to dedicated support page on backstage.io/docs\n            title: t(\"supportConfig.default.linkTitle\"),\n            url: \"https://github.com/backstage/backstage/blob/master/app-config.yaml\"\n          }\n        ]\n      }\n    ]\n  };\n};\nfunction useSupportConfig() {\n  const apiHolder = useApiHolder();\n  const config = apiHolder.get(configApiRef);\n  const supportConfig = config?.getOptionalConfig(\"app.support\");\n  const defaultSupportConfig = useDefaultSupportConfig();\n  if (!supportConfig) {\n    return defaultSupportConfig;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => ({\n      title: itemConf.getString(\"title\"),\n      icon: itemConf.getOptionalString(\"icon\"),\n      links: (itemConf.getOptionalConfigArray(\"links\") ?? []).flatMap(\n        (linkConf) => ({\n          url: linkConf.getString(\"url\"),\n          title: linkConf.getString(\"title\")\n        })\n      )\n    }))\n  };\n}\n\nexport { useSupportConfig };\n//# sourceMappingURL=useSupportConfig.esm.js.map\n","import React__default from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MicDropSvgUrl from './mic-drop.svg';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    micDrop: {\n      maxWidth: \"60%\",\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"96%\",\n        bottom: \"unset\",\n        right: \"unset\",\n        margin: theme.spacing(10, \"auto\", 4)\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageMicDrop\" }\n);\nconst MicDrop = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    \"img\",\n    {\n      src: MicDropSvgUrl,\n      className: classes.micDrop,\n      alt: \"Girl dropping mic from her hands\"\n    }\n  );\n};\n\nexport { MicDrop };\n//# sourceMappingURL=MicDrop.esm.js.map\n","import { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport React__default, { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction CopyTextButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = t(\"copyTextButton.tooltipText\"),\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open\n    },\n    /* @__PURE__ */ React__default.createElement(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel }, /* @__PURE__ */ React__default.createElement(CopyIcon, null))\n  ));\n}\n\nexport { CopyTextButton };\n//# sourceMappingURL=CopyTextButton.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default from 'react';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React__default.createElement(Box, { position: \"relative\" }, /* @__PURE__ */ React__default.createElement(\n    LightAsync,\n    {\n      customStyle,\n      language,\n      style: mode,\n      showLineNumbers,\n      wrapLines: true,\n      lineNumberStyle: { color: theme.palette.textVerySubtle },\n      lineProps: (lineNumber) => highlightedNumbers?.includes(lineNumber) ? {\n        style: {\n          backgroundColor: highlightColor\n        }\n      } : {}\n    },\n    text\n  ), showCopyCodeButton && /* @__PURE__ */ React__default.createElement(Box, { position: \"absolute\", top: 0, right: 0 }, /* @__PURE__ */ React__default.createElement(CopyTextButton, { text })));\n}\n\nexport { CodeSnippet };\n//# sourceMappingURL=CodeSnippet.esm.js.map\n","import Typography from '@material-ui/core/Typography';\nimport React__default, { useState } from 'react';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/core/Snackbar';\nimport '@material-ui/icons/Close';\nimport '@material-ui/lab/Alert';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport 'react-idle-timer';\nimport '@material-ui/core/Button';\nimport '@material-ui/core/Dialog';\nimport '@material-ui/core/DialogActions';\nimport '@material-ui/core/DialogContent';\nimport '@material-ui/core/DialogContentText';\nimport '@material-ui/core/DialogTitle';\nimport '../../components/Avatar/Avatar.esm.js';\nimport '../../components/LinkButton/LinkButton.esm.js';\nimport { CodeSnippet } from '../../components/CodeSnippet/CodeSnippet.esm.js';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/FileCopy';\nimport 'react-use/esm/useCopyToClipboard';\nimport '@material-ui/core/useMediaQuery';\nimport 'react-router-dom';\nimport '@material-ui/icons/AddCircleOutline';\nimport 'd3-zoom';\nimport 'd3-selection';\nimport '@material-ui/core/styles/useTheme';\nimport 'dagre';\nimport 'lodash/debounce';\nimport '../../components/DependencyGraph/types.esm.js';\nimport '../../components/DependencyGraph/Node.esm.js';\nimport '../../components/DependencyGraph/Edge.esm.js';\nimport '../../components/DismissableBanner/DismissableBanner.esm.js';\nimport '../../components/EmptyState/EmptyState.esm.js';\nimport '../../components/EmptyState/MissingAnnotationEmptyState.esm.js';\nimport '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport '../../components/ResponseErrorPanel/ResponseErrorPanel.esm.js';\nimport '../../components/FeatureDiscovery/FeatureCalloutCircular.esm.js';\nimport '../../components/HeaderIconLinkRow/HeaderIconLinkRow.esm.js';\nimport '../../components/HeaderIconLinkRow/IconLinkVertical.esm.js';\nimport '../../components/HorizontalScrollGrid/HorizontalScrollGrid.esm.js';\nimport '../../components/Lifecycle/Lifecycle.esm.js';\nimport '../../components/LogViewer/LogViewer.esm.js';\nimport '../../components/MarkdownContent/MarkdownContent.esm.js';\nimport '../../components/OAuthRequestDialog/OAuthRequestDialog.esm.js';\nimport '../../components/OverflowTooltip/OverflowTooltip.esm.js';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/LinearProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport '../../components/ProgressBars/GaugeCard.esm.js';\nimport '../../components/ProgressBars/Gauge.esm.js';\nimport 'rc-progress';\nimport '../../components/Select/Select.esm.js';\nimport '../../components/SimpleStepper/SimpleStepper.esm.js';\nimport '../../components/SimpleStepper/SimpleStepperStep.esm.js';\nimport '../../components/Status/Status.esm.js';\nimport '../../components/StructuredMetadataTable/StructuredMetadataTable.esm.js';\nimport '../../components/SupportButton/SupportButton.esm.js';\nimport '../../components/TabbedLayout/TabbedLayout.esm.js';\nimport 'react-helmet';\nimport '../Content/Content.esm.js';\nimport '../HeaderTabs/HeaderTabs.esm.js';\nimport '../../components/Table/SubvalueCell.esm.js';\nimport '../../components/Table/Table.esm.js';\nimport 'react-sparklines';\nimport '../../components/WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageStackDetails\" }\n);\nfunction StackDetails(props) {\n  const { stack } = props;\n  const classes = useStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [detailsOpen, setDetailsOpen] = useState(false);\n  if (!detailsOpen) {\n    return /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h6\", className: classes.title }, /* @__PURE__ */ React__default.createElement(Link, { to: \"#\", onClick: () => setDetailsOpen(true) }, t(\"errorPage.showMoreDetails\")));\n  }\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h6\", className: classes.title }, /* @__PURE__ */ React__default.createElement(Link, { to: \"#\", onClick: () => setDetailsOpen(false) }, t(\"errorPage.showLessDetails\"))), /* @__PURE__ */ React__default.createElement(\n    CodeSnippet,\n    {\n      text: stack,\n      language: \"text\",\n      showCopyCodeButton: true,\n      showLineNumbers: true\n    }\n  ));\n}\n\nexport { StackDetails };\n//# sourceMappingURL=StackDetails.esm.js.map\n","import Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport 'lodash';\nimport 'qs';\nimport '@react-hookz/web';\nimport { useSupportConfig } from '../../hooks/useSupportConfig.esm.js';\nimport { MicDrop } from './MicDrop.esm.js';\nimport { StackDetails } from './StackDetails.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(2)\n      }\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    },\n    subtitle: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageErrorPage\" }\n);\nfunction ErrorPage(props) {\n  const {\n    status = \"\",\n    statusMessage,\n    additionalInfo,\n    supportUrl,\n    stack\n  } = props;\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return /* @__PURE__ */ React__default.createElement(Grid, { container: true, className: classes.container }, /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12, sm: 8, md: 4 }, /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      \"data-testid\": \"error\",\n      variant: \"body1\",\n      className: classes.subtitle\n    },\n    t(\"errorPage.subtitle\", { status, statusMessage })\n  ), /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\", className: classes.subtitle }, additionalInfo), /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h2\", className: classes.title }, t(\"errorPage.title\")), /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h6\", className: classes.title }, /* @__PURE__ */ React__default.createElement(Link, { to: \"#\", \"data-testid\": \"go-back-link\", onClick: () => navigate(-1) }, t(\"errorPage.goBack\")), \"... or please\", \" \", /* @__PURE__ */ React__default.createElement(Link, { to: supportUrl || support.url }, \"contact support\"), \" if you think this is a bug.\"), stack && /* @__PURE__ */ React__default.createElement(StackDetails, { stack })), /* @__PURE__ */ React__default.createElement(MicDrop, null));\n}\n\nexport { ErrorPage };\n//# sourceMappingURL=ErrorPage.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport React__default from 'react';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    markdown: {\n      \"& table\": {\n        borderCollapse: \"collapse\",\n        border: `1px solid ${theme.palette.border}`\n      },\n      \"& th, & td\": {\n        border: `1px solid ${theme.palette.border}`,\n        padding: theme.spacing(1)\n      },\n      \"& td\": {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      \"& th\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr:nth-child(odd)\": {\n        backgroundColor: theme.palette.background.default\n      },\n      \"& a\": {\n        color: theme.palette.link\n      },\n      \"& img\": {\n        maxWidth: \"100%\"\n      }\n    }\n  }),\n  { name: \"BackstageMarkdownContent\" }\n);\nconst flatten = (text, child) => {\n  if (!child) return text;\n  return typeof child === \"string\" ? text + child : React__default.Children.toArray(child.props.children).reduce(flatten, text);\n};\nconst headingRenderer = ({ level, children }) => {\n  const childrenArray = React__default.Children.toArray(children);\n  const text = childrenArray.reduce(flatten, \"\");\n  const slug = text.toLocaleLowerCase(\"en-US\").replace(/\\W/g, \"-\");\n  return React__default.createElement(`h${level}`, { id: slug }, children);\n};\nconst components = {\n  code: ({ inline, className, children, ...props }) => {\n    const text = String(children).replace(/\\n+$/, \"\");\n    const match = /language-(\\w+)/.exec(className || \"\");\n    return !inline && match ? /* @__PURE__ */ React__default.createElement(CodeSnippet, { language: match[1], text }) : /* @__PURE__ */ React__default.createElement(\"code\", { className, ...props }, children);\n  },\n  h1: headingRenderer,\n  h2: headingRenderer,\n  h3: headingRenderer,\n  h4: headingRenderer,\n  h5: headingRenderer,\n  h6: headingRenderer\n};\nfunction MarkdownContent(props) {\n  const {\n    content,\n    dialect = \"gfm\",\n    linkTarget,\n    transformLinkUri,\n    transformImageUri,\n    className\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    ReactMarkdown,\n    {\n      remarkPlugins: dialect === \"gfm\" ? [gfm] : [],\n      className: `${classes.markdown} ${className ?? \"\"}`.trim(),\n      children: content,\n      components,\n      linkTarget,\n      transformLinkUri,\n      transformImageUri\n    }\n  );\n}\n\nexport { MarkdownContent };\n//# sourceMappingURL=MarkdownContent.esm.js.map\n","import { makeStyles, darken, lighten } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport React__default from 'react';\nimport { MarkdownContent } from '../MarkdownContent/MarkdownContent.esm.js';\n\nconst getWarningTextColor = (severity, theme) => {\n  const getColor = theme.palette.type === \"light\" ? darken : lighten;\n  return getColor(theme.palette[severity].light, 0.6);\n};\nconst getWarningBackgroundColor = (severity, theme) => {\n  const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken;\n  return getBackgroundColor(theme.palette[severity].light, 0.9);\n};\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: ({ severity }) => getWarningTextColor(\n      severity,\n      theme\n    )\n  }\n}));\nconst ErrorOutlineStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React__default.createElement(ErrorOutline, { classes });\n};\nconst ExpandMoreIconStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React__default.createElement(ExpandMoreIcon, { classes });\n};\nconst useStyles = makeStyles(\n  (theme) => ({\n    panel: {\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      ),\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      verticalAlign: \"middle\"\n    },\n    summary: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    summaryText: {\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      fontWeight: theme.typography.fontWeightBold\n    },\n    markdownContent: {\n      \"& p\": {\n        display: \"inline\"\n      }\n    },\n    message: {\n      width: \"100%\",\n      display: \"block\",\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      )\n    },\n    details: {\n      width: \"100%\",\n      display: \"block\",\n      color: theme.palette.textContrast,\n      backgroundColor: theme.palette.background.default,\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(2),\n      fontFamily: \"sans-serif\"\n    }\n  }),\n  { name: \"BackstageWarningPanel\" }\n);\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nfunction WarningPanel(props) {\n  const {\n    severity = \"warning\",\n    title,\n    titleFormat,\n    message,\n    children,\n    defaultExpanded\n  } = props;\n  const classes = useStyles({ severity });\n  const subTitle = capitalize(severity) + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ React__default.createElement(\n    Accordion,\n    {\n      defaultExpanded: defaultExpanded ?? false,\n      className: classes.panel,\n      role: \"alert\"\n    },\n    /* @__PURE__ */ React__default.createElement(\n      AccordionSummary,\n      {\n        expandIcon: /* @__PURE__ */ React__default.createElement(ExpandMoreIconStyled, { severity }),\n        className: classes.summary\n      },\n      /* @__PURE__ */ React__default.createElement(ErrorOutlineStyled, { severity }),\n      /* @__PURE__ */ React__default.createElement(Typography, { className: classes.summaryText, variant: \"subtitle1\" }, titleFormat === \"markdown\" ? /* @__PURE__ */ React__default.createElement(\n        MarkdownContent,\n        {\n          content: subTitle,\n          className: classes.markdownContent\n        }\n      ) : subTitle)\n    ),\n    (message || children) && /* @__PURE__ */ React__default.createElement(AccordionDetails, null, /* @__PURE__ */ React__default.createElement(Grid, { container: true }, message && /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12 }, /* @__PURE__ */ React__default.createElement(Typography, { className: classes.message, variant: \"body1\" }, message)), children && /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12, className: classes.details }, children)))\n  );\n}\n\nexport { WarningPanel };\n//# sourceMappingURL=WarningPanel.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React__default from 'react';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { WarningPanel } from '../WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageErrorPanel\" }\n);\nconst ErrorList = ({\n  error,\n  message,\n  stack,\n  children\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(List, { dense: true }, /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Error\",\n      secondary: error\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: error })), /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Message\",\n      secondary: message\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: message })), stack && /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Stack Trace\",\n      secondary: stack\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: stack })), children);\n};\nfunction ErrorPanel(props) {\n  const { title, error, defaultExpanded, titleFormat, children } = props;\n  return /* @__PURE__ */ React__default.createElement(\n    WarningPanel,\n    {\n      severity: \"error\",\n      title: title ?? error.message,\n      defaultExpanded,\n      titleFormat\n    },\n    /* @__PURE__ */ React__default.createElement(\n      ErrorList,\n      {\n        error: error.name,\n        message: error.message,\n        stack: error.stack,\n        children\n      }\n    )\n  );\n}\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default, { useState, useEffect } from 'react';\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ React__default.createElement(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ React__default.createElement(Box, { display: \"none\" });\n}\n\nexport { Progress };\n//# sourceMappingURL=Progress.esm.js.map\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { Progress, ErrorPage, ErrorPanel } from '@backstage/core-components';\nimport { BrowserRouter, useInRouterContext, MemoryRouter } from 'react-router-dom';\n\nfunction OptionallyWrapInRouter({ children }) {\n  if (useInRouterContext()) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return /* @__PURE__ */ React.createElement(MemoryRouter, null, children);\n}\nconst DefaultNotFoundPage = () => /* @__PURE__ */ React.createElement(ErrorPage, { status: \"404\", statusMessage: \"PAGE NOT FOUND\" });\nconst DefaultBootErrorPage = ({ step, error }) => {\n  let message = \"\";\n  if (step === \"load-config\") {\n    message = `The configuration failed to load, someone should have a look at this error: ${error.message}`;\n  } else if (step === \"load-chunk\") {\n    message = `Lazy loaded chunk failed to load, try to reload the page: ${error.message}`;\n  }\n  return /* @__PURE__ */ React.createElement(OptionallyWrapInRouter, null, /* @__PURE__ */ React.createElement(ErrorPage, { statusMessage: message, stack: error.stack }));\n};\nconst DefaultErrorBoundaryFallback = ({\n  error,\n  resetError,\n  plugin\n}) => {\n  return /* @__PURE__ */ React.createElement(\n    ErrorPanel,\n    {\n      title: `Error in ${plugin?.getId()}`,\n      defaultExpanded: true,\n      error\n    },\n    /* @__PURE__ */ React.createElement(Button, { variant: \"outlined\", onClick: resetError }, \"Retry\")\n  );\n};\nconst components = {\n  Progress,\n  Router: BrowserRouter,\n  NotFoundErrorPage: DefaultNotFoundPage,\n  BootErrorPage: DefaultBootErrorPage,\n  ErrorBoundaryFallback: DefaultErrorBoundaryFallback\n};\n\nexport { OptionallyWrapInRouter, components };\n//# sourceMappingURL=components.esm.js.map\n","import MuiApartmentIcon from '@material-ui/icons/Apartment';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport MuiCategoryIcon from '@material-ui/icons/Category';\nimport MuiCreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiSubjectIcon from '@material-ui/icons/Subject';\nimport MuiSearchIcon from '@material-ui/icons/Search';\nimport MuiChatIcon from '@material-ui/icons/Chat';\nimport MuiDashboardIcon from '@material-ui/icons/Dashboard';\nimport MuiDocsIcon from '@material-ui/icons/Description';\nimport MuiEmailIcon from '@material-ui/icons/Email';\nimport MuiExtensionIcon from '@material-ui/icons/Extension';\nimport MuiGitHubIcon from '@material-ui/icons/GitHub';\nimport MuiHelpIcon from '@material-ui/icons/Help';\nimport MuiLocationOnIcon from '@material-ui/icons/LocationOn';\nimport MuiMemoryIcon from '@material-ui/icons/Memory';\nimport MuiMenuBookIcon from '@material-ui/icons/MenuBook';\nimport MuiPeopleIcon from '@material-ui/icons/People';\nimport MuiPersonIcon from '@material-ui/icons/Person';\nimport MuiWarningIcon from '@material-ui/icons/Warning';\nimport MuiStorageIcon from '@material-ui/icons/Storage';\nimport MuiFeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\n\nconst icons = {\n  brokenImage: MuiBrokenImageIcon,\n  // To be confirmed: see https://github.com/backstage/backstage/issues/4970\n  catalog: MuiMenuBookIcon,\n  scaffolder: MuiCreateNewFolderIcon,\n  techdocs: MuiSubjectIcon,\n  search: MuiSearchIcon,\n  chat: MuiChatIcon,\n  dashboard: MuiDashboardIcon,\n  docs: MuiDocsIcon,\n  email: MuiEmailIcon,\n  github: MuiGitHubIcon,\n  group: MuiPeopleIcon,\n  help: MuiHelpIcon,\n  \"kind:api\": MuiExtensionIcon,\n  \"kind:component\": MuiMemoryIcon,\n  \"kind:domain\": MuiApartmentIcon,\n  \"kind:group\": MuiPeopleIcon,\n  \"kind:location\": MuiLocationOnIcon,\n  \"kind:system\": MuiCategoryIcon,\n  \"kind:user\": MuiPersonIcon,\n  \"kind:resource\": MuiStorageIcon,\n  \"kind:template\": MuiFeaturedPlayListIcon,\n  user: MuiPersonIcon,\n  warning: MuiWarningIcon\n};\n\nexport { icons };\n//# sourceMappingURL=icons.esm.js.map\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { createGenerateClassName, StylesProvider, ThemeProvider } from '@material-ui/core/styles';\nimport { StyledEngineProvider, ThemeProvider as ThemeProvider$1 } from '@mui/material/styles';\nimport { unstable_ClassNameGenerator } from '@mui/material/className';\n\nunstable_ClassNameGenerator.configure((componentName) => {\n  return `v5-${componentName}`;\n});\nconst generateV4ClassName = createGenerateClassName({\n  productionPrefix: \"jss4-\"\n});\nfunction UnifiedThemeProvider(props) {\n  const { children, theme, noCssBaseline = false } = props;\n  const v4Theme = theme.getTheme(\"v4\");\n  const v5Theme = theme.getTheme(\"v5\");\n  let cssBaseline = void 0;\n  if (!noCssBaseline) {\n    cssBaseline = /* @__PURE__ */ React.createElement(CssBaseline, null);\n  }\n  let result = /* @__PURE__ */ React.createElement(React.Fragment, null, cssBaseline, children);\n  if (v4Theme) {\n    result = /* @__PURE__ */ React.createElement(StylesProvider, { generateClassName: generateV4ClassName }, /* @__PURE__ */ React.createElement(ThemeProvider, { theme: v4Theme }, result));\n  }\n  if (v5Theme) {\n    result = /* @__PURE__ */ React.createElement(StyledEngineProvider, { injectFirst: true }, /* @__PURE__ */ React.createElement(ThemeProvider$1, { theme: v5Theme }, result));\n  }\n  return result;\n}\n\nexport { UnifiedThemeProvider };\n//# sourceMappingURL=UnifiedThemeProvider.esm.js.map\n","const palettes = {\n  light: {\n    type: \"light\",\n    mode: \"light\",\n    background: {\n      default: \"#F8F8F8\",\n      paper: \"#FFFFFF\"\n    },\n    status: {\n      ok: \"#1DB954\",\n      warning: \"#FF9800\",\n      error: \"#E22134\",\n      running: \"#1F5493\",\n      pending: \"#FFED51\",\n      aborted: \"#757575\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#1F5493\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#000000\",\n    textVerySubtle: \"#DDD\",\n    textSubtle: \"#6E6E6E\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#2196F3\",\n    link: \"#0A6EBE\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#171717\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#181818\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  dark: {\n    type: \"dark\",\n    mode: \"dark\",\n    background: {\n      default: \"#333333\",\n      paper: \"#424242\"\n    },\n    status: {\n      ok: \"#71CF88\",\n      warning: \"#FFB84D\",\n      error: \"#F84C55\",\n      running: \"#3488E3\",\n      pending: \"#FEF071\",\n      aborted: \"#9E9E9E\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#9CC9FF\",\n      dark: \"#82BAFD\"\n    },\n    secondary: {\n      main: \"#FF88B2\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#FFFFFF\",\n    textVerySubtle: \"#727272\",\n    textSubtle: \"#CCCCCC\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#82BAFD\",\n    link: \"#9CC9FF\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#424242\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#404040\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  }\n};\n\nexport { palettes };\n//# sourceMappingURL=palettes.esm.js.map\n","const shapes = {\n  wave: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  wave2: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  round: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`\n};\nconst colorVariants = {\n  darkGrey: [\"#171717\", \"#383838\"],\n  marineBlue: [\"#006D8F\", \"#0049A1\"],\n  veryBlue: [\"#0027AF\", \"#270094\"],\n  rubyRed: [\"#98002B\", \"#8D1134\"],\n  toastyOrange: [\"#BE2200\", \"#A41D00\"],\n  purpleSky: [\"#8912CA\", \"#3E00EA\"],\n  eveningSea: [\"#00FFF2\", \"#035355\"],\n  teal: [\"#005B4B\"],\n  pinkSea: [\"#C8077A\", \"#C2297D\"],\n  greens: [\"#4BB8A5\", \"#187656\"]\n};\nfunction genPageTheme(props) {\n  const { colors, shape, options } = props;\n  const gradientColors = colors.length === 1 ? [colors[0], colors[0]] : colors;\n  const gradient = `linear-gradient(90deg, ${gradientColors.join(\", \")})`;\n  const backgroundImage = `${shape},  ${gradient}`;\n  const fontColor = options?.fontColor ?? \"#FFFFFF\";\n  return {\n    colors,\n    shape,\n    backgroundImage,\n    fontColor\n  };\n}\nconst pageTheme = {\n  home: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave }),\n  documentation: genPageTheme({\n    colors: colorVariants.pinkSea,\n    shape: shapes.wave2\n  }),\n  tool: genPageTheme({ colors: colorVariants.purpleSky, shape: shapes.round }),\n  service: genPageTheme({\n    colors: colorVariants.marineBlue,\n    shape: shapes.wave\n  }),\n  website: genPageTheme({ colors: colorVariants.veryBlue, shape: shapes.wave }),\n  library: genPageTheme({ colors: colorVariants.rubyRed, shape: shapes.wave }),\n  other: genPageTheme({ colors: colorVariants.darkGrey, shape: shapes.wave }),\n  app: genPageTheme({ colors: colorVariants.toastyOrange, shape: shapes.wave }),\n  apis: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave2 }),\n  card: genPageTheme({ colors: colorVariants.greens, shape: shapes.wave })\n};\n\nexport { colorVariants, genPageTheme, pageTheme, shapes };\n//# sourceMappingURL=pageTheme.esm.js.map\n","import { pageTheme } from './pageTheme.esm.js';\n\nconst DEFAULT_HTML_FONT_SIZE = 16;\nconst DEFAULT_FONT_FAMILY = '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif';\nconst DEFAULT_PAGE_THEME = \"home\";\nconst defaultTypography = {\n  htmlFontSize: DEFAULT_HTML_FONT_SIZE,\n  fontFamily: DEFAULT_FONT_FAMILY,\n  h1: {\n    fontSize: 54,\n    fontWeight: 700,\n    marginBottom: 10\n  },\n  h2: {\n    fontSize: 40,\n    fontWeight: 700,\n    marginBottom: 8\n  },\n  h3: {\n    fontSize: 32,\n    fontWeight: 700,\n    marginBottom: 6\n  },\n  h4: {\n    fontWeight: 700,\n    fontSize: 28,\n    marginBottom: 6\n  },\n  h5: {\n    fontWeight: 700,\n    fontSize: 24,\n    marginBottom: 4\n  },\n  h6: {\n    fontWeight: 700,\n    fontSize: 20,\n    marginBottom: 2\n  }\n};\nfunction createBaseThemeOptions(options) {\n  const {\n    palette,\n    htmlFontSize = DEFAULT_HTML_FONT_SIZE,\n    fontFamily = DEFAULT_FONT_FAMILY,\n    defaultPageTheme = DEFAULT_PAGE_THEME,\n    pageTheme: pageTheme$1 = pageTheme,\n    typography\n  } = options;\n  if (!pageTheme$1[defaultPageTheme]) {\n    throw new Error(`${defaultPageTheme} is not defined in pageTheme.`);\n  }\n  defaultTypography.htmlFontSize = htmlFontSize;\n  defaultTypography.fontFamily = fontFamily;\n  return {\n    palette,\n    typography: typography ?? defaultTypography,\n    page: pageTheme$1[defaultPageTheme],\n    getPageTheme: ({ themeId }) => pageTheme$1[themeId] ?? pageTheme$1[defaultPageTheme]\n  };\n}\n\nexport { createBaseThemeOptions, defaultTypography };\n//# sourceMappingURL=createBaseThemeOptions.esm.js.map\n","import { lighten, darken } from '@mui/material/styles';\n\nconst defaultComponentThemes = {\n  MuiCssBaseline: {\n    styleOverrides: (theme) => ({\n      html: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily\n      },\n      body: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily,\n        overscrollBehaviorY: \"none\",\n        fontSize: \"0.875rem\",\n        lineHeight: 1.43,\n        \"&::-webkit-scrollbar, & *::-webkit-scrollbar\": {\n          backgroundColor: theme.palette.background.paper,\n          width: \"1em\"\n        },\n        \"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb\": {\n          borderRadius: 8,\n          backgroundColor: theme.palette.textVerySubtle,\n          border: `3px solid ${theme.palette.background.paper}`\n        },\n        \"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        },\n        \"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        }\n      },\n      a: {\n        color: \"inherit\",\n        textDecoration: \"none\"\n      }\n    })\n  },\n  MuiGrid: {\n    defaultProps: {\n      spacing: 2\n    }\n  },\n  MuiSwitch: {\n    defaultProps: {\n      color: \"primary\"\n    }\n  },\n  MuiTableRow: {\n    styleOverrides: {\n      // Alternating row backgrounds\n      root: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.default\n        }\n      }),\n      // Use pointer for hoverable rows\n      hover: {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      // Alternating head backgrounds\n      head: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.paper\n        }\n      })\n    }\n  },\n  // Tables are more dense than default mui tables\n  MuiTableCell: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      }),\n      sizeSmall: ({ theme }) => ({\n        padding: theme.spacing(1.5, 2, 1.5, 2.5)\n      }),\n      head: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        color: theme.palette.textSubtle,\n        fontWeight: \"normal\",\n        lineHeight: \"1\"\n      })\n    }\n  },\n  MuiTabs: {\n    styleOverrides: {\n      // Tabs are smaller than default mui tab rows\n      root: {\n        minHeight: 24\n      }\n    }\n  },\n  MuiTab: {\n    styleOverrides: {\n      // Tabs are smaller and have a hover background\n      root: ({ theme }) => ({\n        color: theme.palette.link,\n        minHeight: 24,\n        textTransform: \"initial\",\n        letterSpacing: \"0.07em\",\n        \"&:hover\": {\n          color: darken(theme.palette.link, 0.3),\n          background: lighten(theme.palette.link, 0.95)\n        },\n        [theme.breakpoints.up(\"md\")]: {\n          minWidth: 120,\n          fontSize: theme.typography.pxToRem(14),\n          fontWeight: 500\n        }\n      }),\n      textColorPrimary: ({ theme }) => ({\n        color: theme.palette.link\n      })\n    }\n  },\n  MuiTableSortLabel: {\n    styleOverrides: {\n      // No color change on hover, just rely on the arrow showing up instead.\n      root: {\n        color: \"inherit\",\n        \"&:hover\": {\n          color: \"inherit\"\n        },\n        \"&:focus\": {\n          color: \"inherit\"\n        },\n        // Bold font for highlighting selected column\n        \"&.Mui-active\": {\n          fontWeight: \"bold\",\n          color: \"inherit\"\n        }\n      }\n    }\n  },\n  MuiListItemText: {\n    styleOverrides: {\n      dense: {\n        // Default dense list items to adding ellipsis for really long str...\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      }\n    }\n  },\n  MuiButton: {\n    styleOverrides: {\n      text: {\n        // Text buttons have less padding by default, but we want to keep the original padding\n        padding: void 0\n      }\n    }\n  },\n  MuiChip: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        // By default there's no margin, but it's usually wanted, so we add some trailing margin\n        marginRight: theme.spacing(1),\n        marginBottom: theme.spacing(1)\n      }),\n      label: ({ theme }) => ({\n        lineHeight: theme.spacing(2.5),\n        fontWeight: theme.typography.fontWeightMedium,\n        fontSize: theme.spacing(1.75)\n      }),\n      labelSmall: ({ theme }) => ({\n        fontSize: theme.spacing(1.5)\n      }),\n      deleteIcon: ({ theme }) => ({\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(0, 0.75, 0, -0.75)\n      }),\n      deleteIconSmall: ({ theme }) => ({\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, 0.5, 0, -0.5)\n      })\n    }\n  },\n  MuiCard: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        display: \"flex\",\n        flexDirection: \"column\"\n      }\n    }\n  },\n  MuiCardHeader: {\n    styleOverrides: {\n      root: {\n        // Reduce padding between header and content\n        paddingBottom: 0\n      }\n    }\n  },\n  MuiCardContent: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        flexGrow: 1,\n        \"&:last-child\": {\n          paddingBottom: void 0\n        }\n      }\n    }\n  },\n  MuiCardActions: {\n    styleOverrides: {\n      root: {\n        // We default to putting the card actions at the end\n        justifyContent: \"flex-end\"\n      }\n    }\n  },\n  MuiLink: {\n    defaultProps: {\n      underline: \"hover\"\n    }\n  },\n  MuiPaper: {\n    styleOverrides: { root: { backgroundImage: \"unset\" } }\n  }\n};\n\nexport { defaultComponentThemes };\n//# sourceMappingURL=defaultComponentThemes.esm.js.map\n","const __v5Spacing = (defaultSpacing) => (...argsInput) => {\n  const args = argsInput.length === 0 ? [1] : argsInput;\n  const transform = (argument, themeSpacing) => {\n    if (typeof argument === \"string\") {\n      return argument;\n    }\n    return themeSpacing * argument;\n  };\n  return args.map((argument) => {\n    const output = transform(argument, defaultSpacing);\n    return typeof output === \"number\" ? `${output}px` : output;\n  }).join(\" \");\n};\nfunction adaptV5CssBaselineOverride(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  const styles = typeof overrides === \"function\" ? overrides(theme) : overrides;\n  if (styles) {\n    return { \"@global\": styles };\n  }\n  return void 0;\n}\nfunction adaptV5Override(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  if (typeof overrides === \"object\") {\n    const _theme = { ...theme };\n    const defaultSpacing = theme.spacing(1);\n    if (typeof defaultSpacing === \"number\") {\n      _theme.spacing = __v5Spacing(defaultSpacing);\n    }\n    return Object.fromEntries(\n      Object.entries(overrides).map(([className, style]) => {\n        if (typeof style === \"function\") {\n          return [className, style({ theme: _theme })];\n        }\n        return [className, style];\n      })\n    );\n  }\n  return overrides;\n}\nconst stateStyleKeyPattern = /^&.Mui-([\\w-]+)$/;\nfunction extractV5StateOverrides(overrides) {\n  let output = overrides;\n  if (!overrides || typeof overrides !== \"object\") {\n    return output;\n  }\n  for (const className of Object.keys(overrides)) {\n    const styles = overrides[className];\n    if (!styles || typeof styles !== \"object\") {\n      continue;\n    }\n    for (const _styleKey of Object.keys(styles)) {\n      const styleKey = _styleKey;\n      const match = styleKey.match(stateStyleKeyPattern);\n      if (match) {\n        const [, state] = match;\n        const { [styleKey]: stateStyles, ...restStyles } = styles;\n        if (stateStyles) {\n          output = {\n            ...output,\n            [className]: restStyles,\n            [state]: stateStyles\n          };\n        }\n      }\n    }\n  }\n  return output;\n}\nfunction transformV5ComponentThemesToV4(theme, components = {}) {\n  const overrides = {};\n  const props = {};\n  for (const name of Object.keys(components)) {\n    const component = components[name];\n    if (!component) {\n      continue;\n    }\n    if (\"styleOverrides\" in component) {\n      if (name === \"MuiCssBaseline\") {\n        overrides[name] = adaptV5CssBaselineOverride(\n          theme,\n          component.styleOverrides\n        );\n      } else {\n        overrides[name] = extractV5StateOverrides(\n          adaptV5Override(theme, component.styleOverrides)\n        );\n      }\n    }\n    if (\"defaultProps\" in component) {\n      props[name] = component.defaultProps;\n    }\n  }\n  return { overrides, props };\n}\n\nexport { transformV5ComponentThemesToV4 };\n//# sourceMappingURL=overrides.esm.js.map\n","import { createTheme as createTheme$1 } from '@material-ui/core/styles';\nimport { createTheme, adaptV4Theme } from '@mui/material/styles';\nimport { createBaseThemeOptions } from '../base/createBaseThemeOptions.esm.js';\nimport { defaultComponentThemes } from '../v5/defaultComponentThemes.esm.js';\nimport { transformV5ComponentThemesToV4 } from './overrides.esm.js';\n\nclass UnifiedThemeHolder {\n  #themes = /* @__PURE__ */ new Map();\n  constructor(v4, v5) {\n    this.#themes = /* @__PURE__ */ new Map();\n    if (v4) {\n      this.#themes.set(\"v4\", v4);\n    }\n    if (v5) {\n      this.#themes.set(\"v5\", v5);\n    }\n  }\n  getTheme(version) {\n    return this.#themes.get(version);\n  }\n}\nfunction createUnifiedTheme(options) {\n  const themeOptions = createBaseThemeOptions(options);\n  const components = { ...defaultComponentThemes, ...options.components };\n  const v5Theme = createTheme({ ...themeOptions, components });\n  const v4Overrides = transformV5ComponentThemesToV4(v5Theme, components);\n  const v4Theme = { ...createTheme$1(themeOptions), ...v4Overrides };\n  return new UnifiedThemeHolder(v4Theme, v5Theme);\n}\nfunction createUnifiedThemeFromV4(options) {\n  const v5Theme = adaptV4Theme(options);\n  const v4Theme = createTheme$1(options);\n  return new UnifiedThemeHolder(v4Theme, createTheme(v5Theme));\n}\n\nexport { UnifiedThemeHolder, createUnifiedTheme, createUnifiedThemeFromV4 };\n//# sourceMappingURL=UnifiedTheme.esm.js.map\n","import '../base/pageTheme.esm.js';\nimport { palettes } from '../base/palettes.esm.js';\nimport { createUnifiedTheme } from './UnifiedTheme.esm.js';\n\nconst themes = {\n  light: createUnifiedTheme({ palette: palettes.light }),\n  dark: createUnifiedTheme({ palette: palettes.dark })\n};\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","import React from 'react';\nimport { UnifiedThemeProvider, themes as themes$1 } from '@backstage/theme';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport LightIcon from '@material-ui/icons/WbSunny';\n\nconst themes = [\n  {\n    id: \"light\",\n    title: \"Light Theme\",\n    variant: \"light\",\n    icon: /* @__PURE__ */ React.createElement(LightIcon, null),\n    Provider: ({ children }) => /* @__PURE__ */ React.createElement(UnifiedThemeProvider, { theme: themes$1.light, children })\n  },\n  {\n    id: \"dark\",\n    title: \"Dark Theme\",\n    variant: \"dark\",\n    icon: /* @__PURE__ */ React.createElement(DarkIcon, null),\n    Provider: ({ children }) => /* @__PURE__ */ React.createElement(UnifiedThemeProvider, { theme: themes$1.dark, children })\n  }\n];\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","class ApiAggregator {\n  holders;\n  constructor(...holders) {\n    this.holders = holders;\n  }\n  get(apiRef) {\n    for (const holder of this.holders) {\n      const api = holder.get(apiRef);\n      if (api) {\n        return api;\n      }\n    }\n    return void 0;\n  }\n}\n\nexport { ApiAggregator };\n//# sourceMappingURL=ApiAggregator.esm.js.map\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ApiAggregator } from './ApiAggregator.esm.js';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst ApiContext = createVersionedContext(\"api-context\");\nconst ApiProvider = (props) => {\n  const { apis, children } = props;\n  const parentHolder = useContext(ApiContext)?.atVersion(1);\n  const holder = parentHolder ? new ApiAggregator(apis, parentHolder) : apis;\n  return /* @__PURE__ */ React.createElement(\n    ApiContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: holder }),\n      children\n    }\n  );\n};\nApiProvider.propTypes = {\n  apis: PropTypes.shape({ get: PropTypes.func.isRequired }).isRequired,\n  children: PropTypes.node\n};\n\nexport { ApiProvider };\n//# sourceMappingURL=ApiProvider.esm.js.map\n","class ApiResolver {\n  constructor(factories) {\n    this.factories = factories;\n  }\n  /**\n   * Validate factories by making sure that each of the apis can be created\n   * without hitting any circular dependencies.\n   */\n  static validateFactories(factories, apis) {\n    for (const api of apis) {\n      const heap = [api];\n      const allDeps = /* @__PURE__ */ new Set();\n      while (heap.length) {\n        const apiRef = heap.shift();\n        const factory = factories.get(apiRef);\n        if (!factory) {\n          continue;\n        }\n        for (const dep of Object.values(factory.deps)) {\n          if (dep.id === api.id) {\n            throw new Error(`Circular dependency of api factory for ${api}`);\n          }\n          if (!allDeps.has(dep)) {\n            allDeps.add(dep);\n            heap.push(dep);\n          }\n        }\n      }\n    }\n  }\n  apis = /* @__PURE__ */ new Map();\n  get(ref) {\n    return this.load(ref);\n  }\n  load(ref, loading = []) {\n    const impl = this.apis.get(ref.id);\n    if (impl) {\n      return impl;\n    }\n    const factory = this.factories.get(ref);\n    if (!factory) {\n      return void 0;\n    }\n    if (loading.includes(factory.api)) {\n      throw new Error(`Circular dependency of api factory for ${factory.api}`);\n    }\n    const deps = this.loadDeps(ref, factory.deps, [...loading, factory.api]);\n    const api = factory.factory(deps);\n    this.apis.set(ref.id, api);\n    return api;\n  }\n  loadDeps(dependent, apis, loading) {\n    const impls = {};\n    for (const key in apis) {\n      if (apis.hasOwnProperty(key)) {\n        const ref = apis[key];\n        const api = this.load(ref, loading);\n        if (!api) {\n          throw new Error(\n            `No API factory available for dependency ${ref} of dependent ${dependent}`\n          );\n        }\n        impls[key] = api;\n      }\n    }\n    return impls;\n  }\n}\n\nexport { ApiResolver };\n//# sourceMappingURL=ApiResolver.esm.js.map\n","var ScopePriority = /* @__PURE__ */ ((ScopePriority2) => {\n  ScopePriority2[ScopePriority2[\"default\"] = 10] = \"default\";\n  ScopePriority2[ScopePriority2[\"app\"] = 50] = \"app\";\n  ScopePriority2[ScopePriority2[\"static\"] = 100] = \"static\";\n  return ScopePriority2;\n})(ScopePriority || {});\nclass ApiFactoryRegistry {\n  factories = /* @__PURE__ */ new Map();\n  /**\n   * Register a new API factory. Returns true if the factory was added\n   * to the registry.\n   *\n   * A factory will not be added to the registry if there is already\n   * an existing factory with the same or higher priority.\n   */\n  register(scope, factory) {\n    const priority = ScopePriority[scope];\n    const existing = this.factories.get(factory.api.id);\n    if (existing && existing.priority >= priority) {\n      return false;\n    }\n    this.factories.set(factory.api.id, { priority, factory });\n    return true;\n  }\n  get(api) {\n    const tuple = this.factories.get(api.id);\n    if (!tuple) {\n      return void 0;\n    }\n    return tuple.factory;\n  }\n  getAllApis() {\n    const refs = /* @__PURE__ */ new Set();\n    for (const { factory } of this.factories.values()) {\n      refs.add(factory.api);\n    }\n    return refs;\n  }\n}\n\nexport { ApiFactoryRegistry };\n//# sourceMappingURL=ApiFactoryRegistry.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nconst STORAGE_KEY = \"theme\";\nclass AppThemeSelector {\n  constructor(themes) {\n    this.themes = themes;\n  }\n  static createWithStorage(themes) {\n    const selector = new AppThemeSelector(themes);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const initialThemeId = window.localStorage.getItem(STORAGE_KEY) ?? void 0;\n    selector.setActiveThemeId(initialThemeId);\n    selector.activeThemeId$().subscribe((themeId) => {\n      if (themeId) {\n        window.localStorage.setItem(STORAGE_KEY, themeId);\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const themeId = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        selector.setActiveThemeId(themeId);\n      }\n    });\n    return selector;\n  }\n  activeThemeId;\n  subject = new BehaviorSubject(void 0);\n  getInstalledThemes() {\n    return this.themes.slice();\n  }\n  activeThemeId$() {\n    return this.subject;\n  }\n  getActiveThemeId() {\n    return this.activeThemeId;\n  }\n  setActiveThemeId(themeId) {\n    this.activeThemeId = themeId;\n    this.subject.next(themeId);\n  }\n}\n\nexport { AppThemeSelector };\n//# sourceMappingURL=AppThemeSelector.esm.js.map\n","import { InputError } from '@backstage/errors';\n\nconst propsOfHumanDuration = [\n  \"years\",\n  \"months\",\n  \"weeks\",\n  \"days\",\n  \"hours\",\n  \"minutes\",\n  \"seconds\",\n  \"milliseconds\"\n];\nfunction readDurationFromConfig(config, options) {\n  let root;\n  let found = false;\n  const result = {};\n  try {\n    root = (options == null ? void 0 : options.key) ? config.getConfig(options.key) : config;\n    for (const prop of propsOfHumanDuration) {\n      const value = root.getOptionalNumber(prop);\n      if (value !== void 0) {\n        result[prop] = value;\n        found = true;\n      }\n    }\n  } catch (error) {\n    throw new InputError(`Failed to read duration from config, ${error}`);\n  }\n  try {\n    if (!found) {\n      const good = propsOfHumanDuration.map((p) => `'${p}'`).join(\", \");\n      throw new Error(`Needs one or more of ${good}`);\n    }\n    const invalidProps = root.keys().filter((prop) => !propsOfHumanDuration.includes(prop));\n    if (invalidProps.length) {\n      const what = invalidProps.length === 1 ? \"property\" : \"properties\";\n      const bad = invalidProps.map((p) => `'${p}'`).join(\", \");\n      const good = propsOfHumanDuration.map((p) => `'${p}'`).join(\", \");\n      throw new Error(\n        `Unknown ${what} ${bad}; expected one or more of ${good}`\n      );\n    }\n  } catch (error) {\n    let prefix = \"Failed to read duration from config\";\n    if (options == null ? void 0 : options.key) {\n      prefix += ` at '${options.key}'`;\n    }\n    throw new InputError(`${prefix}, ${error}`);\n  }\n  return result;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst CONFIG_KEY_PART_PATTERN = /^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction cloneDeep(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map(cloneDeep);\n  }\n  return Object.fromEntries(\n    Object.entries(value).map(([k, v]) => [k, cloneDeep(v)])\n  );\n}\nfunction merge(into, from) {\n  if (into === null) {\n    return void 0;\n  }\n  if (into === void 0) {\n    return from === void 0 ? void 0 : merge(from);\n  }\n  if (typeof into !== \"object\" || Array.isArray(into)) {\n    return into;\n  }\n  const fromObj = isObject(from) ? from : {};\n  const out = {};\n  for (const key of /* @__PURE__ */ new Set([...Object.keys(into), ...Object.keys(fromObj)])) {\n    const val = merge(into[key], fromObj[key]);\n    if (val !== void 0) {\n      out[key] = val;\n    }\n  }\n  return out;\n}\nfunction typeOf(value) {\n  if (value === null) {\n    return \"null\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  }\n  const type = typeof value;\n  if (type === \"number\" && isNaN(value)) {\n    return \"nan\";\n  }\n  if (type === \"string\" && value === \"\") {\n    return \"empty-string\";\n  }\n  return type;\n}\nconst errors = {\n  type(key, context, typeName, expected) {\n    return `Invalid type in config for key '${key}' in '${context}', got ${typeName}, wanted ${expected}`;\n  },\n  missing(key, context) {\n    return `Missing required config value at '${key}' in '${context}'`;\n  },\n  convert(key, context, expected) {\n    return `Unable to convert config value for key '${key}' in '${context}' to a ${expected}`;\n  }\n};\nclass ConfigReader {\n  constructor(data, context = \"mock-config\", fallback, prefix = \"\") {\n    this.data = data;\n    this.context = context;\n    this.fallback = fallback;\n    this.prefix = prefix;\n    /**\n     * A set of key paths that where removed from the config due to not being visible.\n     *\n     * This was added as a mutable private member to avoid changes to the public API.\n     * Its only purpose of this is to warn users of missing visibility when running\n     * the frontend in development mode.\n     */\n    __publicField(this, \"filteredKeys\");\n    __publicField(this, \"notifiedFilteredKeys\", /* @__PURE__ */ new Set());\n  }\n  /**\n   * Instantiates the config reader from a list of application config objects.\n   */\n  static fromConfigs(configs) {\n    if (configs.length === 0) {\n      return new ConfigReader(void 0);\n    }\n    return configs.reduce(\n      (previousReader, { data, context, filteredKeys, deprecatedKeys }) => {\n        const reader = new ConfigReader(data, context, previousReader);\n        reader.filteredKeys = filteredKeys;\n        if (deprecatedKeys) {\n          for (const { key, description } of deprecatedKeys) {\n            console.warn(\n              `The configuration key '${key}' of ${context} is deprecated and may be removed soon. ${description || \"\"}`\n            );\n          }\n        }\n        return reader;\n      },\n      void 0\n    );\n  }\n  /** {@inheritdoc Config.has} */\n  has(key) {\n    var _a, _b;\n    const value = this.readValue(key);\n    if (value === null) {\n      return false;\n    }\n    if (value !== void 0) {\n      return true;\n    }\n    return (_b = (_a = this.fallback) == null ? void 0 : _a.has(key)) != null ? _b : false;\n  }\n  /** {@inheritdoc Config.keys} */\n  keys() {\n    var _a, _b;\n    const localKeys = this.data ? Object.keys(this.data) : [];\n    const fallbackKeys = (_b = (_a = this.fallback) == null ? void 0 : _a.keys()) != null ? _b : [];\n    return [.../* @__PURE__ */ new Set([...localKeys, ...fallbackKeys])].filter(\n      (k) => {\n        var _a2;\n        return ((_a2 = this.data) == null ? void 0 : _a2[k]) !== null;\n      }\n    );\n  }\n  /** {@inheritdoc Config.get} */\n  get(key) {\n    const value = this.getOptional(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key != null ? key : \"\"), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptional} */\n  getOptional(key) {\n    var _a, _b;\n    const value = cloneDeep(this.readValue(key));\n    const fallbackValue = (_a = this.fallback) == null ? void 0 : _a.getOptional(key);\n    if (value === null) {\n      return void 0;\n    }\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        if (fallbackValue === void 0 && key) {\n          const fullKey = this.fullKey(key);\n          if (((_b = this.filteredKeys) == null ? void 0 : _b.includes(fullKey)) && !this.notifiedFilteredKeys.has(fullKey)) {\n            this.notifiedFilteredKeys.add(fullKey);\n            console.warn(\n              `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n            );\n          }\n        }\n      }\n      return merge(fallbackValue);\n    } else if (fallbackValue === void 0) {\n      return merge(value);\n    }\n    return merge(value, fallbackValue);\n  }\n  /** {@inheritdoc Config.getConfig} */\n  getConfig(key) {\n    const value = this.getOptionalConfig(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfig} */\n  getOptionalConfig(key) {\n    var _a;\n    const value = this.readValue(key);\n    const fallbackConfig = (_a = this.fallback) == null ? void 0 : _a.getOptionalConfig(key);\n    if (isObject(value)) {\n      return this.copy(value, key, fallbackConfig);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    if (value !== void 0) {\n      throw new TypeError(\n        errors.type(this.fullKey(key), this.context, typeOf(value), \"object\")\n      );\n    }\n    return fallbackConfig;\n  }\n  /** {@inheritdoc Config.getConfigArray} */\n  getConfigArray(key) {\n    const value = this.getOptionalConfigArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfigArray} */\n  getOptionalConfigArray(key) {\n    var _a;\n    const configs = this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"object-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (!isObject(value)) {\n          return { expected: \"object-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n    if (!configs) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (((_a = this.filteredKeys) == null ? void 0 : _a.some((k) => k.startsWith(fullKey))) && !this.notifiedFilteredKeys.has(key)) {\n          this.notifiedFilteredKeys.add(key);\n          console.warn(\n            `Failed to read configuration array at '${key}' as it does not have any visible elements. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return void 0;\n    }\n    return configs.map((obj, index) => this.copy(obj, `${key}[${index}]`));\n  }\n  /** {@inheritdoc Config.getNumber} */\n  getNumber(key) {\n    const value = this.getOptionalNumber(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalNumber} */\n  getOptionalNumber(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"number\" || typeof val === \"string\" || { expected: \"number\" }\n    );\n    if (typeof value === \"number\" || value === void 0) {\n      return value;\n    }\n    const number = Number(value);\n    if (!Number.isFinite(number)) {\n      throw new Error(\n        errors.convert(this.fullKey(key), this.context, \"number\")\n      );\n    }\n    return number;\n  }\n  /** {@inheritdoc Config.getBoolean} */\n  getBoolean(key) {\n    const value = this.getOptionalBoolean(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalBoolean} */\n  getOptionalBoolean(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"boolean\" || typeof val === \"number\" || typeof val === \"string\" || { expected: \"boolean\" }\n    );\n    if (typeof value === \"boolean\" || value === void 0) {\n      return value;\n    }\n    const valueString = String(value).trim();\n    if (/^(?:y|yes|true|1|on)$/i.test(valueString)) {\n      return true;\n    }\n    if (/^(?:n|no|false|0|off)$/i.test(valueString)) {\n      return false;\n    }\n    throw new Error(errors.convert(this.fullKey(key), this.context, \"boolean\"));\n  }\n  /** {@inheritdoc Config.getString} */\n  getString(key) {\n    const value = this.getOptionalString(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalString} */\n  getOptionalString(key) {\n    return this.readConfigValue(\n      key,\n      (value) => typeof value === \"string\" && value !== \"\" || { expected: \"string\" }\n    );\n  }\n  /** {@inheritdoc Config.getStringArray} */\n  getStringArray(key) {\n    const value = this.getOptionalStringArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalStringArray} */\n  getOptionalStringArray(key) {\n    return this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"string-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (typeof value !== \"string\" || value === \"\") {\n          return { expected: \"string-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n  }\n  fullKey(key) {\n    return `${this.prefix}${this.prefix ? \".\" : \"\"}${key}`;\n  }\n  copy(data, key, fallback) {\n    const reader = new ConfigReader(\n      data,\n      this.context,\n      fallback,\n      this.fullKey(key)\n    );\n    reader.filteredKeys = this.filteredKeys;\n    return reader;\n  }\n  readConfigValue(key, validate) {\n    var _a, _b;\n    const value = this.readValue(key);\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (((_a = this.filteredKeys) == null ? void 0 : _a.includes(fullKey)) && !this.notifiedFilteredKeys.has(fullKey)) {\n          this.notifiedFilteredKeys.add(fullKey);\n          console.warn(\n            `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return (_b = this.fallback) == null ? void 0 : _b.readConfigValue(key, validate);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    const result = validate(value);\n    if (result !== true) {\n      const { key: keyName = key, value: theValue = value, expected } = result;\n      throw new TypeError(\n        errors.type(\n          this.fullKey(keyName),\n          this.context,\n          typeOf(theValue),\n          expected\n        )\n      );\n    }\n    return value;\n  }\n  readValue(key) {\n    const parts = key ? key.split(\".\") : [];\n    for (const part of parts) {\n      if (!CONFIG_KEY_PART_PATTERN.test(part)) {\n        throw new TypeError(`Invalid config key '${key}'`);\n      }\n    }\n    if (this.data === void 0) {\n      return void 0;\n    }\n    let value = this.data;\n    for (const [index, part] of parts.entries()) {\n      if (isObject(value)) {\n        value = value[part];\n      } else if (value !== void 0 && value !== null) {\n        const badKey = this.fullKey(parts.slice(0, index).join(\".\"));\n        throw new TypeError(\n          errors.type(badKey, this.context, typeOf(value), \"object\")\n        );\n      }\n    }\n    return value;\n  }\n}\n\nexport { ConfigReader, readDurationFromConfig };\n//# sourceMappingURL=index.esm.js.map\n","import { FeatureFlagState } from '@backstage/core-plugin-api';\n\nfunction validateFlagName(name) {\n  if (name.length < 3) {\n    throw new Error(\n      `The '${name}' feature flag must have a minimum length of three characters.`\n    );\n  }\n  if (name.length > 150) {\n    throw new Error(\n      `The '${name}' feature flag must not exceed 150 characters.`\n    );\n  }\n  if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\n    throw new Error(\n      `The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`\n    );\n  }\n}\nclass LocalStorageFeatureFlags {\n  registeredFeatureFlags = [];\n  flags;\n  registerFlag(flag) {\n    validateFlagName(flag.name);\n    this.registeredFeatureFlags.push(flag);\n  }\n  getRegisteredFlags() {\n    return this.registeredFeatureFlags.slice();\n  }\n  isActive(name) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    return this.flags.get(name) === FeatureFlagState.Active;\n  }\n  save(options) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    if (!options.merge) {\n      this.flags.clear();\n    }\n    for (const [name, state] of Object.entries(options.states)) {\n      this.flags.set(name, state);\n    }\n    const enabled = Array.from(this.flags.entries()).filter(\n      ([, state]) => state === FeatureFlagState.Active\n    );\n    window.localStorage.setItem(\n      \"featureFlags\",\n      JSON.stringify(Object.fromEntries(enabled))\n    );\n  }\n  load() {\n    try {\n      const jsonStr = window.localStorage.getItem(\"featureFlags\");\n      if (!jsonStr) {\n        return /* @__PURE__ */ new Map();\n      }\n      const json = JSON.parse(jsonStr);\n      if (typeof json !== \"object\" || json === null || Array.isArray(json)) {\n        return /* @__PURE__ */ new Map();\n      }\n      const entries = Object.entries(json).filter(([name, value]) => {\n        validateFlagName(name);\n        return value === FeatureFlagState.Active;\n      });\n      return new Map(entries);\n    } catch {\n      return /* @__PURE__ */ new Map();\n    }\n  }\n}\n\nexport { LocalStorageFeatureFlags, validateFlagName };\n//# sourceMappingURL=LocalStorageFeatureFlags.esm.js.map\n","import { Children, isValidElement } from 'react';\n\nfunction traverseElementTree(options) {\n  const collectors = {};\n  for (const name in options.collectors) {\n    if (options.collectors.hasOwnProperty(name)) {\n      collectors[name] = options.collectors[name]();\n    }\n  }\n  const queue = [\n    {\n      node: Children.toArray(options.root),\n      parent: void 0,\n      contexts: {}\n    }\n  ];\n  while (queue.length !== 0) {\n    const { node, parent, contexts } = queue.shift();\n    Children.forEach(node, (element) => {\n      if (!isValidElement(element)) {\n        return;\n      }\n      const nextContexts = {};\n      for (const name in collectors) {\n        if (collectors.hasOwnProperty(name)) {\n          const collector = collectors[name];\n          nextContexts[name] = collector.visit(\n            collector.accumulator,\n            element,\n            parent,\n            contexts[name]\n          );\n        }\n      }\n      for (const discoverer of options.discoverers) {\n        const children = discoverer(element);\n        if (children) {\n          queue.push({\n            node: children,\n            parent: element,\n            contexts: nextContexts\n          });\n        }\n      }\n    });\n  }\n  return Object.fromEntries(\n    Object.entries(collectors).map(([name, c]) => [name, c.accumulator])\n  );\n}\nfunction createCollector(accumulatorFactory, visit) {\n  return () => ({ accumulator: accumulatorFactory(), visit });\n}\nfunction childDiscoverer(element) {\n  return element.props?.children;\n}\nfunction routeElementDiscoverer(element) {\n  if (element.props?.path && element.props?.element) {\n    return element.props?.element;\n  }\n  return void 0;\n}\n\nexport { childDiscoverer, createCollector, routeElementDiscoverer, traverseElementTree };\n//# sourceMappingURL=traversal.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { createCollector } from '../extensions/traversal.esm.js';\n\nconst pluginCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    const plugin = getComponentData(node, \"core.plugin\");\n    if (plugin) {\n      acc.add(plugin);\n    }\n  }\n);\n\nexport { pluginCollector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { attachComponentData, useApi, featureFlagsApiRef } from '@backstage/core-plugin-api';\nimport React from 'react';\n\nconst FeatureFlagged = (props) => {\n  const { children } = props;\n  const featureFlagApi = useApi(featureFlagsApiRef);\n  const isEnabled = \"with\" in props ? featureFlagApi.isActive(props.with) : !featureFlagApi.isActive(props.without);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, isEnabled ? children : null);\n};\nattachComponentData(FeatureFlagged, \"core.featureFlagged\", true);\n\nexport { FeatureFlagged };\n//# sourceMappingURL=FeatureFlagged.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { isValidElement, Children } from 'react';\nimport { createCollector } from '../extensions/traversal.esm.js';\nimport { FeatureFlagged } from './FeatureFlagged.esm.js';\n\nconst MATCH_ALL_ROUTE = {\n  caseSensitive: false,\n  path: \"*\",\n  element: \"match-all\",\n  // These elements aren't used, so we add in a bit of debug information\n  routeRefs: /* @__PURE__ */ new Set(),\n  plugins: /* @__PURE__ */ new Set()\n};\nfunction stringifyNode(node) {\n  const anyNode = node;\n  if (anyNode?.type) {\n    return anyNode.type.displayName ?? anyNode.type.name ?? String(anyNode.type);\n  }\n  return String(anyNode);\n}\nconst pluginSet = (plugin) => {\n  const set = /* @__PURE__ */ new Set();\n  if (plugin) {\n    set.add(plugin);\n  }\n  return set;\n};\nfunction collectSubTree(node, entries = new Array()) {\n  Children.forEach(node, (element) => {\n    if (!isValidElement(element)) {\n      return;\n    }\n    const routeRef = getComponentData(element, \"core.mountPoint\");\n    if (routeRef) {\n      const plugin = getComponentData(element, \"core.plugin\");\n      entries.push({ routeRef, plugin });\n    }\n    collectSubTree(element.props.children, entries);\n  });\n  return entries;\n}\nconst routingV2Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (ctx?.isElementAncestor) {\n      return ctx;\n    }\n    if (parent?.props.element === node) {\n      return { ...ctx, isElementAncestor: true };\n    }\n    const pathProp = node.props?.path;\n    const mountPoint = getComponentData(node, \"core.mountPoint\");\n    if (mountPoint && pathProp) {\n      throw new Error(\n        `Path property may not be set directly on a routable extension \"${stringifyNode(\n          node\n        )}\"`\n      );\n    }\n    const parentChildren = ctx?.obj?.children ?? acc.objects;\n    if (pathProp !== void 0) {\n      if (typeof pathProp !== \"string\") {\n        throw new Error(\n          `Element path must be a string at \"${stringifyNode(node)}\"`\n        );\n      }\n      const path = pathProp.startsWith(\"/\") ? pathProp.slice(1) : pathProp;\n      const elementProp = node.props.element;\n      if (getComponentData(node, \"core.gatherMountPoints\")) {\n        if (elementProp) {\n          throw new Error(\n            `Mount point gatherers may not have an element prop \"${stringifyNode(\n              node\n            )}\"`\n          );\n        }\n        const newObj = {\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(newObj);\n        return {\n          obj: newObj,\n          gatherPath: path,\n          routeRef: ctx?.routeRef,\n          gatherRouteRef: ctx?.routeRef\n        };\n      }\n      if (elementProp) {\n        const [extension, ...others] = collectSubTree(elementProp);\n        if (others.length > 0) {\n          throw new Error(\n            `Route element with path \"${pathProp}\" may not contain multiple routable extensions`\n          );\n        }\n        if (!extension) {\n          return ctx;\n        }\n        const { routeRef, plugin } = extension;\n        const newObj = {\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(plugin)\n        };\n        parentChildren.push(newObj);\n        acc.paths.set(routeRef, path);\n        acc.parents.set(routeRef, ctx?.routeRef);\n        return {\n          obj: newObj,\n          routeRef: routeRef ?? ctx?.routeRef,\n          gatherPath: path,\n          gatherRouteRef: ctx?.gatherRouteRef\n        };\n      }\n    }\n    if (mountPoint) {\n      if (ctx?.gatherPath === void 0) {\n        throw new Error(\n          `Routable extension \"${stringifyNode(\n            node\n          )}\" with mount point \"${mountPoint}\" must be assigned a path`\n        );\n      }\n      ctx?.obj?.routeRefs.add(mountPoint);\n      const mountPointPlugin = getComponentData(\n        node,\n        \"core.plugin\"\n      );\n      if (mountPointPlugin) {\n        ctx?.obj?.plugins.add(mountPointPlugin);\n      }\n      acc.paths.set(mountPoint, ctx.gatherPath);\n      acc.parents.set(mountPoint, ctx?.gatherRouteRef);\n      return {\n        ...ctx,\n        routeRef: mountPoint\n      };\n    }\n    return ctx;\n  }\n);\nconst routingV1Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (parent?.props.element === node) {\n      return ctx;\n    }\n    let currentObj = ctx?.obj;\n    let currentParentRouteRef = ctx?.routeRef;\n    let sticky = ctx?.sticky;\n    const path = node.props?.path;\n    const parentChildren = currentObj?.children ?? acc.objects;\n    const caseSensitive = Boolean(node.props?.caseSensitive);\n    let currentCtxPath = ctx?.path;\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      currentCtxPath = path;\n    }\n    const element = node.props?.element;\n    let routeRef = getComponentData(node, \"core.mountPoint\");\n    if (!routeRef && isValidElement(element)) {\n      routeRef = getComponentData(element, \"core.mountPoint\");\n    }\n    if (routeRef) {\n      let routePath = path;\n      if (currentCtxPath) {\n        if (routePath) {\n          currentCtxPath = void 0;\n        } else {\n          routePath = currentCtxPath;\n        }\n      }\n      if (!routePath) {\n        throw new Error(\"Mounted routable extension must have a path\");\n      }\n      acc.paths.set(routeRef, routePath);\n      if (currentParentRouteRef && sticky) {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        if (path) {\n          currentParentRouteRef = routeRef;\n          sticky = false;\n        }\n      } else {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        currentParentRouteRef = routeRef;\n      }\n      if (path) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(\n            getComponentData(\n              node.props.element,\n              \"core.plugin\"\n            )\n          )\n        };\n        parentChildren.push(currentObj);\n      } else {\n        currentObj?.routeRefs.add(routeRef);\n      }\n    }\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      sticky = true;\n    }\n    const isGatherer = getComponentData(\n      node,\n      \"core.gatherMountPoints\"\n    );\n    if (isGatherer) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      if (!routeRef) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          children: [MATCH_ALL_ROUTE],\n          plugins: ctx?.obj?.plugins || /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(currentObj);\n      }\n    }\n    return {\n      obj: currentObj,\n      path: currentCtxPath,\n      routeRef: currentParentRouteRef,\n      sticky\n    };\n  }\n);\nconst featureFlagCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    if (node.type === FeatureFlagged) {\n      const props = node.props;\n      acc.add(\"with\" in props ? props.with : props.without);\n    }\n  }\n);\n\nexport { MATCH_ALL_ROUTE, featureFlagCollector, routingV1Collector, routingV2Collector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\nfunction isRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"absolute\";\n}\nfunction isSubRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"sub\";\n}\nfunction isExternalRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"external\";\n}\n\nexport { isExternalRouteRef, isRouteRef, isSubRouteRef, routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","function joinPaths(...paths) {\n  const normalized = paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n  if (normalized !== \"/\" && normalized.endsWith(\"/\")) {\n    return normalized.slice(0, -1);\n  }\n  return normalized;\n}\n\nexport { joinPaths };\n//# sourceMappingURL=helpers.esm.js.map\n","import { matchRoutes, generatePath } from 'react-router-dom';\nimport { isRouteRef, isSubRouteRef, isExternalRouteRef, routeRefType } from './types.esm.js';\nimport { joinPaths } from './helpers.esm.js';\nimport mapValues from 'lodash/mapValues';\n\nfunction resolveTargetRef(anyRouteRef, routePaths, routeBindings) {\n  let targetRef;\n  let subRoutePath = \"\";\n  if (isRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef;\n  } else if (isSubRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef.parent;\n    subRoutePath = anyRouteRef.path;\n  } else if (isExternalRouteRef(anyRouteRef)) {\n    const resolvedRoute = routeBindings.get(anyRouteRef);\n    if (!resolvedRoute) {\n      return [void 0, \"\"];\n    }\n    if (isRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute;\n    } else if (isSubRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute.parent;\n      subRoutePath = resolvedRoute.path;\n    } else {\n      throw new Error(\n        `ExternalRouteRef was bound to invalid target, ${resolvedRoute}`\n      );\n    }\n  } else if (anyRouteRef[routeRefType]) {\n    throw new Error(\n      `Unknown or invalid route ref type, ${anyRouteRef[routeRefType]}`\n    );\n  } else {\n    throw new Error(`Unknown object passed to useRouteRef, got ${anyRouteRef}`);\n  }\n  if (!targetRef) {\n    return [void 0, \"\"];\n  }\n  const resolvedPath = routePaths.get(targetRef);\n  if (resolvedPath === void 0) {\n    return [void 0, \"\"];\n  }\n  const targetPath = joinPaths(resolvedPath, subRoutePath);\n  return [targetRef, targetPath];\n}\nfunction resolveBasePath(targetRef, sourceLocation, routePaths, routeParents, routeObjects) {\n  const match = matchRoutes(routeObjects, sourceLocation) ?? [];\n  const refDiffList = Array();\n  let matchIndex = -1;\n  for (let targetSearchRef = targetRef; targetSearchRef; targetSearchRef = routeParents.get(targetSearchRef)) {\n    matchIndex = match.findIndex(\n      (m) => m.route.routeRefs.has(targetSearchRef)\n    );\n    if (matchIndex !== -1) {\n      break;\n    }\n    refDiffList.unshift(targetSearchRef);\n  }\n  if (refDiffList.length === 0) {\n    matchIndex -= 1;\n  }\n  const parentPath = matchIndex === -1 ? \"\" : match[matchIndex].pathname;\n  const diffPaths = refDiffList.slice(0, -1).map((ref) => {\n    const path = routePaths.get(ref);\n    if (path === void 0) {\n      throw new Error(`No path for ${ref}`);\n    }\n    if (path.includes(\":\")) {\n      throw new Error(\n        `Cannot route to ${targetRef} with parent ${ref} as it has parameters`\n      );\n    }\n    return path;\n  });\n  return `${joinPaths(parentPath, ...diffPaths)}/`;\n}\nclass RouteResolver {\n  constructor(routePaths, routeParents, routeObjects, routeBindings, appBasePath) {\n    this.routePaths = routePaths;\n    this.routeParents = routeParents;\n    this.routeObjects = routeObjects;\n    this.routeBindings = routeBindings;\n    this.appBasePath = appBasePath;\n  }\n  resolve(anyRouteRef, sourceLocation) {\n    const [targetRef, targetPath] = resolveTargetRef(\n      anyRouteRef,\n      this.routePaths,\n      this.routeBindings\n    );\n    if (!targetRef) {\n      return void 0;\n    }\n    let relativeSourceLocation;\n    if (typeof sourceLocation === \"string\") {\n      relativeSourceLocation = this.trimPath(sourceLocation);\n    } else if (sourceLocation.pathname) {\n      relativeSourceLocation = {\n        ...sourceLocation,\n        pathname: this.trimPath(sourceLocation.pathname)\n      };\n    } else {\n      relativeSourceLocation = sourceLocation;\n    }\n    const basePath = this.appBasePath + resolveBasePath(\n      targetRef,\n      relativeSourceLocation,\n      this.routePaths,\n      this.routeParents,\n      this.routeObjects\n    );\n    const routeFunc = (...[params]) => {\n      const encodedParams = params && mapValues(params, (value) => {\n        if (typeof value === \"string\") {\n          return value.replaceAll(/[&?#;\\/]/g, (c) => encodeURIComponent(c));\n        }\n        return value;\n      });\n      return joinPaths(basePath, generatePath(targetPath, encodedParams));\n    };\n    return routeFunc;\n  }\n  trimPath(targetPath) {\n    if (!targetPath) {\n      return targetPath;\n    }\n    if (targetPath.startsWith(this.appBasePath)) {\n      return targetPath.slice(this.appBasePath.length);\n    }\n    return targetPath;\n  }\n}\n\nexport { RouteResolver };\n//# sourceMappingURL=RouteResolver.esm.js.map\n","import React from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { RouteResolver } from './RouteResolver.esm.js';\n\nconst RoutingContext = createVersionedContext(\n  \"routing-context\"\n);\nconst RoutingProvider = ({\n  routePaths,\n  routeParents,\n  routeObjects,\n  routeBindings,\n  basePath = \"\",\n  children\n}) => {\n  const resolver = new RouteResolver(\n    routePaths,\n    routeParents,\n    routeObjects,\n    routeBindings,\n    basePath\n  );\n  const versionedValue = createVersionedValueMap({ 1: resolver });\n  return /* @__PURE__ */ React.createElement(RoutingContext.Provider, { value: versionedValue }, children);\n};\n\nexport { RoutingProvider };\n//# sourceMappingURL=RoutingProvider.esm.js.map\n","import { joinPaths } from './helpers.esm.js';\n\nfunction validateRouteParameters(routePaths, routeParents) {\n  const notLeafRoutes = new Set(routeParents.values());\n  notLeafRoutes.delete(void 0);\n  for (const route of routeParents.keys()) {\n    if (notLeafRoutes.has(route)) {\n      continue;\n    }\n    let currentRouteRef = route;\n    let fullPath = \"\";\n    while (currentRouteRef) {\n      const path = routePaths.get(currentRouteRef);\n      if (path === void 0) {\n        throw new Error(`No path for ${currentRouteRef}`);\n      }\n      fullPath = joinPaths(path, fullPath);\n      currentRouteRef = routeParents.get(currentRouteRef);\n    }\n    const params = fullPath.match(/:(\\w+)/g);\n    if (params) {\n      for (let j = 0; j < params.length; j++) {\n        for (let i = j + 1; i < params.length; i++) {\n          if (params[i] === params[j]) {\n            throw new Error(\n              `Parameter ${params[i]} is duplicated in path ${fullPath}`\n            );\n          }\n        }\n      }\n    }\n  }\n}\nfunction validateRouteBindings(routeBindings, plugins) {\n  for (const plugin of plugins) {\n    if (!plugin.externalRoutes) {\n      continue;\n    }\n    for (const [name, externalRouteRef] of Object.entries(\n      plugin.externalRoutes\n    )) {\n      if (externalRouteRef.optional) {\n        continue;\n      }\n      if (!routeBindings.has(externalRouteRef)) {\n        throw new Error(\n          `External route '${name}' of the '${plugin.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`\n        );\n      }\n    }\n  }\n}\n\nexport { validateRouteBindings, validateRouteParameters };\n//# sourceMappingURL=validation.esm.js.map\n","import React from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst AppContext = createVersionedContext(\"app-context\");\nconst AppContextProvider = ({\n  appContext,\n  children\n}) => {\n  const versionedValue = createVersionedValueMap({ 1: appContext });\n  return /* @__PURE__ */ React.createElement(AppContext.Provider, { value: versionedValue, children });\n};\n\nexport { AppContextProvider };\n//# sourceMappingURL=AppContext.esm.js.map\n","const PLUGIN_ID = \"app\";\nconst CHANNEL_ID = `${PLUGIN_ID}-auth-cookie-expires-at`;\nconst MIN_BASE_DELAY_MS = 5 * 6e4;\nconst ERROR_BACKOFF_START = 5e3;\nconst ERROR_BACKOFF_FACTOR = 2;\nconst ERROR_BACKOFF_MAX = 5 * 6e4;\nfunction startCookieAuthRefresh({\n  discoveryApi,\n  fetchApi,\n  errorApi\n}) {\n  let stopped = false;\n  let timeout;\n  let firstError = true;\n  let errorBackoff = ERROR_BACKOFF_START;\n  const channel = \"BroadcastChannel\" in window ? new BroadcastChannel(CHANNEL_ID) : void 0;\n  const getDelay = (expiresAt) => {\n    const margin = (1 + 3 * Math.random()) * 6e4;\n    const delay = Math.max(expiresAt - Date.now(), MIN_BASE_DELAY_MS) - margin;\n    return delay;\n  };\n  const refresh = async () => {\n    try {\n      const baseUrl = await discoveryApi.getBaseUrl(PLUGIN_ID);\n      const requestUrl = `${baseUrl}/.backstage/auth/v1/cookie`;\n      const res = await fetchApi.fetch(requestUrl, {\n        credentials: \"include\"\n      });\n      if (!res.ok) {\n        throw new Error(\n          `Request failed with status ${res.status} ${res.statusText}, see request towards ${requestUrl} for more details`\n        );\n      }\n      const data = await res.json();\n      if (!data.expiresAt) {\n        throw new Error(\"No expiration date in response\");\n      }\n      const expiresAt = Date.parse(data.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        throw new Error(\"Invalid expiration date in response\");\n      }\n      firstError = true;\n      channel?.postMessage({\n        action: \"COOKIE_REFRESH_SUCCESS\",\n        payload: { expiresAt: new Date(expiresAt).toISOString() }\n      });\n      scheduleRefresh(getDelay(expiresAt));\n    } catch (error) {\n      if (firstError) {\n        firstError = false;\n        errorBackoff = ERROR_BACKOFF_START;\n      } else {\n        errorBackoff = Math.min(\n          ERROR_BACKOFF_MAX,\n          errorBackoff * ERROR_BACKOFF_FACTOR\n        );\n        console.error(\"Session cookie refresh failed\", error);\n        errorApi.post(\n          new Error(\n            `Session refresh failed, see developer console for details`\n          )\n        );\n      }\n      scheduleRefresh(errorBackoff);\n    }\n  };\n  const onMessage = (event) => {\n    const { data } = event;\n    if (data === null || typeof data !== \"object\") {\n      return;\n    }\n    if (\"action\" in data && data.action === \"COOKIE_REFRESH_SUCCESS\") {\n      const expiresAt = Date.parse(data.payload.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        console.warn(\n          \"Received invalid expiration from session refresh channel\"\n        );\n        return;\n      }\n      scheduleRefresh(getDelay(expiresAt));\n    }\n  };\n  function scheduleRefresh(delayMs) {\n    if (stopped) {\n      return;\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(refresh, delayMs);\n  }\n  channel?.addEventListener(\"message\", onMessage);\n  refresh();\n  return () => {\n    stopped = true;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    channel?.removeEventListener(\"message\", onMessage);\n    channel?.close();\n  };\n}\n\nexport { startCookieAuthRefresh };\n//# sourceMappingURL=startCookieAuthRefresh.esm.js.map\n","import { startCookieAuthRefresh } from './startCookieAuthRefresh.esm.js';\n\nfunction mkError(thing) {\n  return new Error(\n    `Tried to access IdentityApi ${thing} before app was loaded`\n  );\n}\nfunction logDeprecation(thing) {\n  console.warn(\n    `WARNING: Call to ${thing} is deprecated and will break in the future`\n  );\n}\nclass AppIdentityProxy {\n  target;\n  waitForTarget;\n  resolveTarget = () => {\n  };\n  signOutTargetUrl = \"/\";\n  #cookieAuthSignOut;\n  constructor() {\n    this.waitForTarget = new Promise((resolve) => {\n      this.resolveTarget = resolve;\n    });\n  }\n  // This is called by the app manager once the sign-in page provides us with an implementation\n  setTarget(identityApi, targetOptions) {\n    this.target = identityApi;\n    this.signOutTargetUrl = targetOptions.signOutTargetUrl;\n    this.resolveTarget(identityApi);\n  }\n  getUserId() {\n    if (!this.target) {\n      throw mkError(\"getUserId\");\n    }\n    if (!this.target.getUserId) {\n      throw new Error(\"IdentityApi does not implement getUserId\");\n    }\n    logDeprecation(\"getUserId\");\n    return this.target.getUserId();\n  }\n  getProfile() {\n    if (!this.target) {\n      throw mkError(\"getProfile\");\n    }\n    if (!this.target.getProfile) {\n      throw new Error(\"IdentityApi does not implement getProfile\");\n    }\n    logDeprecation(\"getProfile\");\n    return this.target.getProfile();\n  }\n  async getProfileInfo() {\n    return this.waitForTarget.then((target) => target.getProfileInfo());\n  }\n  async getBackstageIdentity() {\n    const identity = await this.waitForTarget.then(\n      (target) => target.getBackstageIdentity()\n    );\n    if (!identity.userEntityRef.match(/^.*:.*\\/.*$/)) {\n      console.warn(\n        `WARNING: The App IdentityApi provided an invalid userEntityRef, '${identity.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`\n      );\n    }\n    return identity;\n  }\n  async getCredentials() {\n    return this.waitForTarget.then((target) => target.getCredentials());\n  }\n  async getIdToken() {\n    return this.waitForTarget.then((target) => {\n      if (!target.getIdToken) {\n        throw new Error(\"IdentityApi does not implement getIdToken\");\n      }\n      logDeprecation(\"getIdToken\");\n      return target.getIdToken();\n    });\n  }\n  async signOut() {\n    await this.waitForTarget.then((target) => target.signOut());\n    await this.#cookieAuthSignOut?.();\n    window.location.href = this.signOutTargetUrl;\n  }\n  enableCookieAuth(ctx) {\n    if (this.#cookieAuthSignOut) {\n      return;\n    }\n    const stopRefresh = startCookieAuthRefresh(ctx);\n    this.#cookieAuthSignOut = async () => {\n      stopRefresh();\n      const appBaseUrl = await ctx.discoveryApi.getBaseUrl(\"app\");\n      try {\n        await fetch(`${appBaseUrl}/.backstage/auth/v1/cookie`, {\n          method: \"DELETE\",\n          credentials: \"include\"\n        });\n      } catch {\n      }\n    };\n  }\n}\n\nexport { AppIdentityProxy };\n//# sourceMappingURL=AppIdentityProxy.esm.js.map\n","import React, { useMemo, useState, useEffect } from 'react';\nimport { useApi, appThemeApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/esm/useObservable';\n\nfunction resolveTheme(themeId, shouldPreferDark, themes) {\n  if (themeId !== void 0) {\n    const selectedTheme = themes.find((theme) => theme.id === themeId);\n    if (selectedTheme) {\n      return selectedTheme;\n    }\n  }\n  if (shouldPreferDark) {\n    const darkTheme = themes.find((theme) => theme.variant === \"dark\");\n    if (darkTheme) {\n      return darkTheme;\n    }\n  }\n  const lightTheme = themes.find((theme) => theme.variant === \"light\");\n  if (lightTheme) {\n    return lightTheme;\n  }\n  return themes[0];\n}\nconst useShouldPreferDarkTheme = () => {\n  const mediaQuery = useMemo(\n    () => window.matchMedia(\"(prefers-color-scheme: dark)\"),\n    []\n  );\n  const [shouldPreferDark, setPrefersDark] = useState(mediaQuery.matches);\n  useEffect(() => {\n    const listener = (event) => {\n      setPrefersDark(event.matches);\n    };\n    mediaQuery.addListener(listener);\n    return () => {\n      mediaQuery.removeListener(listener);\n    };\n  }, [mediaQuery]);\n  return shouldPreferDark;\n};\nfunction AppThemeProvider({ children }) {\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(\n    appThemeApi.activeThemeId$(),\n    appThemeApi.getActiveThemeId()\n  );\n  const shouldPreferDark = Boolean(window.matchMedia) ? useShouldPreferDarkTheme() : false;\n  const appTheme = resolveTheme(\n    themeId,\n    shouldPreferDark,\n    appThemeApi.getInstalledThemes()\n  );\n  if (!appTheme) {\n    throw new Error(\"App has no themes\");\n  }\n  return /* @__PURE__ */ React.createElement(appTheme.Provider, { children });\n}\n\nexport { AppThemeProvider };\n//# sourceMappingURL=AppThemeProvider.esm.js.map\n","const defaultConfigLoader = async () => defaultConfigLoaderSync();\nfunction defaultConfigLoaderSync(runtimeConfigJson = \"__APP_INJECTED_RUNTIME_CONFIG__\") {\n  const appConfig = process.env.APP_CONFIG;\n  if (!appConfig) {\n    throw new Error(\"No static configuration provided\");\n  }\n  if (!Array.isArray(appConfig)) {\n    throw new Error(\"Static configuration has invalid format\");\n  }\n  const configs = appConfig.slice();\n  const configScripts = document.querySelectorAll(\n    'script[type=\"backstage.io/config\"]'\n  );\n  if (configScripts.length > 0) {\n    for (const el of configScripts) {\n      try {\n        const content = el.textContent;\n        if (!content) {\n          throw new Error(\"tag is empty\");\n        }\n        let data;\n        try {\n          data = JSON.parse(content);\n        } catch (error) {\n          throw new Error(`failed to parse config; ${error}`);\n        }\n        if (!Array.isArray(data)) {\n          throw new Error(\"data is not an array\");\n        }\n        configs.push(...data);\n      } catch (error) {\n        throw new Error(\n          `Failed to load config from script tag, ${error.message}`\n        );\n      }\n    }\n  } else if (runtimeConfigJson !== // Avoiding this string also being replaced at runtime\n  \"__app_injected_runtime_config__\".toLocaleUpperCase(\"en-US\")) {\n    try {\n      const data = JSON.parse(runtimeConfigJson);\n      if (Array.isArray(data)) {\n        configs.push(...data);\n      } else {\n        configs.push({ data, context: \"env\" });\n      }\n    } catch (error) {\n      throw new Error(`Failed to load runtime configuration, ${error}`);\n    }\n  }\n  const windowAppConfig = window.__APP_CONFIG__;\n  if (windowAppConfig) {\n    configs.push({\n      context: \"window\",\n      data: windowAppConfig\n    });\n  }\n  return configs;\n}\n\nexport { defaultConfigLoader, defaultConfigLoaderSync };\n//# sourceMappingURL=defaultConfigLoader.esm.js.map\n","class ApiRegistryBuilder {\n  apis = [];\n  add(api, impl) {\n    this.apis.push([api.id, impl]);\n    return impl;\n  }\n  build() {\n    return new ApiRegistry(new Map(this.apis));\n  }\n}\nclass ApiRegistry {\n  constructor(apis) {\n    this.apis = apis;\n  }\n  static builder() {\n    return new ApiRegistryBuilder();\n  }\n  /**\n   * Creates a new ApiRegistry with a list of API implementations.\n   *\n   * @param apis - A list of pairs mapping an ApiRef to its respective implementation\n   */\n  static from(apis) {\n    return new ApiRegistry(new Map(apis.map(([api, impl]) => [api.id, impl])));\n  }\n  /**\n   * Creates a new ApiRegistry with a single API implementation.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  static with(api, impl) {\n    return new ApiRegistry(/* @__PURE__ */ new Map([[api.id, impl]]));\n  }\n  /**\n   * Returns a new ApiRegistry with the provided API added to the existing ones.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  with(api, impl) {\n    return new ApiRegistry(new Map([...this.apis, [api.id, impl]]));\n  }\n  get(api) {\n    return this.apis.get(api.id);\n  }\n}\n\nexport { ApiRegistry };\n//# sourceMappingURL=ApiRegistry.esm.js.map\n","function collectRouteIds(plugins) {\n  const routesById = /* @__PURE__ */ new Map();\n  const externalRoutesById = /* @__PURE__ */ new Map();\n  for (const plugin of plugins) {\n    for (const [name, ref] of Object.entries(plugin.routes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (routesById.has(refId)) {\n        throw new Error(`Unexpected duplicate route '${refId}'`);\n      }\n      routesById.set(refId, ref);\n    }\n    for (const [name, ref] of Object.entries(plugin.externalRoutes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (externalRoutesById.has(refId)) {\n        throw new Error(`Unexpected duplicate external route '${refId}'`);\n      }\n      externalRoutesById.set(refId, ref);\n    }\n  }\n  return { routes: routesById, externalRoutes: externalRoutesById };\n}\nfunction resolveRouteBindings(bindRoutes, config, plugins) {\n  const routesById = collectRouteIds(plugins);\n  const result = /* @__PURE__ */ new Map();\n  const disabledExternalRefs = /* @__PURE__ */ new Set();\n  if (bindRoutes) {\n    const bind = (externalRoutes, targetRoutes) => {\n      for (const [key, value] of Object.entries(targetRoutes)) {\n        const externalRoute = externalRoutes[key];\n        if (!externalRoute) {\n          throw new Error(`Key ${key} is not an existing external route`);\n        }\n        if (!value && !externalRoute.optional) {\n          throw new Error(\n            `External route ${key} is required but was ${value === false ? \"disabled\" : \"not provided\"}`\n          );\n        }\n        if (value) {\n          result.set(externalRoute, value);\n        } else if (value === false) {\n          disabledExternalRefs.add(externalRoute);\n        }\n      }\n    };\n    bindRoutes({ bind });\n  }\n  const bindings = config.getOptionalConfig(\"app.routes.bindings\")?.get();\n  if (bindings) {\n    for (const [externalRefId, targetRefId] of Object.entries(bindings)) {\n      if (!isValidTargetRefId(targetRefId)) {\n        throw new Error(\n          `Invalid config at app.routes.bindings['${externalRefId}'], value must be a non-empty string or false`\n        );\n      }\n      const externalRef = routesById.externalRoutes.get(externalRefId);\n      if (!externalRef) {\n        throw new Error(\n          `Invalid config at app.routes.bindings, '${externalRefId}' is not a valid external route`\n        );\n      }\n      if (result.has(externalRef) || disabledExternalRefs.has(externalRef)) {\n        continue;\n      }\n      if (targetRefId === false) {\n        disabledExternalRefs.add(externalRef);\n      } else {\n        const targetRef = routesById.routes.get(targetRefId);\n        if (!targetRef) {\n          throw new Error(\n            `Invalid config at app.routes.bindings['${externalRefId}'], '${targetRefId}' is not a valid route`\n          );\n        }\n        result.set(externalRef, targetRef);\n      }\n    }\n  }\n  for (const externalRef of routesById.externalRoutes.values()) {\n    if (!result.has(externalRef) && !disabledExternalRefs.has(externalRef)) {\n      const defaultRefId = \"getDefaultTarget\" in externalRef ? externalRef.getDefaultTarget() : void 0;\n      if (defaultRefId) {\n        const defaultRef = routesById.routes.get(defaultRefId);\n        if (defaultRef) {\n          result.set(externalRef, defaultRef);\n        }\n      }\n    }\n  }\n  return result;\n}\nfunction isValidTargetRefId(value) {\n  if (value === false) {\n    return true;\n  }\n  if (typeof value === \"string\" && value) {\n    return true;\n  }\n  return false;\n}\n\nexport { collectRouteIds, resolveRouteBindings };\n//# sourceMappingURL=resolveRouteBindings.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\nimport '@backstage/core-plugin-api';\n\nconst STORAGE_KEY = \"language\";\nconst DEFAULT_LANGUAGE = \"en\";\nclass AppLanguageSelector {\n  static create(options) {\n    const languages = options?.availableLanguages ?? [DEFAULT_LANGUAGE];\n    if (languages.length !== new Set(languages).size) {\n      throw new Error(\n        `Supported languages may not contain duplicates, got '${languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    if (!languages.includes(DEFAULT_LANGUAGE)) {\n      throw new Error(`Supported languages must include '${DEFAULT_LANGUAGE}'`);\n    }\n    const initialLanguage = options?.defaultLanguage ?? DEFAULT_LANGUAGE;\n    if (!languages.includes(initialLanguage)) {\n      throw new Error(\n        `Initial language must be one of the supported languages, got '${initialLanguage}'`\n      );\n    }\n    return new AppLanguageSelector(languages, initialLanguage);\n  }\n  static createWithStorage(options) {\n    const selector = AppLanguageSelector.create(options);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const storedLanguage = window.localStorage.getItem(STORAGE_KEY);\n    const { languages } = selector.getAvailableLanguages();\n    if (storedLanguage && languages.includes(storedLanguage)) {\n      selector.setLanguage(storedLanguage);\n    }\n    selector.language$().subscribe(({ language }) => {\n      if (language !== window.localStorage.getItem(STORAGE_KEY)) {\n        window.localStorage.setItem(STORAGE_KEY, language);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const language = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        if (language) {\n          selector.setLanguage(language);\n        }\n      }\n    });\n    return selector;\n  }\n  #languages;\n  #language;\n  #subject;\n  constructor(languages, initialLanguage) {\n    this.#languages = languages;\n    this.#language = initialLanguage;\n    this.#subject = new BehaviorSubject({\n      language: this.#language\n    });\n  }\n  getAvailableLanguages() {\n    return { languages: this.#languages.slice() };\n  }\n  setLanguage(language) {\n    const lng = language ?? DEFAULT_LANGUAGE;\n    if (lng === this.#language) {\n      return;\n    }\n    if (lng && !this.#languages.includes(lng)) {\n      throw new Error(\n        `Failed to change language to '${lng}', available languages are '${this.#languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    this.#language = lng;\n    this.#subject.next({ language: lng });\n  }\n  getLanguage() {\n    return { language: this.#language };\n  }\n  language$() {\n    return this.#subject;\n  }\n}\n\nexport { AppLanguageSelector, DEFAULT_LANGUAGE };\n//# sourceMappingURL=AppLanguageSelector.esm.js.map\n","function toInternalTranslationResource(resource) {\n  const r = resource;\n  if (r.$$type !== \"@backstage/TranslationResource\") {\n    throw new Error(`Invalid translation resource, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation resource, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","function toInternalTranslationRef(ref) {\n  const r = ref;\n  if (r.$$type !== \"@backstage/TranslationRef\") {\n    throw new Error(`Invalid translation ref, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation ref, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","import { createInstance } from 'i18next';\nimport ObservableImpl from 'zen-observable';\nimport { toInternalTranslationResource } from '../../../core-plugin-api/src/translation/TranslationResource.esm.js';\nimport { toInternalTranslationRef } from '../../../core-plugin-api/src/translation/TranslationRef.esm.js';\nimport { DEFAULT_LANGUAGE } from '../AppLanguageApi/AppLanguageSelector.esm.js';\n\nfunction removeNulls(messages) {\n  return Object.fromEntries(\n    Object.entries(messages).filter(\n      (e) => e[1] !== null\n    )\n  );\n}\nclass ResourceLoader {\n  constructor(onLoad) {\n    this.onLoad = onLoad;\n  }\n  /** Loaded resources by loader key */\n  #loaded = /* @__PURE__ */ new Set();\n  /** Resource loading promises by loader key */\n  #loading = /* @__PURE__ */ new Map();\n  /** Loaders for each resource language */\n  #loaders = /* @__PURE__ */ new Map();\n  addTranslationResource(resource) {\n    const internalResource = toInternalTranslationResource(resource);\n    for (const entry of internalResource.resources) {\n      const key = this.#getLoaderKey(entry.language, internalResource.id);\n      if (!this.#loaders.has(key)) {\n        this.#loaders.set(key, entry.loader);\n      }\n    }\n  }\n  #getLoaderKey(language, namespace) {\n    return `${language}/${namespace}`;\n  }\n  needsLoading(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return false;\n    }\n    return !this.#loaded.has(key);\n  }\n  async load(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return;\n    }\n    if (this.#loaded.has(key)) {\n      return;\n    }\n    const loading = this.#loading.get(key);\n    if (loading) {\n      await loading;\n      return;\n    }\n    const load = loader().then(\n      (result) => {\n        this.onLoad({ language, namespace, messages: result.messages });\n        this.#loaded.add(key);\n      },\n      (error) => {\n        this.#loaded.add(key);\n        throw error;\n      }\n    );\n    this.#loading.set(key, load);\n    await load;\n  }\n}\nclass I18nextTranslationApi {\n  static create(options) {\n    const { languages } = options.languageApi.getAvailableLanguages();\n    const i18n = createInstance({\n      fallbackLng: DEFAULT_LANGUAGE,\n      supportedLngs: languages,\n      interpolation: {\n        escapeValue: false\n      },\n      ns: [],\n      defaultNS: false,\n      fallbackNS: false,\n      // Disable resource loading on init, meaning i18n will be ready to use immediately\n      initImmediate: false\n    });\n    i18n.init();\n    if (!i18n.isInitialized) {\n      throw new Error(\"i18next was unexpectedly not initialized\");\n    }\n    const { language: initialLanguage } = options.languageApi.getLanguage();\n    if (initialLanguage !== DEFAULT_LANGUAGE) {\n      i18n.changeLanguage(initialLanguage);\n    }\n    const loader = new ResourceLoader((loaded) => {\n      i18n.addResourceBundle(\n        loaded.language,\n        loaded.namespace,\n        removeNulls(loaded.messages),\n        false,\n        // do not merge with existing translations\n        true\n        // overwrite translations\n      );\n    });\n    const resources = options?.resources || [];\n    for (let i = resources.length - 1; i >= 0; i--) {\n      const resource = resources[i];\n      if (resource.$$type === \"@backstage/TranslationResource\") {\n        loader.addTranslationResource(resource);\n      } else if (resource.$$type === \"@backstage/TranslationMessages\") {\n        i18n.addResourceBundle(\n          DEFAULT_LANGUAGE,\n          resource.id,\n          removeNulls(resource.messages),\n          true,\n          // merge with existing translations\n          false\n          // do not overwrite translations\n        );\n      }\n    }\n    const instance = new I18nextTranslationApi(\n      i18n,\n      loader,\n      options.languageApi.getLanguage().language\n    );\n    options.languageApi.language$().subscribe(({ language }) => {\n      instance.#changeLanguage(language);\n    });\n    return instance;\n  }\n  #i18n;\n  #loader;\n  #language;\n  /** Keep track of which refs we have registered default resources for */\n  #registeredRefs = /* @__PURE__ */ new Set();\n  /** Notify observers when language changes */\n  #languageChangeListeners = /* @__PURE__ */ new Set();\n  constructor(i18n, loader, language) {\n    this.#i18n = i18n;\n    this.#loader = loader;\n    this.#language = language;\n  }\n  getTranslation(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return this.#createSnapshot(internalRef);\n  }\n  translation$(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return new ObservableImpl((subscriber) => {\n      let loadTicket = {};\n      const loadResource = () => {\n        loadTicket = {};\n        const ticket = loadTicket;\n        this.#loader.load(this.#language, internalRef.id).then(\n          () => {\n            if (ticket === loadTicket) {\n              const snapshot = this.#createSnapshot(internalRef);\n              if (snapshot.ready) {\n                subscriber.next(snapshot);\n              }\n            }\n          },\n          (error) => {\n            if (ticket === loadTicket) {\n              subscriber.error(Array.isArray(error) ? error[0] : error);\n            }\n          }\n        );\n      };\n      const onChange = () => {\n        const snapshot = this.#createSnapshot(internalRef);\n        if (snapshot.ready) {\n          subscriber.next(snapshot);\n        } else {\n          loadResource();\n        }\n      };\n      if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n        loadResource();\n      }\n      this.#languageChangeListeners.add(onChange);\n      return () => {\n        this.#languageChangeListeners.delete(onChange);\n      };\n    });\n  }\n  #changeLanguage(language) {\n    if (this.#language !== language) {\n      this.#language = language;\n      this.#i18n.changeLanguage(language);\n      this.#languageChangeListeners.forEach((listener) => listener());\n    }\n  }\n  #createSnapshot(internalRef) {\n    if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n      return { ready: false };\n    }\n    const t = this.#i18n.getFixedT(\n      null,\n      internalRef.id\n    );\n    return {\n      ready: true,\n      t\n    };\n  }\n  #registerDefaults(internalRef) {\n    if (this.#registeredRefs.has(internalRef.id)) {\n      return;\n    }\n    this.#registeredRefs.add(internalRef.id);\n    const defaultMessages = internalRef.getDefaultMessages();\n    this.#i18n.addResourceBundle(\n      DEFAULT_LANGUAGE,\n      internalRef.id,\n      defaultMessages,\n      true,\n      // merge with existing translations\n      false\n      // do not overwrite translations\n    );\n    const defaultResource = internalRef.getDefaultResource();\n    if (defaultResource) {\n      this.#loader.addTranslationResource(defaultResource);\n    }\n  }\n}\n\nexport { I18nextTranslationApi };\n//# sourceMappingURL=I18nextTranslationApi.esm.js.map\n","import { ConfigReader } from '@backstage/config';\n\nfunction createLocalBaseUrl(fullUrl) {\n  const url = new URL(fullUrl);\n  url.protocol = document.location.protocol;\n  url.hostname = document.location.hostname;\n  url.port = document.location.port;\n  return url.toString().replace(/\\/$/, \"\");\n}\nfunction overrideBaseUrlConfigs(inputConfigs) {\n  const urlConfigReader = ConfigReader.fromConfigs(inputConfigs);\n  const appBaseUrl = urlConfigReader.getOptionalString(\"app.baseUrl\");\n  const backendBaseUrl = urlConfigReader.getOptionalString(\"backend.baseUrl\");\n  let configs = inputConfigs;\n  let newBackendBaseUrl = void 0;\n  let newAppBaseUrl = void 0;\n  if (appBaseUrl && backendBaseUrl) {\n    const appOrigin = new URL(appBaseUrl).origin;\n    const backendOrigin = new URL(backendBaseUrl).origin;\n    if (appOrigin === backendOrigin) {\n      const maybeNewBackendBaseUrl = createLocalBaseUrl(backendBaseUrl);\n      if (backendBaseUrl !== maybeNewBackendBaseUrl) {\n        newBackendBaseUrl = maybeNewBackendBaseUrl;\n      }\n    }\n  }\n  if (appBaseUrl) {\n    const maybeNewAppBaseUrl = createLocalBaseUrl(appBaseUrl);\n    if (appBaseUrl !== maybeNewAppBaseUrl) {\n      newAppBaseUrl = maybeNewAppBaseUrl;\n    }\n  }\n  if (newAppBaseUrl || newBackendBaseUrl) {\n    configs = configs.concat({\n      data: {\n        app: newAppBaseUrl && {\n          baseUrl: newAppBaseUrl\n        },\n        backend: newBackendBaseUrl && {\n          baseUrl: newBackendBaseUrl\n        }\n      },\n      context: \"relative-resolver\"\n    });\n  }\n  return configs;\n}\n\nexport { overrideBaseUrlConfigs };\n//# sourceMappingURL=overrideBaseUrlConfigs.esm.js.map\n","function isProtectedApp() {\n  const element = document.querySelector('meta[name=\"backstage-app-mode\"]');\n  const appMode = element?.getAttribute(\"content\") ?? \"public\";\n  return appMode === \"protected\";\n}\n\nexport { isProtectedApp };\n//# sourceMappingURL=isProtectedApp.esm.js.map\n","import React, { useRef, useMemo, Suspense } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { ApiProvider } from '../apis/system/ApiProvider.esm.js';\nimport { ApiResolver } from '../apis/system/ApiResolver.esm.js';\nimport { ApiFactoryRegistry } from '../apis/system/ApiFactoryRegistry.esm.js';\nimport 'zen-observable';\nimport { appThemeApiRef, configApiRef, identityApiRef, featureFlagsApiRef, errorApiRef, fetchApiRef, discoveryApiRef } from '@backstage/core-plugin-api';\nimport '../apis/implementations/auth/saml/types.esm.js';\nimport { AppThemeSelector } from '../apis/implementations/AppThemeApi/AppThemeSelector.esm.js';\nimport { ConfigReader } from '@backstage/config';\nimport { LocalStorageFeatureFlags } from '../apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js';\nimport { appLanguageApiRef, translationApiRef } from '@backstage/core-plugin-api/alpha';\nimport { traverseElementTree, childDiscoverer, routeElementDiscoverer } from '../extensions/traversal.esm.js';\nimport { pluginCollector } from '../plugins/collectors.esm.js';\nimport { routingV1Collector, routingV2Collector, featureFlagCollector } from '../routing/collectors.esm.js';\nimport { RoutingProvider } from '../routing/RoutingProvider.esm.js';\nimport { validateRouteParameters, validateRouteBindings } from '../routing/validation.esm.js';\nimport { AppContextProvider } from './AppContext.esm.js';\nimport { AppIdentityProxy } from '../apis/implementations/IdentityApi/AppIdentityProxy.esm.js';\nimport { AppThemeProvider } from './AppThemeProvider.esm.js';\nimport { defaultConfigLoader } from './defaultConfigLoader.esm.js';\nimport { ApiRegistry } from '../apis/system/ApiRegistry.esm.js';\nimport { resolveRouteBindings } from './resolveRouteBindings.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { AppRouter, getBasePath } from './AppRouter.esm.js';\nimport { AppLanguageSelector } from '../apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js';\nimport { I18nextTranslationApi } from '../apis/implementations/TranslationApi/I18nextTranslationApi.esm.js';\nimport { overrideBaseUrlConfigs } from './overrideBaseUrlConfigs.esm.js';\nimport { isProtectedApp } from './isProtectedApp.esm.js';\n\nfunction useConfigLoader(configLoader, components, appThemeApi) {\n  const hasConfig = Boolean(configLoader);\n  const config = useAsync(configLoader || (() => Promise.resolve([])));\n  let noConfigNode = void 0;\n  if (hasConfig && config.loading) {\n    const { Progress } = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (config.error) {\n    const { BootErrorPage } = components;\n    noConfigNode = /* @__PURE__ */ React.createElement(BootErrorPage, { step: \"load-config\", error: config.error });\n  }\n  const { ThemeProvider = AppThemeProvider } = components;\n  if (noConfigNode) {\n    return {\n      node: /* @__PURE__ */ React.createElement(ApiProvider, { apis: ApiRegistry.with(appThemeApiRef, appThemeApi) }, /* @__PURE__ */ React.createElement(ThemeProvider, null, noConfigNode))\n    };\n  }\n  const configReader = ConfigReader.fromConfigs(\n    config.value?.length ? overrideBaseUrlConfigs(config.value) : []\n  );\n  return { api: configReader };\n}\nclass AppContextImpl {\n  constructor(app) {\n    this.app = app;\n  }\n  getPlugins() {\n    return this.app.getPlugins();\n  }\n  getSystemIcon(key) {\n    return this.app.getSystemIcon(key);\n  }\n  getSystemIcons() {\n    return this.app.getSystemIcons();\n  }\n  getComponents() {\n    return this.app.getComponents();\n  }\n}\nclass AppManager {\n  apiHolder;\n  configApi;\n  apis;\n  icons;\n  plugins;\n  featureFlags;\n  components;\n  themes;\n  configLoader;\n  defaultApis;\n  bindRoutes;\n  appLanguageApi;\n  translationResources;\n  appIdentityProxy = new AppIdentityProxy();\n  apiFactoryRegistry;\n  constructor(options) {\n    this.apis = options.apis ?? [];\n    this.icons = options.icons;\n    this.plugins = new Set(options.plugins ?? []);\n    this.featureFlags = options.featureFlags ?? [];\n    this.components = options.components;\n    this.themes = options.themes;\n    this.configLoader = options.configLoader ?? defaultConfigLoader;\n    this.defaultApis = options.defaultApis ?? [];\n    this.bindRoutes = options.bindRoutes;\n    this.apiFactoryRegistry = new ApiFactoryRegistry();\n    this.appLanguageApi = AppLanguageSelector.createWithStorage({\n      defaultLanguage: options.__experimentalTranslations?.defaultLanguage,\n      availableLanguages: options.__experimentalTranslations?.availableLanguages\n    });\n    this.translationResources = options.__experimentalTranslations?.resources ?? [];\n  }\n  getPlugins() {\n    return Array.from(this.plugins);\n  }\n  getSystemIcon(key) {\n    return this.icons[key];\n  }\n  getSystemIcons() {\n    return this.icons;\n  }\n  getComponents() {\n    return this.components;\n  }\n  createRoot(element) {\n    const AppProvider = this.getProvider();\n    const AppRoot = () => {\n      return /* @__PURE__ */ React.createElement(AppProvider, null, element);\n    };\n    return AppRoot;\n  }\n  #getProviderCalled = false;\n  getProvider() {\n    if (this.#getProviderCalled) {\n      throw new Error(\n        \"app.getProvider() or app.createRoot() has already been called, and can only be called once\"\n      );\n    }\n    this.#getProviderCalled = true;\n    const appContext = new AppContextImpl(this);\n    let routeBindings;\n    let routeValidationError = void 0;\n    const Provider = ({ children }) => {\n      const needsFeatureFlagRegistrationRef = useRef(true);\n      const appThemeApi = useMemo(\n        () => AppThemeSelector.createWithStorage(this.themes),\n        []\n      );\n      const { routing, featureFlags } = useMemo(() => {\n        const usesReactRouterBeta = isReactRouterBeta();\n        if (usesReactRouterBeta) {\n          console.warn(`\nDEPRECATION WARNING: React Router Beta is deprecated and support for it will be removed in a future release.\n                     Please migrate to use React Router v6 stable.\n                     See https://backstage.io/docs/tutorials/react-router-stable-migration\n`);\n        }\n        const result = traverseElementTree({\n          root: children,\n          discoverers: [childDiscoverer, routeElementDiscoverer],\n          collectors: {\n            routing: usesReactRouterBeta ? routingV1Collector : routingV2Collector,\n            collectedPlugins: pluginCollector,\n            featureFlags: featureFlagCollector\n          }\n        });\n        result.collectedPlugins.forEach((plugin) => this.plugins.add(plugin));\n        this.verifyPlugins(this.plugins);\n        this.getApiHolder();\n        return result;\n      }, [children]);\n      const loadedConfig = useConfigLoader(\n        this.configLoader,\n        this.components,\n        appThemeApi\n      );\n      const hasConfigApi = \"api\" in loadedConfig;\n      if (hasConfigApi) {\n        const { api } = loadedConfig;\n        this.configApi = api;\n      }\n      if (\"node\" in loadedConfig) {\n        return loadedConfig.node;\n      }\n      if (routeValidationError) {\n        throw routeValidationError;\n      } else if (!routeBindings) {\n        try {\n          routeBindings = resolveRouteBindings(\n            this.bindRoutes,\n            loadedConfig.api,\n            this.plugins\n          );\n          validateRouteParameters(routing.paths, routing.parents);\n          validateRouteBindings(routeBindings, this.plugins);\n        } catch (error) {\n          routeValidationError = error;\n          throw error;\n        }\n      }\n      if (hasConfigApi && needsFeatureFlagRegistrationRef.current) {\n        needsFeatureFlagRegistrationRef.current = false;\n        const featureFlagsApi = this.getApiHolder().get(featureFlagsApiRef);\n        if (featureFlagsApi) {\n          for (const flag of this.featureFlags) {\n            featureFlagsApi.registerFlag({\n              ...flag,\n              pluginId: \"\"\n            });\n          }\n          for (const plugin of this.plugins.values()) {\n            if (\"getFeatureFlags\" in plugin) {\n              for (const flag of plugin.getFeatureFlags()) {\n                featureFlagsApi.registerFlag({\n                  name: flag.name,\n                  pluginId: plugin.getId()\n                });\n              }\n            } else {\n              for (const output of plugin.output()) {\n                if (output.type === \"feature-flag\") {\n                  featureFlagsApi.registerFlag({\n                    name: output.name,\n                    pluginId: plugin.getId()\n                  });\n                }\n              }\n            }\n          }\n          const registeredFlags = featureFlagsApi.getRegisteredFlags();\n          const flagNames = new Set(registeredFlags.map((f) => f.name));\n          for (const name of featureFlags) {\n            if (!flagNames.has(name)) {\n              featureFlagsApi.registerFlag({ name, pluginId: \"\" });\n            }\n          }\n        }\n      }\n      const { ThemeProvider = AppThemeProvider, Progress } = this.components;\n      const apis = this.getApiHolder();\n      if (isProtectedApp()) {\n        const errorApi = apis.get(errorApiRef);\n        const fetchApi = apis.get(fetchApiRef);\n        const discoveryApi = apis.get(discoveryApiRef);\n        if (!errorApi || !fetchApi || !discoveryApi) {\n          throw new Error(\n            \"App is running in protected mode but missing required APIs\"\n          );\n        }\n        this.appIdentityProxy.enableCookieAuth({\n          errorApi,\n          fetchApi,\n          discoveryApi\n        });\n      }\n      return /* @__PURE__ */ React.createElement(ApiProvider, { apis }, /* @__PURE__ */ React.createElement(AppContextProvider, { appContext }, /* @__PURE__ */ React.createElement(ThemeProvider, null, /* @__PURE__ */ React.createElement(\n        RoutingProvider,\n        {\n          routePaths: routing.paths,\n          routeParents: routing.parents,\n          routeObjects: routing.objects,\n          routeBindings,\n          basePath: getBasePath(loadedConfig.api)\n        },\n        /* @__PURE__ */ React.createElement(\n          InternalAppContext.Provider,\n          {\n            value: {\n              routeObjects: routing.objects,\n              appIdentityProxy: this.appIdentityProxy\n            }\n          },\n          /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, children)\n        )\n      ))));\n    };\n    return Provider;\n  }\n  getRouter() {\n    return AppRouter;\n  }\n  getApiHolder() {\n    if (this.apiHolder) {\n      for (const plugin of this.plugins) {\n        for (const factory of plugin.getApis()) {\n          if (!this.apiFactoryRegistry.get(factory.api)) {\n            this.apiFactoryRegistry.register(\"default\", factory);\n          }\n        }\n      }\n      ApiResolver.validateFactories(\n        this.apiFactoryRegistry,\n        this.apiFactoryRegistry.getAllApis()\n      );\n      return this.apiHolder;\n    }\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appThemeApiRef,\n      deps: {},\n      factory: () => AppThemeSelector.createWithStorage(this.themes)\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: configApiRef,\n      deps: {},\n      factory: () => {\n        if (!this.configApi) {\n          throw new Error(\n            \"Tried to access config API before config was loaded\"\n          );\n        }\n        return this.configApi;\n      }\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: identityApiRef,\n      deps: {},\n      factory: () => this.appIdentityProxy\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appLanguageApiRef,\n      deps: {},\n      factory: () => this.appLanguageApi\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: translationApiRef,\n      deps: { languageApi: appLanguageApiRef },\n      factory: ({ languageApi }) => I18nextTranslationApi.create({\n        languageApi,\n        resources: this.translationResources\n      })\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: featureFlagsApiRef,\n      deps: {},\n      factory: () => new LocalStorageFeatureFlags()\n    });\n    for (const factory of this.defaultApis) {\n      this.apiFactoryRegistry.register(\"default\", factory);\n    }\n    for (const plugin of this.plugins) {\n      for (const factory of plugin.getApis()) {\n        if (!this.apiFactoryRegistry.register(\"default\", factory)) {\n          throw new Error(\n            `Plugin ${plugin.getId()} tried to register duplicate or forbidden API factory for ${factory.api}`\n          );\n        }\n      }\n    }\n    for (const factory of this.apis) {\n      if (!this.apiFactoryRegistry.register(\"app\", factory)) {\n        throw new Error(\n          `Duplicate or forbidden API factory for ${factory.api} in app`\n        );\n      }\n    }\n    ApiResolver.validateFactories(\n      this.apiFactoryRegistry,\n      this.apiFactoryRegistry.getAllApis()\n    );\n    this.apiHolder = new ApiResolver(this.apiFactoryRegistry);\n    return this.apiHolder;\n  }\n  verifyPlugins(plugins) {\n    const pluginIds = /* @__PURE__ */ new Set();\n    for (const plugin of plugins) {\n      const id = plugin.getId();\n      if (pluginIds.has(id)) {\n        throw new Error(`Duplicate plugin found '${id}'`);\n      }\n      pluginIds.add(id);\n    }\n  }\n}\n\nexport { AppManager };\n//# sourceMappingURL=AppManager.esm.js.map\n","import { AppManager } from './AppManager.esm.js';\n\nfunction createSpecializedApp(options) {\n  return new AppManager(options);\n}\n\nexport { createSpecializedApp };\n//# sourceMappingURL=createSpecializedApp.esm.js.map\n","import { apis } from './defaults/apis.esm.js';\nimport { components } from './defaults/components.esm.js';\nimport { icons } from './defaults/icons.esm.js';\nimport { themes } from './defaults/themes.esm.js';\nimport { createSpecializedApp } from '@backstage/core-app-api';\n\nfunction createApp(options) {\n  return createSpecializedApp({\n    ...options,\n    apis: options?.apis ?? [],\n    bindRoutes: options?.bindRoutes,\n    components: {\n      ...components,\n      ...options?.components\n    },\n    configLoader: options?.configLoader,\n    defaultApis: apis,\n    icons: {\n      ...icons,\n      ...options?.icons\n    },\n    plugins: options?.plugins ?? [],\n    featureFlags: options?.featureFlags ?? [],\n    themes: options?.themes ?? themes\n  });\n}\n\nexport { createApp };\n//# sourceMappingURL=createApp.esm.js.map\n","const CATALOG_FILTER_EXISTS = Symbol.for(\n  // Random UUID to ensure no collisions\n  \"CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111\"\n);\n\nexport { CATALOG_FILTER_EXISTS };\n//# sourceMappingURL=api.esm.js.map\n","const DEFAULT_NAMESPACE = \"default\";\nconst ANNOTATION_VIEW_URL = \"backstage.io/view-url\";\nconst ANNOTATION_EDIT_URL = \"backstage.io/edit-url\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\n\nexport { ANNOTATION_EDIT_URL, ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_VIEW_URL, DEFAULT_NAMESPACE };\n//# sourceMappingURL=constants.esm.js.map\n","import { DEFAULT_NAMESPACE } from './constants.esm.js';\n\nfunction parseRefString(ref) {\n  let colonI = ref.indexOf(\":\");\n  const slashI = ref.indexOf(\"/\");\n  if (slashI !== -1 && slashI < colonI) {\n    colonI = -1;\n  }\n  const kind = colonI === -1 ? void 0 : ref.slice(0, colonI);\n  const namespace = slashI === -1 ? void 0 : ref.slice(colonI + 1, slashI);\n  const name = ref.slice(Math.max(colonI + 1, slashI + 1));\n  if (kind === \"\" || namespace === \"\" || name === \"\") {\n    throw new TypeError(\n      `Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`\n    );\n  }\n  return { kind, namespace, name };\n}\nfunction getCompoundEntityRef(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityRef(ref, context) {\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  const defaultKind = context?.defaultKind;\n  const defaultNamespace = context?.defaultNamespace || DEFAULT_NAMESPACE;\n  let kind;\n  let namespace;\n  let name;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    kind = parsed.kind ?? defaultKind;\n    namespace = parsed.namespace ?? defaultNamespace;\n    name = parsed.name;\n  } else {\n    kind = ref.kind ?? defaultKind;\n    namespace = ref.namespace ?? defaultNamespace;\n    name = ref.name;\n  }\n  if (!kind) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty kind (e.g. did not start with \"component:\" or similar)`\n    );\n  } else if (!namespace) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty namespace`\n    );\n  } else if (!name) {\n    const textual = JSON.stringify(ref);\n    throw new Error(`Entity reference ${textual} had missing or empty name`);\n  }\n  return { kind, namespace, name };\n}\nfunction stringifyEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLocaleLowerCase(\"en-US\")}:${namespace.toLocaleLowerCase(\n    \"en-US\"\n  )}/${name.toLocaleLowerCase(\"en-US\")}`;\n}\n\nexport { getCompoundEntityRef, parseEntityRef, stringifyEntityRef };\n//# sourceMappingURL=ref.esm.js.map\n","const RELATION_OWNED_BY = \"ownedBy\";\nconst RELATION_OWNER_OF = \"ownerOf\";\nconst RELATION_CONSUMES_API = \"consumesApi\";\nconst RELATION_API_CONSUMED_BY = \"apiConsumedBy\";\nconst RELATION_PROVIDES_API = \"providesApi\";\nconst RELATION_API_PROVIDED_BY = \"apiProvidedBy\";\nconst RELATION_DEPENDS_ON = \"dependsOn\";\nconst RELATION_DEPENDENCY_OF = \"dependencyOf\";\nconst RELATION_PARENT_OF = \"parentOf\";\nconst RELATION_CHILD_OF = \"childOf\";\nconst RELATION_MEMBER_OF = \"memberOf\";\nconst RELATION_HAS_MEMBER = \"hasMember\";\nconst RELATION_PART_OF = \"partOf\";\nconst RELATION_HAS_PART = \"hasPart\";\n\nexport { RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_CHILD_OF, RELATION_CONSUMES_API, RELATION_DEPENDENCY_OF, RELATION_DEPENDS_ON, RELATION_HAS_MEMBER, RELATION_HAS_PART, RELATION_MEMBER_OF, RELATION_OWNED_BY, RELATION_OWNER_OF, RELATION_PARENT_OF, RELATION_PART_OF, RELATION_PROVIDES_API };\n//# sourceMappingURL=relations.esm.js.map\n","const ANNOTATION_LOCATION = \"backstage.io/managed-by-location\";\nconst ANNOTATION_ORIGIN_LOCATION = \"backstage.io/managed-by-origin-location\";\nconst ANNOTATION_SOURCE_LOCATION = \"backstage.io/source-location\";\n\nexport { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, ANNOTATION_SOURCE_LOCATION };\n//# sourceMappingURL=annotation.esm.js.map\n","import 'lodash';\nimport { stringifyEntityRef } from '../entity/ref.esm.js';\nimport 'ajv';\nimport '../validation/makeValidator.esm.js';\nimport { ANNOTATION_SOURCE_LOCATION, ANNOTATION_LOCATION } from './annotation.esm.js';\n\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nfunction parseLocationRef(ref) {\n  if (typeof ref !== \"string\") {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', unexpected argument ${typeof ref}`\n    );\n  }\n  const splitIndex = ref.indexOf(\":\");\n  if (splitIndex < 0) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  const type = ref.substring(0, splitIndex).trim();\n  const target = ref.substring(splitIndex + 1).trim();\n  if (!type || !target) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  if (type === \"http\" || type === \"https\") {\n    throw new TypeError(\n      `Invalid location ref '${ref}', please prefix it with 'url:', e.g. 'url:${ref}'`\n    );\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${ref}', target is a javascript: URL`\n    );\n  }\n  return { type, target };\n}\nfunction stringifyLocationRef(ref) {\n  const { type, target } = ref;\n  if (!type) {\n    throw new TypeError(`Unable to stringify location ref, empty type`);\n  } else if (!target) {\n    throw new TypeError(`Unable to stringify location ref, empty target`);\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${type}:${target}', target is a javascript: URL`\n    );\n  }\n  return `${type}:${target}`;\n}\nfunction getEntitySourceLocation(entity) {\n  const locationRef = entity.metadata?.annotations?.[ANNOTATION_SOURCE_LOCATION] ?? entity.metadata?.annotations?.[ANNOTATION_LOCATION];\n  if (!locationRef) {\n    throw new Error(\n      `Entity '${stringifyEntityRef(entity)}' is missing location`\n    );\n  }\n  return parseLocationRef(locationRef);\n}\n\nexport { getEntitySourceLocation, parseLocationRef, stringifyLocationRef };\n//# sourceMappingURL=helpers.esm.js.map\n","import lodash from 'lodash';\n\nclass CommonValidatorFunctions {\n  /**\n   * Checks that the value is on the form `<suffix>` or `<prefix><separator><suffix>`, and validates\n   * those parts separately.\n   *\n   * @param value - The value to check\n   * @param separator - The separator between parts\n   * @param isValidPrefix - Checks that the part before the separator is valid, if present\n   * @param isValidSuffix - Checks that the part after the separator (or the entire value if there is no separator) is valid\n   */\n  static isValidPrefixAndOrSuffix(value, separator, isValidPrefix, isValidSuffix) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    const parts = value.split(separator);\n    if (parts.length === 1) {\n      return isValidSuffix(parts[0]);\n    } else if (parts.length === 2) {\n      return isValidPrefix(parts[0]) && isValidSuffix(parts[1]);\n    }\n    return false;\n  }\n  /**\n   * Checks that the value can be safely transferred as JSON.\n   *\n   * @param value - The value to check\n   */\n  static isJsonSafe(value) {\n    try {\n      return lodash.isEqual(value, JSON.parse(JSON.stringify(value)));\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a valid DNS subdomain name.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsSubdomain(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 253 && value.split(\".\").every(CommonValidatorFunctions.isValidDnsLabel);\n  }\n  /**\n   * Checks that the value is a valid DNS label.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsLabel(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9]+(?:\\-+[a-z0-9]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid tag.\n   *\n   * @deprecated This will be removed in a future release\n   * @param value - The value to check\n   */\n  static isValidTag(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9+#]+(\\-[a-z0-9+#]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid string URL.\n   *\n   * @param value - The value to check\n   */\n  static isValidUrl(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    try {\n      new URL(value);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a non empty string value.\n   *\n   * @deprecated use isNonEmptyString instead\n   * @param value - The value to check\n   */\n  static isValidString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n  /**\n   * Checks that the value is a string value that's not empty.\n   *\n   * @param value - The value to check\n   */\n  static isNonEmptyString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n}\n\nexport { CommonValidatorFunctions };\n//# sourceMappingURL=CommonValidatorFunctions.esm.js.map\n","import { CommonValidatorFunctions } from './CommonValidatorFunctions.esm.js';\n\nclass KubernetesValidatorFunctions {\n  static isValidApiVersion(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      (n) => n.length >= 1 && n.length <= 63 && /^[a-z0-9A-Z]+$/.test(n)\n    );\n  }\n  static isValidKind(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-zA-Z][a-z0-9A-Z]*$/.test(value);\n  }\n  static isValidObjectName(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(value);\n  }\n  static isValidNamespace(value) {\n    return CommonValidatorFunctions.isValidDnsLabel(value);\n  }\n  static isValidLabelKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidLabelValue(value) {\n    return value === \"\" || KubernetesValidatorFunctions.isValidObjectName(value);\n  }\n  static isValidAnnotationKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidAnnotationValue(value) {\n    return typeof value === \"string\";\n  }\n}\n\nexport { KubernetesValidatorFunctions };\n//# sourceMappingURL=KubernetesValidatorFunctions.esm.js.map\n","/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This script is used to pick up and set the public path of the Webpack bundle\n// at runtime. The meta tag is injected by the app build, but only present in\n// the `index.html.tmpl` file. The runtime value of the meta tag is populated by\n// the app backend, when it templates the final `index.html` file.\n//\n// This is needed for additional chunks to use the correct public path, and it\n// is not possible to set the `__webpack_public_path__` variable outside of the\n// build itself. The Webpack output also does not read any <base> tags or\n// similar, this seems to be the only way to dynamically configure the public\n// path at runtime.\nconst el = document.querySelector('meta[name=\"backstage-public-path\"]');\nconst path = el?.getAttribute('content');\nif (path) {\n  __webpack_public_path__ = path;\n}\n","import React, { useEffect } from 'react';\nimport { useLocation, matchRoutes } from 'react-router-dom';\nimport { AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\n\nconst getExtensionContext = (pathname, routes) => {\n  try {\n    const matches = matchRoutes(routes, { pathname });\n    const routeMatch = matches?.filter((match) => match?.route.routeRefs?.size > 0).pop();\n    const routeObject = routeMatch?.route;\n    if (!routeObject) {\n      return void 0;\n    }\n    if (routeObject.path === \"\" && pathname !== \"/\") {\n      return void 0;\n    }\n    let routeRef;\n    if (routeObject.routeRefs.size === 1) {\n      routeRef = routeObject.routeRefs.values().next().value;\n    }\n    let plugin;\n    if (routeObject.plugins.size === 1) {\n      plugin = routeObject.plugins.values().next().value;\n    }\n    const params = Object.entries(\n      routeMatch?.params || {}\n    ).reduce((acc, [key, value]) => {\n      if (value !== void 0 && key !== \"*\") {\n        acc[key] = value;\n      }\n      return acc;\n    }, {});\n    return {\n      extension: \"App\",\n      pluginId: plugin?.getId() || \"root\",\n      ...routeRef ? { routeRef: routeRef.id } : {},\n      _routeNodeType: routeObject.element,\n      params\n    };\n  } catch {\n    return void 0;\n  }\n};\nconst TrackNavigation = ({\n  pathname,\n  search,\n  hash,\n  attributes\n}) => {\n  const analytics = useAnalytics();\n  useEffect(() => {\n    analytics.captureEvent(\"navigate\", `${pathname}${search}${hash}`, {\n      attributes\n    });\n  }, [analytics, pathname, search, hash, attributes]);\n  return null;\n};\nconst RouteTracker = ({\n  routeObjects\n}) => {\n  const { pathname, search, hash } = useLocation();\n  const { params, ...attributes } = getExtensionContext(\n    pathname,\n    routeObjects\n  ) || { params: {} };\n  return /* @__PURE__ */ React.createElement(AnalyticsContext, { attributes }, /* @__PURE__ */ React.createElement(\n    TrackNavigation,\n    {\n      pathname,\n      search,\n      hash,\n      attributes: params\n    }\n  ));\n};\n\nexport { RouteTracker };\n//# sourceMappingURL=RouteTracker.esm.js.map\n","import React, { useContext, useState } from 'react';\nimport { attachComponentData, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { RouteTracker } from '../routing/RouteTracker.esm.js';\nimport { Routes, Route } from 'react-router-dom';\n\nfunction getBasePath(configApi) {\n  if (!isReactRouterBeta()) {\n    return \"\";\n  }\n  return readBasePath(configApi);\n}\nfunction readBasePath(configApi) {\n  let { pathname } = new URL(\n    configApi.getOptionalString(\"app.baseUrl\") ?? \"/\",\n    \"http://sample.dev\"\n    // baseUrl can be specified as just a path\n  );\n  pathname = pathname.replace(/\\/*$/, \"\");\n  return pathname;\n}\nfunction SignInPageWrapper({\n  component: Component,\n  appIdentityProxy,\n  children\n}) {\n  const [identityApi, setIdentityApi] = useState();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  if (!identityApi) {\n    return /* @__PURE__ */ React.createElement(Component, { onSignInSuccess: setIdentityApi });\n  }\n  appIdentityProxy.setTarget(identityApi, {\n    signOutTargetUrl: basePath || \"/\"\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n}\nfunction AppRouter(props) {\n  const { Router: RouterComponent, SignInPage: SignInPageComponent } = useApp().getComponents();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  const mountPath = `${basePath}/*`;\n  const internalAppContext = useContext(InternalAppContext);\n  if (!internalAppContext) {\n    throw new Error(\"AppRouter must be rendered within the AppProvider\");\n  }\n  const { routeObjects, appIdentityProxy } = internalAppContext;\n  if (!SignInPageComponent) {\n    appIdentityProxy.setTarget(\n      {\n        getUserId: () => \"guest\",\n        getIdToken: async () => void 0,\n        getProfile: () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getProfileInfo: async () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getBackstageIdentity: async () => ({\n          type: \"user\",\n          userEntityRef: \"user:default/guest\",\n          ownershipEntityRefs: [\"user:default/guest\"]\n        }),\n        getCredentials: async () => ({}),\n        signOut: async () => {\n        }\n      },\n      { signOutTargetUrl: basePath || \"/\" }\n    );\n    if (isReactRouterBeta()) {\n      return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(RouteTracker, { routeObjects }), /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, { path: mountPath, element: /* @__PURE__ */ React.createElement(React.Fragment, null, props.children) })));\n    }\n    return /* @__PURE__ */ React.createElement(RouterComponent, { basename: basePath }, /* @__PURE__ */ React.createElement(RouteTracker, { routeObjects }), props.children);\n  }\n  if (isReactRouterBeta()) {\n    return /* @__PURE__ */ React.createElement(RouterComponent, null, /* @__PURE__ */ React.createElement(RouteTracker, { routeObjects }), /* @__PURE__ */ React.createElement(\n      SignInPageWrapper,\n      {\n        component: SignInPageComponent,\n        appIdentityProxy\n      },\n      /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, { path: mountPath, element: /* @__PURE__ */ React.createElement(React.Fragment, null, props.children) }))\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(RouterComponent, { basename: basePath }, /* @__PURE__ */ React.createElement(RouteTracker, { routeObjects }), /* @__PURE__ */ React.createElement(\n    SignInPageWrapper,\n    {\n      component: SignInPageComponent,\n      appIdentityProxy\n    },\n    props.children\n  ));\n}\nattachComponentData(AppRouter, \"core.type\", \"AppRouter\");\n\nexport { AppRouter, getBasePath };\n//# sourceMappingURL=AppRouter.esm.js.map\n","import { createContext } from 'react';\n\nconst InternalAppContext = createContext(void 0);\n\nexport { InternalAppContext };\n//# sourceMappingURL=InternalAppContext.esm.js.map\n","import React from 'react';\nimport { createRoutesFromChildren, Route } from 'react-router-dom';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ React.createElement(Route, { index: true, element: /* @__PURE__ */ React.createElement(\"div\", null) }));\n  return !obj.index;\n}\n\nexport { isReactRouterBeta };\n//# sourceMappingURL=isReactRouterBeta.esm.js.map\n","import React, { useMemo } from 'react';\nimport { useRoutes } from 'react-router-dom';\nimport { attachComponentData, useApp, useElementFilter } from '@backstage/core-plugin-api';\nimport { isReactRouterBeta } from '../app/isReactRouterBeta.esm.js';\n\nlet warned = false;\nconst FlatRoutes = (props) => {\n  const app = useApp();\n  const { NotFoundErrorPage } = app.getComponents();\n  const isBeta = useMemo(() => isReactRouterBeta(), []);\n  const routes = useElementFilter(\n    props.children,\n    (elements) => elements.getElements().flatMap((child) => {\n      let path = child.props.path;\n      if (path === \"\") {\n        return [];\n      }\n      path = path?.replace(/\\/\\*$/, \"\") ?? \"/\";\n      let element = isBeta ? child : child.props.element;\n      if (!isBeta && !element) {\n        element = child;\n        if (!warned && process.env.NODE_ENV !== \"test\") {\n          console.warn(\n            \"DEPRECATION WARNING: All elements within <FlatRoutes> must be of type <Route> with an element prop. Existing usages of <Navigate key=[path] to=[to] /> should be replaced with <Route path=[path] element={<Navigate to=[to] />} />.\"\n          );\n          warned = true;\n        }\n      }\n      return [\n        {\n          // Each route matches any sub route, except for the explicit root path\n          path,\n          element,\n          children: child.props.children ? [\n            // These are the children of each route, which we all add in under a catch-all\n            // subroute in order to make them available to `useOutlet`\n            {\n              path: path === \"/\" ? \"/\" : \"*\",\n              // The root path must require an exact match\n              element: child.props.children\n            }\n          ] : void 0\n        }\n      ];\n    }).sort((a, b) => b.path.localeCompare(a.path)).map((obj) => ({ ...obj, path: obj.path === \"/\" ? \"/\" : `${obj.path}/*` }))\n  );\n  const withNotFound = [\n    ...routes,\n    {\n      path: \"*\",\n      element: /* @__PURE__ */ React.createElement(NotFoundErrorPage, null)\n    }\n  ];\n  return useRoutes(withNotFound);\n};\nattachComponentData(FlatRoutes, \"core.type\", \"FlatRoutes\");\n\nexport { FlatRoutes };\n//# sourceMappingURL=FlatRoutes.esm.js.map\n","import { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Alert from '@material-ui/lab/Alert';\nimport React__default, { useState, useEffect } from 'react';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nfunction AlertDisplay(props) {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    anchorOrigin = { vertical: \"top\", horizontal: \"center\" },\n    transientTimeoutMs\n  } = props;\n  const timeoutMs = transientTimeoutMs ?? 5e3;\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  const [firstMessage] = messages;\n  useEffect(() => {\n    if (firstMessage && firstMessage.display === \"transient\") {\n      const timeout = setTimeout(() => {\n        setMessages((msgs) => {\n          const newMsgs = msgs.filter((msg) => msg !== firstMessage);\n          return newMsgs.length === msgs.length ? msgs : newMsgs;\n        });\n      }, timeoutMs);\n      return () => clearTimeout(timeout);\n    }\n    return void 0;\n  }, [firstMessage, timeoutMs]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ React__default.createElement(Snackbar, { open: true, anchorOrigin }, /* @__PURE__ */ React__default.createElement(\n    Alert,\n    {\n      action: /* @__PURE__ */ React__default.createElement(\n        IconButton,\n        {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleClose,\n          \"data-testid\": \"error-button-close\"\n        },\n        /* @__PURE__ */ React__default.createElement(CloseIcon, null)\n      ),\n      severity: firstMessage.severity\n    },\n    /* @__PURE__ */ React__default.createElement(Typography, { component: \"span\" }, String(firstMessage.message), messages.length > 1 && /* @__PURE__ */ React__default.createElement(\"em\", null, t(\"alertDisplay.message\", {\n      count: messages.length - 1\n    })))\n  ));\n}\n\nexport { AlertDisplay };\n//# sourceMappingURL=AlertDisplay.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default from 'react';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React__default.createElement(Box, { position: \"relative\" }, /* @__PURE__ */ React__default.createElement(\n    LightAsync,\n    {\n      customStyle,\n      language,\n      style: mode,\n      showLineNumbers,\n      wrapLines: true,\n      lineNumberStyle: { color: theme.palette.textVerySubtle },\n      lineProps: (lineNumber) => highlightedNumbers?.includes(lineNumber) ? {\n        style: {\n          backgroundColor: highlightColor\n        }\n      } : {}\n    },\n    text\n  ), showCopyCodeButton && /* @__PURE__ */ React__default.createElement(Box, { position: \"absolute\", top: 0, right: 0 }, /* @__PURE__ */ React__default.createElement(CopyTextButton, { text })));\n}\n\nexport { CodeSnippet };\n//# sourceMappingURL=CodeSnippet.esm.js.map\n","import { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport React__default, { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction CopyTextButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = t(\"copyTextButton.tooltipText\"),\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open\n    },\n    /* @__PURE__ */ React__default.createElement(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel }, /* @__PURE__ */ React__default.createElement(CopyIcon, null))\n  ));\n}\n\nexport { CopyTextButton };\n//# sourceMappingURL=CopyTextButton.esm.js.map\n","import React__default from 'react';\nimport missingAnnotation from './assets/missingAnnotation.svg';\nimport noInformation from './assets/noInformation.svg';\nimport createComponent from './assets/createComponent.svg';\nimport noBuild from './assets/noBuild.svg';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  {\n    generalImg: {\n      width: \"95%\",\n      zIndex: 2,\n      position: \"relative\",\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translate(-50%, 15%)\"\n    }\n  },\n  { name: \"BackstageEmptyStateImage\" }\n);\nconst EmptyStateImage = ({ missing }) => {\n  const classes = useStyles();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ React__default.createElement(\n        \"img\",\n        {\n          src: missingAnnotation,\n          className: classes.generalImg,\n          alt: \"annotation is missing\"\n        }\n      );\n    case \"info\":\n      return /* @__PURE__ */ React__default.createElement(\n        \"img\",\n        {\n          src: noInformation,\n          alt: \"no Information\",\n          className: classes.generalImg\n        }\n      );\n    case \"content\":\n      return /* @__PURE__ */ React__default.createElement(\n        \"img\",\n        {\n          src: createComponent,\n          alt: \"create Component\",\n          className: classes.generalImg\n        }\n      );\n    case \"data\":\n      return /* @__PURE__ */ React__default.createElement(\"img\", { src: noBuild, alt: \"no Build\", className: classes.generalImg });\n    default:\n      return null;\n  }\n};\n\nexport { EmptyStateImage };\n//# sourceMappingURL=EmptyStateImage.esm.js.map\n","import Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default from 'react';\nimport { EmptyStateImage } from './EmptyStateImage.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing(2, 0, 0, 0)\n    },\n    action: {\n      marginTop: theme.spacing(2)\n    },\n    imageContainer: {\n      position: \"relative\"\n    }\n  }),\n  { name: \"BackstageEmptyState\" }\n);\nfunction EmptyState(props) {\n  const { title, description, missing, action } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-around\",\n      alignItems: \"flex-start\",\n      className: classes.root,\n      spacing: 2\n    },\n    /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12, md: 6 }, /* @__PURE__ */ React__default.createElement(Grid, { container: true, direction: \"column\" }, /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: true }, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h5\" }, title)), /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: true }, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\" }, description)), /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: true, className: classes.action }, action))),\n    /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12, md: 6, className: classes.imageContainer }, typeof missing === \"string\" ? /* @__PURE__ */ React__default.createElement(EmptyStateImage, { missing }) : missing.customImage)\n  );\n}\n\nexport { EmptyState };\n//# sourceMappingURL=EmptyState.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React__default from 'react';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { WarningPanel } from '../WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageErrorPanel\" }\n);\nconst ErrorList = ({\n  error,\n  message,\n  stack,\n  children\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(List, { dense: true }, /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Error\",\n      secondary: error\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: error })), /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Message\",\n      secondary: message\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: message })), stack && /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      classes: { secondary: classes.text },\n      primary: \"Stack Trace\",\n      secondary: stack\n    }\n  ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: stack })), children);\n};\nfunction ErrorPanel(props) {\n  const { title, error, defaultExpanded, titleFormat, children } = props;\n  return /* @__PURE__ */ React__default.createElement(\n    WarningPanel,\n    {\n      severity: \"error\",\n      title: title ?? error.message,\n      defaultExpanded,\n      titleFormat\n    },\n    /* @__PURE__ */ React__default.createElement(\n      ErrorList,\n      {\n        error: error.name,\n        message: error.message,\n        stack: error.stack,\n        children\n      }\n    )\n  );\n}\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import React__default from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { StarIcon, UnstarredIcon } from '../../icons/icons.esm.js';\n\nconst useStyles = makeStyles(\n  () => ({\n    icon: {\n      color: \"#f3ba37\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    },\n    iconBorder: {\n      color: \"inherit\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    }\n  }),\n  { name: \"BackstageFavoriteToggleIcon\" }\n);\nfunction FavoriteToggleIcon(props) {\n  const { isFavorite } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      component: \"span\",\n      className: isFavorite ? classes.icon : classes.iconBorder\n    },\n    isFavorite ? /* @__PURE__ */ React__default.createElement(StarIcon, null) : /* @__PURE__ */ React__default.createElement(UnstarredIcon, null)\n  );\n}\nfunction FavoriteToggle(props) {\n  const {\n    id,\n    title,\n    isFavorite: value,\n    onToggle: onChange,\n    ...iconButtonProps\n  } = props;\n  return /* @__PURE__ */ React__default.createElement(Tooltip, { id, title }, /* @__PURE__ */ React__default.createElement(\n    IconButton,\n    {\n      \"aria-label\": title,\n      id,\n      onClick: () => onChange(!value),\n      color: \"inherit\",\n      ...iconButtonProps\n    },\n    /* @__PURE__ */ React__default.createElement(FavoriteToggleIcon, { isFavorite: value })\n  ));\n}\n\nexport { FavoriteToggle, FavoriteToggleIcon };\n//# sourceMappingURL=FavoriteToggle.esm.js.map\n","import Button$1 from '@material-ui/core/Button';\nimport React__default from 'react';\nimport { Link } from '../Link/Link.esm.js';\n\nconst LinkWrapper = React__default.forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Link, { ref, ...props, color: \"initial\" }));\nconst LinkButton = React__default.forwardRef(\n  (props, ref) => /* @__PURE__ */ React__default.createElement(Button$1, { ref, component: LinkWrapper, ...props })\n);\nconst Button = LinkButton;\n\nexport { Button, LinkButton };\n//# sourceMappingURL=LinkButton.esm.js.map\n","import { useAnalytics, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport MaterialLink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { trimEnd } from 'lodash';\nimport React__default from 'react';\nimport { Link as Link$1, createRoutesFromChildren, Route } from 'react-router-dom';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ React__default.createElement(Route, { index: true, element: /* @__PURE__ */ React__default.createElement(\"div\", null) }));\n  return !obj.index;\n}\nconst useStyles = makeStyles(\n  (theme) => ({\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      userSelect: \"none\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    },\n    externalLinkIcon: {\n      verticalAlign: \"bottom\",\n      marginLeft: theme.spacing(0.5)\n    }\n  }),\n  { name: \"Link\" }\n);\nconst ExternalLinkIcon = () => {\n  const app = useApp();\n  const Icon = app.getSystemIcon(\"externalLink\") || OpenInNew;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(Icon, { className: classes.externalLinkIcon });\n};\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  const base = \"http://sample.dev\";\n  const url = useBaseUrl() ?? \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText(node?.props?.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = React__default.forwardRef(\n  ({ onClick, noTrack, externalLinkIcon, ...props }, ref) => {\n    const classes = useStyles();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick?.(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className)\n        },\n        props.children,\n        externalLinkIcon && /* @__PURE__ */ React__default.createElement(ExternalLinkIcon, null),\n        /* @__PURE__ */ React__default.createElement(Typography, { component: \"span\", className: classes.visuallyHidden }, \", Opens in a new window\")\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nexport { Link, isExternalUri, isReactRouterBeta, useResolvedPath };\n//# sourceMappingURL=Link.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport React__default from 'react';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    markdown: {\n      \"& table\": {\n        borderCollapse: \"collapse\",\n        border: `1px solid ${theme.palette.border}`\n      },\n      \"& th, & td\": {\n        border: `1px solid ${theme.palette.border}`,\n        padding: theme.spacing(1)\n      },\n      \"& td\": {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      \"& th\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr:nth-child(odd)\": {\n        backgroundColor: theme.palette.background.default\n      },\n      \"& a\": {\n        color: theme.palette.link\n      },\n      \"& img\": {\n        maxWidth: \"100%\"\n      }\n    }\n  }),\n  { name: \"BackstageMarkdownContent\" }\n);\nconst flatten = (text, child) => {\n  if (!child) return text;\n  return typeof child === \"string\" ? text + child : React__default.Children.toArray(child.props.children).reduce(flatten, text);\n};\nconst headingRenderer = ({ level, children }) => {\n  const childrenArray = React__default.Children.toArray(children);\n  const text = childrenArray.reduce(flatten, \"\");\n  const slug = text.toLocaleLowerCase(\"en-US\").replace(/\\W/g, \"-\");\n  return React__default.createElement(`h${level}`, { id: slug }, children);\n};\nconst components = {\n  code: ({ inline, className, children, ...props }) => {\n    const text = String(children).replace(/\\n+$/, \"\");\n    const match = /language-(\\w+)/.exec(className || \"\");\n    return !inline && match ? /* @__PURE__ */ React__default.createElement(CodeSnippet, { language: match[1], text }) : /* @__PURE__ */ React__default.createElement(\"code\", { className, ...props }, children);\n  },\n  h1: headingRenderer,\n  h2: headingRenderer,\n  h3: headingRenderer,\n  h4: headingRenderer,\n  h5: headingRenderer,\n  h6: headingRenderer\n};\nfunction MarkdownContent(props) {\n  const {\n    content,\n    dialect = \"gfm\",\n    linkTarget,\n    transformLinkUri,\n    transformImageUri,\n    className\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    ReactMarkdown,\n    {\n      remarkPlugins: dialect === \"gfm\" ? [gfm] : [],\n      className: `${classes.markdown} ${className ?? \"\"}`.trim(),\n      children: content,\n      components,\n      linkTarget,\n      transformLinkUri,\n      transformImageUri\n    }\n  );\n}\n\nexport { MarkdownContent };\n//# sourceMappingURL=MarkdownContent.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport React__default, { useState } from 'react';\nimport { isError } from '@backstage/errors';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useItemStyles = makeStyles(\n  (theme) => ({\n    root: {\n      paddingLeft: theme.spacing(3)\n    }\n  }),\n  { name: \"BackstageLoginRequestListItem\" }\n);\nconst LoginRequestListItem = ({ request, busy, setBusy }) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(isError(e) ? e.message : \"An unspecified error occurred\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  return /* @__PURE__ */ React__default.createElement(ListItem, { disabled: busy, classes: { root: classes.root } }, /* @__PURE__ */ React__default.createElement(ListItemAvatar, null, /* @__PURE__ */ React__default.createElement(IconComponent, { fontSize: \"large\" })), /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      primary: request.provider.title,\n      secondary: error && /* @__PURE__ */ React__default.createElement(Typography, { color: \"error\" }, error)\n    }\n  ), /* @__PURE__ */ React__default.createElement(Button, { color: \"primary\", variant: \"contained\", onClick: handleContinue }, t(\"oauthRequestDialog.login\")));\n};\n\nexport { LoginRequestListItem as default };\n//# sourceMappingURL=LoginRequestListItem.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport Button from '@material-ui/core/Button';\nimport React__default, { useState, useMemo } from 'react';\nimport useObservable from 'react-use/esm/useObservable';\nimport LoginRequestListItem from './LoginRequestListItem.esm.js';\nimport { useApi, oauthRequestApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport Typography from '@material-ui/core/Typography';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    dialog: {\n      paddingTop: theme.spacing(1)\n    },\n    title: {\n      minWidth: 0\n    },\n    titleHeading: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    contentList: {\n      padding: 0\n    },\n    actionButtons: {\n      padding: theme.spacing(2, 0)\n    }\n  }),\n  { name: \"OAuthRequestDialog\" }\n);\nfunction OAuthRequestDialog(_props) {\n  const classes = useStyles();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const authRedirect = configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false;\n  const requests = useObservable(\n    useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]),\n    []\n  );\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ React__default.createElement(\n    Dialog,\n    {\n      open: Boolean(requests.length),\n      fullWidth: true,\n      maxWidth: \"xs\",\n      classes: { paper: classes.dialog },\n      \"aria-labelledby\": \"oauth-req-dialog-title\"\n    },\n    /* @__PURE__ */ React__default.createElement(\"main\", null, /* @__PURE__ */ React__default.createElement(\n      DialogTitle,\n      {\n        classes: { root: classes.title },\n        id: \"oauth-req-dialog-title\"\n      },\n      /* @__PURE__ */ React__default.createElement(\n        Typography,\n        {\n          className: classes.titleHeading,\n          variant: \"h1\",\n          variantMapping: { h1: \"span\" }\n        },\n        t(\"oauthRequestDialog.title\")\n      ),\n      authRedirect ? /* @__PURE__ */ React__default.createElement(Typography, null, t(\"oauthRequestDialog.authRedirectTitle\")) : null\n    ), /* @__PURE__ */ React__default.createElement(DialogContent, { dividers: true, classes: { root: classes.contentList } }, /* @__PURE__ */ React__default.createElement(List, null, requests.map((request) => /* @__PURE__ */ React__default.createElement(\n      LoginRequestListItem,\n      {\n        key: request.provider.title,\n        request,\n        busy,\n        setBusy\n      }\n    ))))),\n    /* @__PURE__ */ React__default.createElement(DialogActions, { classes: { root: classes.actionButtons } }, /* @__PURE__ */ React__default.createElement(Button, { onClick: handleRejectAll }, t(\"oauthRequestDialog.rejectAll\")))\n  );\n}\n\nexport { OAuthRequestDialog };\n//# sourceMappingURL=OAuthRequestDialog.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default, { useState, useEffect } from 'react';\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ React__default.createElement(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ React__default.createElement(Box, { display: \"none\" });\n}\n\nexport { Progress };\n//# sourceMappingURL=Progress.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React__default from 'react';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { ErrorPanel } from '../ErrorPanel/ErrorPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageResponseErrorPanel\" }\n);\nfunction ResponseErrorPanel(props) {\n  const { title, error, defaultExpanded } = props;\n  const classes = useStyles();\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ React__default.createElement(\n      ErrorPanel,\n      {\n        title: title ?? error.message,\n        defaultExpanded,\n        error\n      }\n    );\n  }\n  const { body, cause } = error;\n  const { request, response } = body;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = cause.stack?.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(body, void 0, 2);\n  return /* @__PURE__ */ React__default.createElement(\n    ErrorPanel,\n    {\n      title: title ?? error.message,\n      defaultExpanded,\n      error: { name: errorString, message: messageString, stack: stackString }\n    },\n    requestString && /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n      ListItemText,\n      {\n        classes: { secondary: classes.text },\n        primary: \"Request\",\n        secondary: request ? `${requestString}` : void 0\n      }\n    ), /* @__PURE__ */ React__default.createElement(CopyTextButton, { text: requestString })),\n    /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Divider, { component: \"li\", className: classes.divider }), /* @__PURE__ */ React__default.createElement(ListItem, { alignItems: \"flex-start\" }, /* @__PURE__ */ React__default.createElement(\n      ListItemText,\n      {\n        classes: { secondary: classes.text },\n        primary: \"Full Error as JSON\"\n      }\n    )), /* @__PURE__ */ React__default.createElement(CodeSnippet, { language: \"json\", text: jsonString, showCopyCodeButton: true }))\n  );\n}\n\nexport { ResponseErrorPanel };\n//# sourceMappingURL=ResponseErrorPanel.esm.js.map\n","import React__default from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageClosedDropdown\" }\n);\nconst ClosedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    },\n    /* @__PURE__ */ React__default.createElement(\n      \"path\",\n      {\n        d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n        fill: \"currentColor\"\n      }\n    )\n  );\n};\n\nexport { ClosedDropdown as default };\n//# sourceMappingURL=ClosedDropdown.esm.js.map\n","import React__default from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageOpenedDropdown\" }\n);\nconst OpenedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    },\n    /* @__PURE__ */ React__default.createElement(\n      \"path\",\n      {\n        d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n        fill: \"currentColor\"\n      }\n    )\n  );\n};\n\nexport { OpenedDropdown as default };\n//# sourceMappingURL=OpenedDropdown.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default, { useState, useEffect } from 'react';\nimport ClosedDropdown from './static/ClosedDropdown.esm.js';\nimport OpenedDropdown from './static/OpenedDropdown.esm.js';\n\nconst BootstrapInput = withStyles(\n  (theme) => createStyles({\n    root: {\n      \"label + &\": {\n        marginTop: theme.spacing(3)\n      },\n      \"&.Mui-focused > div[role=button]\": {\n        borderColor: theme.palette.primary.main\n      }\n    },\n    input: {\n      borderRadius: theme.shape.borderRadius,\n      position: \"relative\",\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid #ced4da\",\n      fontSize: theme.typography.body1.fontSize,\n      padding: theme.spacing(1.25, 3.25, 1.25, 1.5),\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n      \"&:focus\": {\n        background: theme.palette.background.paper,\n        borderRadius: theme.shape.borderRadius\n      }\n    }\n  }),\n  { name: \"BackstageSelectInputBase\" }\n)(InputBase);\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    formControl: {\n      margin: theme.spacing(1, 0)\n    },\n    label: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    formLabel: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    chips: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    chip: {\n      margin: 2\n    },\n    checkbox: {},\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    }\n  }),\n  { name: \"BackstageSelect\" }\n);\nfunction SelectComponent(props) {\n  const {\n    multiple,\n    items,\n    label,\n    placeholder,\n    selected,\n    onChange,\n    triggerReset,\n    native = false,\n    disabled = false,\n    margin,\n    \"data-testid\": dataTestId = \"select\"\n  } = props;\n  const classes = useStyles();\n  const [value, setValue] = useState(\n    selected || (multiple ? [] : \"\")\n  );\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    setValue(selected || (multiple ? [] : \"\"));\n  }, [selected, multiple]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleOpen = (event) => {\n    if (disabled) {\n      event.preventDefault();\n      return;\n    }\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ React__default.createElement(Box, { className: classes.root }, /* @__PURE__ */ React__default.createElement(FormControl, { className: classes.formControl }, /* @__PURE__ */ React__default.createElement(InputLabel, { className: classes.formLabel }, label), /* @__PURE__ */ React__default.createElement(\n    Select,\n    {\n      \"aria-label\": label,\n      value,\n      native,\n      disabled,\n      \"data-testid\": dataTestId,\n      displayEmpty: true,\n      multiple,\n      margin,\n      onChange: handleChange,\n      open: isOpen,\n      onOpen: handleOpen,\n      onClose: handleClose,\n      input: /* @__PURE__ */ React__default.createElement(BootstrapInput, null),\n      label,\n      renderValue: (s) => multiple && value.length !== 0 ? /* @__PURE__ */ React__default.createElement(Box, { className: classes.chips }, s.map((selectedValue) => {\n        const item = items.find((el) => el.value === selectedValue);\n        return item ? /* @__PURE__ */ React__default.createElement(\n          Chip,\n          {\n            key: item?.value,\n            label: item?.label,\n            clickable: true,\n            onDelete: handleDelete(selectedValue),\n            className: classes.chip\n          }\n        ) : false;\n      })) : /* @__PURE__ */ React__default.createElement(Typography, null, value.length === 0 ? placeholder || \"\" : items.find((el) => el.value === s)?.label),\n      IconComponent: () => !isOpen ? /* @__PURE__ */ React__default.createElement(ClosedDropdown, null) : /* @__PURE__ */ React__default.createElement(OpenedDropdown, null),\n      MenuProps: {\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"left\"\n        },\n        getContentAnchorEl: null\n      }\n    },\n    !!placeholder && !multiple && /* @__PURE__ */ React__default.createElement(MenuItem, { value: [] }, placeholder),\n    native ? items && items.map((item) => /* @__PURE__ */ React__default.createElement(\"option\", { value: item.value, key: item.value }, item.label)) : items && items.map((item) => /* @__PURE__ */ React__default.createElement(MenuItem, { key: item.value, value: item.value }, multiple && /* @__PURE__ */ React__default.createElement(\n      Checkbox,\n      {\n        color: \"primary\",\n        checked: value.includes(item.value) || false,\n        className: classes.checkbox\n      }\n    ), item.label))\n  )));\n}\n\nexport { SelectComponent };\n//# sourceMappingURL=Select.esm.js.map\n","import React__default, { useMemo } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useParams, useRoutes, matchRoutes } from 'react-router-dom';\nimport { Content } from '../../layout/Content/Content.esm.js';\nimport { HeaderTabs } from '../../layout/HeaderTabs/HeaderTabs.esm.js';\nimport { Link } from '../Link/Link.esm.js';\n\nfunction useSelectedSubRoute(subRoutes) {\n  const params = useParams();\n  const routes = subRoutes.map(({ path, children }) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const sortedRoutes = routes.sort(\n    (a, b) => (\n      // remove \"/*\" symbols from path end before comparing\n      b.path.replace(/\\/\\*$/, \"\").localeCompare(a.path.replace(/\\/\\*$/, \"\"))\n    )\n  );\n  const element = useRoutes(sortedRoutes) ?? subRoutes[0]?.children;\n  let currentRoute = params[\"*\"] ?? \"\";\n  if (!currentRoute.startsWith(\"/\")) {\n    currentRoute = `/${currentRoute}`;\n  }\n  const [matchedRoute] = matchRoutes(sortedRoutes, currentRoute) ?? [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: subRoutes[foundIndex] ?? subRoutes[0]\n  };\n}\nfunction RoutedTabs(props) {\n  const { routes } = props;\n  const { index, route, element } = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(\n    () => routes.map((t) => {\n      const { path, title, tabProps } = t;\n      let to = path;\n      to = to.replace(/\\/\\*$/, \"\");\n      to = to.replace(/^\\//, \"\");\n      return {\n        id: path,\n        label: title,\n        tabProps: {\n          component: Link,\n          to,\n          ...tabProps\n        }\n      };\n    }),\n    [routes]\n  );\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(HeaderTabs, { tabs: headerTabs, selectedIndex: index }), /* @__PURE__ */ React__default.createElement(Content, null, /* @__PURE__ */ React__default.createElement(Helmet, { title: route?.title }), element));\n}\n\nexport { RoutedTabs, useSelectedSubRoute };\n//# sourceMappingURL=RoutedTabs.esm.js.map\n","import { attachComponentData } from '@backstage/core-plugin-api';\nimport React__default, { Children, isValidElement, Fragment } from 'react';\nimport { RoutedTabs } from './RoutedTabs.esm.js';\n\nconst Route = () => null;\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction createSubRoutesFromChildren(childrenProps) {\n  const routeType = (/* @__PURE__ */ React__default.createElement(Route, { path: \"\", title: \"\" }, /* @__PURE__ */ React__default.createElement(\"div\", null))).type;\n  return Children.toArray(childrenProps).flatMap((child) => {\n    if (!isValidElement(child)) {\n      return [];\n    }\n    if (child.type === Fragment) {\n      return createSubRoutesFromChildren(child.props.children);\n    }\n    if (child.type !== routeType) {\n      throw new Error(\"Child of TabbedLayout must be an TabbedLayout.Route\");\n    }\n    const { path, title, children, tabProps } = child.props;\n    return [{ path, title, children, tabProps }];\n  });\n}\nfunction TabbedLayout(props) {\n  const routes = createSubRoutesFromChildren(props.children);\n  return /* @__PURE__ */ React__default.createElement(RoutedTabs, { routes });\n}\nTabbedLayout.Route = Route;\n\nexport { TabbedLayout, createSubRoutesFromChildren };\n//# sourceMappingURL=TabbedLayout.esm.js.map\n","import { makeStyles, darken, lighten } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport React__default from 'react';\nimport { MarkdownContent } from '../MarkdownContent/MarkdownContent.esm.js';\n\nconst getWarningTextColor = (severity, theme) => {\n  const getColor = theme.palette.type === \"light\" ? darken : lighten;\n  return getColor(theme.palette[severity].light, 0.6);\n};\nconst getWarningBackgroundColor = (severity, theme) => {\n  const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken;\n  return getBackgroundColor(theme.palette[severity].light, 0.9);\n};\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: ({ severity }) => getWarningTextColor(\n      severity,\n      theme\n    )\n  }\n}));\nconst ErrorOutlineStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React__default.createElement(ErrorOutline, { classes });\n};\nconst ExpandMoreIconStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ React__default.createElement(ExpandMoreIcon, { classes });\n};\nconst useStyles = makeStyles(\n  (theme) => ({\n    panel: {\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      ),\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      verticalAlign: \"middle\"\n    },\n    summary: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    summaryText: {\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      fontWeight: theme.typography.fontWeightBold\n    },\n    markdownContent: {\n      \"& p\": {\n        display: \"inline\"\n      }\n    },\n    message: {\n      width: \"100%\",\n      display: \"block\",\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      )\n    },\n    details: {\n      width: \"100%\",\n      display: \"block\",\n      color: theme.palette.textContrast,\n      backgroundColor: theme.palette.background.default,\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(2),\n      fontFamily: \"sans-serif\"\n    }\n  }),\n  { name: \"BackstageWarningPanel\" }\n);\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nfunction WarningPanel(props) {\n  const {\n    severity = \"warning\",\n    title,\n    titleFormat,\n    message,\n    children,\n    defaultExpanded\n  } = props;\n  const classes = useStyles({ severity });\n  const subTitle = capitalize(severity) + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ React__default.createElement(\n    Accordion,\n    {\n      defaultExpanded: defaultExpanded ?? false,\n      className: classes.panel,\n      role: \"alert\"\n    },\n    /* @__PURE__ */ React__default.createElement(\n      AccordionSummary,\n      {\n        expandIcon: /* @__PURE__ */ React__default.createElement(ExpandMoreIconStyled, { severity }),\n        className: classes.summary\n      },\n      /* @__PURE__ */ React__default.createElement(ErrorOutlineStyled, { severity }),\n      /* @__PURE__ */ React__default.createElement(Typography, { className: classes.summaryText, variant: \"subtitle1\" }, titleFormat === \"markdown\" ? /* @__PURE__ */ React__default.createElement(\n        MarkdownContent,\n        {\n          content: subTitle,\n          className: classes.markdownContent\n        }\n      ) : subTitle)\n    ),\n    (message || children) && /* @__PURE__ */ React__default.createElement(AccordionDetails, null, /* @__PURE__ */ React__default.createElement(Grid, { container: true }, message && /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12 }, /* @__PURE__ */ React__default.createElement(Typography, { className: classes.message, variant: \"body1\" }, message)), children && /* @__PURE__ */ React__default.createElement(Grid, { item: true, xs: 12, className: classes.details }, children)))\n  );\n}\n\nexport { WarningPanel };\n//# sourceMappingURL=WarningPanel.esm.js.map\n","import { useApp } from '@backstage/core-plugin-api';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport React__default from 'react';\n\nfunction AppIcon(props) {\n  const { id: key, Fallback = MuiBrokenImageIcon, ...rest } = props;\n  const app = useApp();\n  const Icon = app.getSystemIcon(key) ?? Fallback;\n  return /* @__PURE__ */ React__default.createElement(Icon, { ...rest });\n}\nfunction BrokenImageIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"brokenImage\", ...props });\n}\nfunction CatalogIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"catalog\", ...props });\n}\nfunction ChatIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"chat\", ...props });\n}\nfunction DashboardIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"dashboard\", ...props });\n}\nfunction DocsIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"docs\", ...props });\n}\nfunction EmailIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"email\", ...props });\n}\nfunction GitHubIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"github\", ...props });\n}\nfunction GroupIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"group\", ...props });\n}\nfunction HelpIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"help\", ...props });\n}\nfunction UserIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"user\", ...props });\n}\nfunction WarningIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"warning\", ...props });\n}\nfunction StarIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"star\", ...props });\n}\nfunction UnstarredIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"unstarred\", ...props });\n}\n\nexport { AppIcon, BrokenImageIcon, CatalogIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, GitHubIcon, GroupIcon, HelpIcon, StarIcon, UnstarredIcon, UserIcon, WarningIcon };\n//# sourceMappingURL=icons.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default from 'react';\nimport { Helmet } from 'react-helmet';\n\nconst useStyles = (props) => makeStyles(\n  (theme) => ({\n    container: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(2),\n      textAlign: props.textAlign\n    },\n    leftItemsBox: {\n      flex: \"1 1 auto\",\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    rightItemsBox: {\n      flex: \"0 1 auto\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      marginLeft: theme.spacing(1),\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    description: {},\n    title: {\n      display: \"inline-flex\",\n      marginBottom: 0\n    }\n  }),\n  { name: \"BackstageContentHeader\" }\n);\nconst ContentHeaderTitle = ({ title, className }) => /* @__PURE__ */ React__default.createElement(\n  Typography,\n  {\n    variant: \"h4\",\n    component: \"h2\",\n    className,\n    \"data-testid\": \"header-title\"\n  },\n  title\n);\nfunction ContentHeader(props) {\n  const {\n    description,\n    title,\n    titleComponent: TitleComponent = void 0,\n    children,\n    textAlign = \"left\"\n  } = props;\n  const classes = useStyles({ textAlign })();\n  const renderedTitle = TitleComponent ? TitleComponent : /* @__PURE__ */ React__default.createElement(ContentHeaderTitle, { title, className: classes.title });\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Helmet, { title }), /* @__PURE__ */ React__default.createElement(Box, { className: classes.container }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.leftItemsBox }, renderedTitle, description && /* @__PURE__ */ React__default.createElement(Typography, { className: classes.description, variant: \"body2\" }, description)), /* @__PURE__ */ React__default.createElement(Box, { className: classes.rightItemsBox }, children)));\n}\n\nexport { ContentHeader };\n//# sourceMappingURL=ContentHeader.esm.js.map\n","import { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport React__default from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      gridArea: \"pageContent\",\n      minWidth: 0,\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3)\n      }\n    },\n    stretch: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexGrow: 1\n    },\n    noPadding: {\n      padding: 0\n    }\n  }),\n  { name: \"BackstageContent\" }\n);\nfunction Content(props) {\n  const { className, stretch, noPadding, children, ...restProps } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    \"article\",\n    {\n      ...restProps,\n      className: classNames(classes.root, className, {\n        [classes.stretch]: stretch,\n        [classes.noPadding]: noPadding\n      })\n    },\n    children\n  );\n}\n\nexport { Content };\n//# sourceMappingURL=Content.esm.js.map\n","import Grid from '@material-ui/core/Grid';\nimport { makeStyles, alpha } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default from 'react';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      textAlign: \"left\"\n    },\n    label: {\n      color: theme.page.fontColor,\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: 0,\n      fontSize: theme.typography.fontSize,\n      marginBottom: theme.spacing(1) / 2,\n      lineHeight: 1\n    },\n    value: {\n      color: alpha(theme.page.fontColor, 0.8),\n      fontSize: theme.typography.fontSize,\n      lineHeight: 1\n    }\n  }),\n  { name: \"BackstageHeaderLabel\" }\n);\nconst HeaderLabelContent = ({\n  value,\n  className,\n  typographyRootComponent\n}) => {\n  return /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      component: typographyRootComponent ?? (typeof value === \"string\" ? \"p\" : \"span\"),\n      className\n    },\n    value\n  );\n};\nfunction HeaderLabel(props) {\n  const { label, value, url, contentTypograpyRootComponent } = props;\n  const classes = useStyles();\n  const content = /* @__PURE__ */ React__default.createElement(\n    HeaderLabelContent,\n    {\n      className: classes.value,\n      value: value || \"<Unknown>\",\n      typographyRootComponent: contentTypograpyRootComponent\n    }\n  );\n  return /* @__PURE__ */ React__default.createElement(Grid, { item: true }, /* @__PURE__ */ React__default.createElement(Typography, { component: \"span\", className: classes.root }, /* @__PURE__ */ React__default.createElement(Typography, { className: classes.label }, label), url ? /* @__PURE__ */ React__default.createElement(Link, { to: url }, content) : content));\n}\n\nexport { HeaderLabel };\n//# sourceMappingURL=HeaderLabel.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TabUI from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport React__default, { useState, useCallback, useEffect } from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    tabsWrapper: {\n      gridArea: \"pageSubheader\",\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: \"uppercase\",\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary\n    },\n    selected: {\n      color: theme.palette.text.primary\n    },\n    tabRoot: {\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary\n      }\n    }\n  }),\n  { name: \"BackstageHeaderTabs\" }\n);\nfunction HeaderTabs(props) {\n  const { tabs, onChange, selectedIndex } = props;\n  const [selectedTab, setSelectedTab] = useState(selectedIndex ?? 0);\n  const styles = useStyles();\n  const handleChange = useCallback(\n    (_, index) => {\n      if (selectedIndex === void 0) {\n        setSelectedTab(index);\n      }\n      if (onChange) onChange(index);\n    },\n    [selectedIndex, onChange]\n  );\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ React__default.createElement(Box, { className: styles.tabsWrapper }, /* @__PURE__ */ React__default.createElement(\n    Tabs,\n    {\n      indicatorColor: \"primary\",\n      textColor: \"inherit\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"tabs\",\n      onChange: handleChange,\n      value: selectedTab\n    },\n    tabs.map((tab, index) => /* @__PURE__ */ React__default.createElement(\n      TabUI,\n      {\n        \"data-testid\": `header-tab-${index}`,\n        label: tab.label,\n        key: tab.id,\n        value: index,\n        className: styles.defaultTab,\n        classes: { selected: styles.selected, root: styles.tabRoot },\n        ...tab.tabProps\n      }\n    ))\n  ));\n}\n\nexport { HeaderTabs };\n//# sourceMappingURL=HeaderTabs.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport MaterialBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React__default, { Fragment } from 'react';\n\nconst ClickableText = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      cursor: \"pointer\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsClickableText\" }\n)(Typography);\nconst StyledBox = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      color: \"inherit\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsStyledBox\" }\n)(Box);\nconst BreadcrumbsCurrentPage = withStyles(\n  {\n    root: {\n      fontStyle: \"italic\"\n    }\n  },\n  { name: \"BreadcrumbsCurrentPage\" }\n)(Box);\nfunction Breadcrumbs(props) {\n  const { children, ...restProps } = props;\n  const [anchorEl, setAnchorEl] = React__default.useState(\n    null\n  );\n  const childrenArray = React__default.Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ React__default.createElement(Fragment, null, /* @__PURE__ */ React__default.createElement(MaterialBreadcrumbs, { \"aria-label\": \"breadcrumb\", ...restProps }, childrenArray.length > 1 && /* @__PURE__ */ React__default.createElement(StyledBox, { clone: true }, firstPage), childrenArray.length > 2 && /* @__PURE__ */ React__default.createElement(StyledBox, { clone: true }, secondPage), hasHiddenBreadcrumbs && /* @__PURE__ */ React__default.createElement(ClickableText, { onClick: handleClick }, \"...\"), /* @__PURE__ */ React__default.createElement(BreadcrumbsCurrentPage, null, currentPage)), /* @__PURE__ */ React__default.createElement(\n    Popover,\n    {\n      open,\n      anchorEl,\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(List, null, expandablePages.map((pageLink, index) => /* @__PURE__ */ React__default.createElement(ListItem, { key: index, button: true }, /* @__PURE__ */ React__default.createElement(StyledBox, { clone: true }, pageLink))))\n  ));\n}\n\nexport { Breadcrumbs };\n//# sourceMappingURL=Breadcrumbs.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport React__default from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { Breadcrumbs } from '../Breadcrumbs/Breadcrumbs.esm.js';\nimport '../Sidebar/Bar.esm.js';\nimport '../Sidebar/MobileSidebar.esm.js';\nimport '../Sidebar/SidebarGroup.esm.js';\nimport '../Sidebar/SidebarSubmenuItem.esm.js';\nimport '../Sidebar/SidebarSubmenu.esm.js';\nimport { useContent } from '../Sidebar/Page.esm.js';\nimport '../Sidebar/Items.esm.js';\nimport '../Sidebar/config.esm.js';\nimport '../Sidebar/SidebarOpenStateContext.esm.js';\nimport '../Sidebar/SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    header: {\n      gridArea: \"pageHeader\",\n      padding: theme.spacing(3),\n      width: \"100%\",\n      boxShadow: theme.shadows[4],\n      position: \"relative\",\n      zIndex: 100,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundImage: theme.page.backgroundImage,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexWrap: \"wrap\"\n      }\n    },\n    leftItemsBox: {\n      maxWidth: \"100%\",\n      flexGrow: 1\n    },\n    rightItemsBox: {\n      width: \"auto\",\n      alignItems: \"center\"\n    },\n    title: {\n      color: theme.page.fontColor,\n      wordBreak: \"break-word\",\n      fontSize: theme.typography.h3.fontSize,\n      marginBottom: 0\n    },\n    subtitle: {\n      color: theme.page.fontColor,\n      opacity: 0.8,\n      display: \"inline-block\",\n      // prevents margin collapse of adjacent siblings\n      marginTop: theme.spacing(1),\n      maxWidth: \"75ch\"\n    },\n    type: {\n      textTransform: \"uppercase\",\n      fontSize: 11,\n      opacity: 0.8,\n      marginBottom: theme.spacing(1),\n      color: theme.page.fontColor\n    },\n    breadcrumb: {\n      color: theme.page.fontColor\n    },\n    breadcrumbType: {\n      fontSize: \"inherit\",\n      opacity: 0.7,\n      marginRight: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    },\n    breadcrumbTitle: {\n      fontSize: \"inherit\",\n      marginLeft: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    }\n  }),\n  { name: \"BackstageHeader\" }\n);\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ React__default.createElement(Typography, { className: classes.type }, type);\n  }\n  return /* @__PURE__ */ React__default.createElement(Breadcrumbs, { className: classes.breadcrumb }, /* @__PURE__ */ React__default.createElement(Link, { to: typeLink }, type), /* @__PURE__ */ React__default.createElement(Typography, null, pageTitle));\n};\nconst TitleFragment = ({ pageTitle, classes, tooltip }) => {\n  const { contentRef } = useContent();\n  const FinalTitle = /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      ref: contentRef,\n      tabIndex: -1,\n      className: classes.title,\n      variant: \"h1\"\n    },\n    pageTitle\n  );\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ React__default.createElement(Tooltip, { title: tooltip, placement: \"top-start\" }, FinalTitle);\n};\nconst SubtitleFragment = ({ classes, subtitle }) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, subtitle);\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      className: classes.subtitle,\n      variant: \"subtitle2\",\n      component: \"span\"\n    },\n    subtitle\n  );\n};\nfunction Header(props) {\n  const {\n    children,\n    pageTitleOverride,\n    style,\n    subtitle,\n    title,\n    tooltip,\n    type,\n    typeLink\n  } = props;\n  const classes = useStyles();\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | ${appTitle}`;\n  const defaultTitle = `${documentTitle} | ${appTitle}`;\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Helmet, { titleTemplate, defaultTitle }), /* @__PURE__ */ React__default.createElement(\"header\", { style, className: classes.header }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.leftItemsBox }, /* @__PURE__ */ React__default.createElement(\n    TypeFragment,\n    {\n      classes,\n      type,\n      typeLink,\n      pageTitle\n    }\n  ), /* @__PURE__ */ React__default.createElement(\n    TitleFragment,\n    {\n      classes,\n      pageTitle,\n      tooltip\n    }\n  ), /* @__PURE__ */ React__default.createElement(SubtitleFragment, { classes, subtitle })), /* @__PURE__ */ React__default.createElement(Grid, { container: true, className: classes.rightItemsBox, spacing: 4 }, children)));\n}\n\nexport { Header };\n//# sourceMappingURL=Header.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport React__default from 'react';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      maxWidth: \"fit-content\",\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    boxTitle: {\n      margin: 0,\n      color: theme.palette.textSubtle\n    },\n    arrow: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageBottomLink\" }\n);\nfunction BottomLink(props) {\n  const { link, title, onClick } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(Box, null, /* @__PURE__ */ React__default.createElement(Divider, null), /* @__PURE__ */ React__default.createElement(Link, { to: link, onClick, underline: \"none\" }, /* @__PURE__ */ React__default.createElement(Box, { display: \"flex\", alignItems: \"center\", className: classes.root }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.boxTitle, fontWeight: \"fontWeightBold\", m: 1 }, /* @__PURE__ */ React__default.createElement(Typography, null, /* @__PURE__ */ React__default.createElement(\"strong\", null, title))), /* @__PURE__ */ React__default.createElement(ArrowIcon, { className: classes.arrow }))));\n}\n\nexport { BottomLink };\n//# sourceMappingURL=BottomLink.esm.js.map\n","import Typography from '@material-ui/core/Typography';\nimport React__default, { Component } from 'react';\nimport { LinkButton } from '../../components/LinkButton/LinkButton.esm.js';\nimport { ErrorPanel } from '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst SlackLink = (props) => {\n  const { slackChannel } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!slackChannel) {\n    return null;\n  } else if (typeof slackChannel === \"string\") {\n    return /* @__PURE__ */ React__default.createElement(Typography, null, t(\"errorBoundary.title\", { slackChannel }));\n  } else if (!slackChannel.href) {\n    return /* @__PURE__ */ React__default.createElement(Typography, null, t(\"errorBoundary.title\", {\n      slackChannel: slackChannel.name\n    }));\n  }\n  return /* @__PURE__ */ React__default.createElement(LinkButton, { to: slackChannel.href, variant: \"contained\" }, slackChannel.name);\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}`, { error, errorInfo });\n    this.setState({ error, errorInfo });\n  }\n  render() {\n    const { slackChannel, children } = this.props;\n    const { error } = this.state;\n    if (!error) {\n      return children;\n    }\n    return /* @__PURE__ */ React__default.createElement(ErrorPanel, { title: \"Something Went Wrong\", error }, /* @__PURE__ */ React__default.createElement(SlackLink, { slackChannel }));\n  }\n};\n\nexport { ErrorBoundary };\n//# sourceMappingURL=ErrorBoundary.esm.js.map\n","import Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport React__default from 'react';\nimport { BottomLink } from '../BottomLink/BottomLink.esm.js';\nimport { ErrorBoundary } from '../ErrorBoundary/ErrorBoundary.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    noPadding: {\n      padding: 0,\n      \"&:last-child\": {\n        paddingBottom: 0\n      }\n    },\n    contentAlignBottom: {\n      display: \"flex\",\n      alignItems: \"self-end\"\n    },\n    header: {\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    headerTitle: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    headerSubheader: {\n      paddingTop: theme.spacing(1)\n    },\n    headerAvatar: {},\n    headerAction: {},\n    headerContent: {},\n    subheader: {\n      display: \"flex\"\n    }\n  }),\n  { name: \"BackstageInfoCard\" }\n);\nconst CardActionsTopRight = withStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-block\",\n      padding: theme.spacing(8, 8, 0, 0),\n      float: \"right\"\n    }\n  }),\n  { name: \"BackstageInfoCardCardActionsTopRight\" }\n)(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      // for pages without content header\n      marginBottom: \"10px\",\n      breakInside: \"avoid-page\",\n      \"@media print\": {\n        height: \"auto\"\n      }\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nfunction InfoCard(props) {\n  const {\n    title,\n    subheader,\n    divider = true,\n    deepLink,\n    slackChannel,\n    errorBoundaryProps,\n    variant,\n    alignContent = \"normal\",\n    children,\n    headerStyle,\n    headerProps,\n    icon,\n    action,\n    actionsClassName,\n    actions,\n    cardClassName,\n    actionsTopRight,\n    className,\n    noPadding,\n    titleTypographyProps,\n    subheaderTypographyProps\n  } = props;\n  const classes = useStyles();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  const cardSubTitle = () => {\n    if (!subheader && !icon) {\n      return null;\n    }\n    return /* @__PURE__ */ React__default.createElement(\"div\", { \"data-testid\": \"info-card-subheader\" }, subheader && /* @__PURE__ */ React__default.createElement(\"div\", { className: classes.subheader }, subheader), icon);\n  };\n  const errProps = errorBoundaryProps || (slackChannel ? { slackChannel } : {});\n  return /* @__PURE__ */ React__default.createElement(Card, { style: calculatedStyle, className }, /* @__PURE__ */ React__default.createElement(ErrorBoundary, { ...errProps }, title && /* @__PURE__ */ React__default.createElement(\n    CardHeader,\n    {\n      classes: {\n        root: classNames(classes.header),\n        title: classes.headerTitle,\n        subheader: classes.headerSubheader,\n        avatar: classes.headerAvatar,\n        action: classes.headerAction,\n        content: classes.headerContent\n      },\n      title,\n      subheader: cardSubTitle(),\n      action,\n      style: { ...headerStyle },\n      titleTypographyProps,\n      subheaderTypographyProps,\n      ...headerProps\n    }\n  ), actionsTopRight && /* @__PURE__ */ React__default.createElement(CardActionsTopRight, null, actionsTopRight), divider && /* @__PURE__ */ React__default.createElement(Divider, null), /* @__PURE__ */ React__default.createElement(\n    CardContent,\n    {\n      className: classNames(cardClassName, {\n        [classes.noPadding]: noPadding,\n        [classes.contentAlignBottom]: alignContent === \"bottom\"\n      }),\n      style: calculatedCardStyle\n    },\n    children\n  ), actions && /* @__PURE__ */ React__default.createElement(CardActions, { className: actionsClassName }, actions), deepLink && /* @__PURE__ */ React__default.createElement(BottomLink, { ...deepLink })));\n}\n\nexport { InfoCard };\n//# sourceMappingURL=InfoCard.esm.js.map\n","import React__default from 'react';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"grid\",\n      gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n      gridTemplateRows: \"max-content auto 1fr\",\n      gridTemplateColumns: \"auto 1fr auto\",\n      overflowY: \"auto\",\n      height: \"100vh\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"100%\"\n      },\n      \"@media print\": {\n        display: \"block\",\n        height: \"auto\",\n        overflowY: \"inherit\"\n      }\n    }\n  }),\n  { name: \"BackstagePage\" }\n);\nfunction Page(props) {\n  const { themeId, children } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\n    ThemeProvider,\n    {\n      theme: (baseTheme) => ({\n        ...baseTheme,\n        page: baseTheme.getPageTheme({ themeId })\n      })\n    },\n    /* @__PURE__ */ React__default.createElement(\"main\", { className: classes.root }, children)\n  );\n}\n\nexport { Page };\n//# sourceMappingURL=Page.esm.js.map\n","import { useElementFilter } from '@backstage/core-plugin-api';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { orderBy } from 'lodash';\nimport React__default, { useContext, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { SidebarGroup } from './SidebarGroup.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"fixed\",\n      backgroundColor: theme.palette.navigation.background,\n      color: theme.palette.navigation.color,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: theme.zIndex.snackbar,\n      // SidebarDivider color\n      borderTop: \"1px solid #383838\",\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    overlay: (props) => ({\n      background: theme.palette.navigation.background,\n      width: \"100%\",\n      bottom: `${props.sidebarConfig.mobileSidebarHeight}px`,\n      height: `calc(100% - ${props.sidebarConfig.mobileSidebarHeight}px)`,\n      flex: \"0 1 auto\",\n      overflow: \"auto\"\n    }),\n    overlayHeader: {\n      display: \"flex\",\n      color: theme.palette.navigation.color,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2, 3)\n    },\n    overlayHeaderClose: {\n      color: theme.palette.navigation.color\n    },\n    marginMobileSidebar: (props) => ({\n      marginBottom: `${props.sidebarConfig.mobileSidebarHeight}px`\n    })\n  })\n);\nconst sortSidebarGroupsForPriority = (children) => orderBy(\n  children,\n  ({ props: { priority } }) => Number.isInteger(priority) ? priority : -1,\n  \"desc\"\n);\nconst sidebarGroupType = React__default.createElement(SidebarGroup).type;\nconst OverlayMenu = ({\n  children,\n  label = \"Menu\",\n  open,\n  onClose\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  return /* @__PURE__ */ React__default.createElement(\n    Drawer,\n    {\n      anchor: \"bottom\",\n      open,\n      onClose,\n      ModalProps: {\n        BackdropProps: { classes: { root: classes.marginMobileSidebar } }\n      },\n      classes: {\n        root: classes.marginMobileSidebar,\n        paperAnchorBottom: classes.overlay\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(Box, { className: classes.overlayHeader }, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h3\" }, label), /* @__PURE__ */ React__default.createElement(\n      IconButton,\n      {\n        onClick: onClose,\n        classes: { root: classes.overlayHeaderClose }\n      },\n      /* @__PURE__ */ React__default.createElement(CloseIcon, null)\n    )),\n    /* @__PURE__ */ React__default.createElement(Box, { component: \"nav\" }, children)\n  );\n};\nconst MobileSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { children } = props;\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const [selectedMenuItemIndex, setSelectedMenuItemIndex] = useState(-1);\n  useEffect(() => {\n    setSelectedMenuItemIndex(-1);\n  }, [location.pathname]);\n  let sidebarGroups = useElementFilter(\n    children,\n    (elements) => elements.getElements().filter((child) => child.type === sidebarGroupType)\n  );\n  if (!children) {\n    return null;\n  } else if (!sidebarGroups.length) {\n    sidebarGroups.push(\n      /* @__PURE__ */ React__default.createElement(SidebarGroup, { key: \"default_menu\", icon: /* @__PURE__ */ React__default.createElement(MenuIcon, null) }, children)\n    );\n  } else {\n    sidebarGroups = sortSidebarGroupsForPriority(sidebarGroups);\n  }\n  const shouldShowGroupChildren = selectedMenuItemIndex >= 0 && !sidebarGroups[selectedMenuItemIndex].props.to;\n  return /* @__PURE__ */ React__default.createElement(SidebarOpenStateProvider, { value: { isOpen: true, setOpen: () => {\n  } } }, /* @__PURE__ */ React__default.createElement(\n    MobileSidebarContext.Provider,\n    {\n      value: { selectedMenuItemIndex, setSelectedMenuItemIndex }\n    },\n    /* @__PURE__ */ React__default.createElement(\n      OverlayMenu,\n      {\n        label: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.label,\n        open: shouldShowGroupChildren,\n        onClose: () => setSelectedMenuItemIndex(-1)\n      },\n      sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.children\n    ),\n    /* @__PURE__ */ React__default.createElement(\n      BottomNavigation,\n      {\n        className: classes.root,\n        \"data-testid\": \"mobile-sidebar-root\",\n        component: \"nav\"\n      },\n      sidebarGroups\n    )\n  ));\n};\n\nexport { MobileSidebar };\n//# sourceMappingURL=MobileSidebar.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport classNames from 'classnames';\nimport React__default, { useContext, useState, useRef } from 'react';\nimport { makeSidebarConfig, makeSidebarSubmenuConfig, SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebar } from './MobileSidebar.esm.js';\nimport { useContent } from './Page.esm.js';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    drawer: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      bottom: 0,\n      zIndex: theme.zIndex.appBar,\n      background: theme.palette.navigation.background,\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      }),\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      },\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    drawerWidth: (props) => ({\n      width: props.sidebarConfig.drawerWidthClosed\n    }),\n    drawerOpen: (props) => ({\n      width: props.sidebarConfig.drawerWidthOpen,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shorter\n      })\n    }),\n    visuallyHidden: {\n      top: 0,\n      position: \"absolute\",\n      zIndex: 1e3,\n      transform: \"translateY(-200%)\",\n      \"&:focus\": {\n        transform: \"translateY(5px)\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebar\" }\n);\nconst DesktopSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const {\n    openDelayMs = sidebarConfig.defaultOpenDelayMs,\n    closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n    disableExpandOnHover,\n    children\n  } = props;\n  const classes = useStyles({ sidebarConfig });\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  const [state, setState] = useState(0 /* Closed */);\n  const hoverTimerRef = useRef();\n  const { isPinned, toggleSidebarPinState } = useSidebarPinState();\n  const handleOpen = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== 2 /* Open */ && !isSmallScreen) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(2 /* Open */);\n      }, openDelayMs);\n      setState(1 /* Idle */);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === 1 /* Idle */) {\n      setState(0 /* Closed */);\n    } else if (state === 2 /* Open */) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(0 /* Closed */);\n      }, closeDelayMs);\n    }\n  };\n  const isOpen = state === 2 /* Open */ && !isSmallScreen || isPinned;\n  const setOpen = (open) => {\n    if (open) {\n      setState(2 /* Open */);\n      toggleSidebarPinState();\n    } else {\n      setState(0 /* Closed */);\n      toggleSidebarPinState();\n    }\n  };\n  return /* @__PURE__ */ React__default.createElement(\"nav\", { style: {}, \"aria-label\": \"sidebar nav\" }, /* @__PURE__ */ React__default.createElement(A11ySkipSidebar, null), /* @__PURE__ */ React__default.createElement(SidebarOpenStateProvider, { value: { isOpen, setOpen } }, /* @__PURE__ */ React__default.createElement(\n    Box,\n    {\n      className: classes.root,\n      \"data-testid\": \"sidebar-root\",\n      onMouseEnter: disableExpandOnHover ? () => {\n      } : handleOpen,\n      onFocus: disableExpandOnHover ? () => {\n      } : handleOpen,\n      onMouseLeave: disableExpandOnHover ? () => {\n      } : handleClose,\n      onBlur: disableExpandOnHover ? () => {\n      } : handleClose\n    },\n    /* @__PURE__ */ React__default.createElement(\n      Box,\n      {\n        className: classNames(classes.drawer, classes.drawerWidth, {\n          [classes.drawerOpen]: isOpen\n        })\n      },\n      children\n    )\n  )));\n};\nconst Sidebar = (props) => {\n  const sidebarConfig = makeSidebarConfig(\n    props.sidebarOptions ?? {}\n  );\n  const submenuConfig = makeSidebarSubmenuConfig(\n    props.submenuOptions ?? {}\n  );\n  const { children, disableExpandOnHover, openDelayMs, closeDelayMs } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ React__default.createElement(MobileSidebar, null, children) : /* @__PURE__ */ React__default.createElement(SidebarConfigContext.Provider, { value: { sidebarConfig, submenuConfig } }, /* @__PURE__ */ React__default.createElement(\n    DesktopSidebar,\n    {\n      openDelayMs,\n      closeDelayMs,\n      disableExpandOnHover\n    },\n    children\n  ));\n};\nfunction A11ySkipSidebar() {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { focusContent, contentRef } = useContent();\n  const classes = useStyles({ sidebarConfig });\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!contentRef?.current) {\n    return null;\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    Button,\n    {\n      onClick: focusContent,\n      variant: \"contained\",\n      className: classNames(classes.visuallyHidden)\n    },\n    t(\"skipToContent\")\n  );\n}\n\nexport { Sidebar };\n//# sourceMappingURL=Bar.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport React__default, { useContext, useState, useEffect } from 'react';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      zIndex: 1e3,\n      position: \"relative\",\n      overflow: \"visible\",\n      width: theme.spacing(7) + 1\n    },\n    drawer: (props) => ({\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      opacity: 0,\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: props.left,\n        transition: theme.transitions.create([\"margin-left\", \"opacity\"], {\n          easing: theme.transitions.easing.sharp,\n          duration: props.submenuConfig.defaultOpenDelayMs\n        })\n      },\n      top: 0,\n      bottom: 0,\n      padding: 0,\n      background: theme.palette.navigation.submenu?.background ?? \"#404040\",\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      cursor: \"default\",\n      width: props.submenuConfig.drawerWidthClosed,\n      transitionDelay: `${props.submenuConfig.defaultOpenDelayMs}ms`,\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      }\n    }),\n    drawerOpen: (props) => ({\n      marginLeft: props.left,\n      opacity: 1,\n      width: props.submenuConfig.drawerWidthOpen,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        position: \"relative\",\n        paddingLeft: theme.spacing(3),\n        left: 0,\n        top: 0\n      }\n    }),\n    title: {\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      [theme.breakpoints.down(\"xs\")]: {\n        display: \"none\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebarSubmenu\" }\n);\nconst SidebarSubmenu = (props) => {\n  const { isOpen } = useSidebarOpenState();\n  const { sidebarConfig, submenuConfig } = useContext(SidebarConfigContext);\n  const left = isOpen ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed;\n  const classes = useStyles({ left, submenuConfig });\n  const { isHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\n  useEffect(() => {\n    setIsSubmenuOpen(isHoveredOn);\n  }, [isHoveredOn]);\n  return /* @__PURE__ */ React__default.createElement(\n    Box,\n    {\n      className: classNames(classes.drawer, {\n        [classes.drawerOpen]: isSubmenuOpen\n      })\n    },\n    /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h5\", component: \"span\", className: classes.title }, props.title),\n    props.children\n  );\n};\n\nexport { SidebarSubmenu };\n//# sourceMappingURL=SidebarSubmenu.esm.js.map\n","import { isEqual, isMatch } from 'lodash';\nimport qs from 'qs';\n\nfunction isLocationMatch(currentLocation, toLocation, exact = false) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n  const queryStringMatcher = exact ? isEqual : isMatch;\n  const matching = isEqual(toLocation.pathname, currentLocation.pathname) && queryStringMatcher(currentQueryParameters, toQueryParameters);\n  return matching;\n}\n\nexport { isLocationMatch };\n//# sourceMappingURL=utils.esm.js.map\n","import { useAnalytics, useElementFilter } from '@backstage/core-plugin-api';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport SearchIcon from '@material-ui/icons/Search';\nimport classNames from 'classnames';\nimport React__default, { forwardRef, useContext, useCallback, useMemo, useState } from 'react';\nimport { useLocation, useResolvedPath, Link, resolvePath } from 'react-router-dom';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport DoubleArrowLeft from './icons/DoubleArrowLeft.esm.js';\nimport DoubleArrowRight from './icons/DoubleArrowRight.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\nimport { SidebarSubmenu } from './SidebarSubmenu.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Button from '@material-ui/core/Button';\n\nconst makeSidebarStyles = (sidebarConfig) => makeStyles(\n  (theme) => ({\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"100%\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\",\n      textTransform: \"none\"\n    },\n    closed: {\n      width: sidebarConfig.drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: sidebarConfig.drawerWidthOpen\n      }\n    },\n    highlightable: {\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n      }\n    },\n    highlighted: {\n      background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n    },\n    label: {\n      // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: sidebarConfig.iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      lineHeight: \"0\"\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: theme.typography.fontSize\n    },\n    searchFieldHTMLInput: {\n      padding: theme.spacing(2, 0, 2)\n    },\n    searchContainer: {\n      width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    closedItemIcon: {\n      width: \"100%\",\n      justifyContent: \"center\"\n    },\n    submenuArrow: {\n      display: \"flex\"\n    },\n    expandButton: {\n      background: \"none\",\n      border: \"none\",\n      color: theme.palette.navigation.color,\n      width: \"100%\",\n      cursor: \"pointer\",\n      position: \"relative\",\n      height: 48\n    },\n    arrows: {\n      position: \"absolute\",\n      right: 10\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: sidebarConfig.drawerWidthClosed\n      },\n      \"& $closedItemIcon\": {\n        paddingRight: sidebarConfig.selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -sidebarConfig.selectedIndicatorWidth\n      }\n    }\n  }),\n  { name: \"BackstageSidebarItem\" }\n);\nfunction useMemoStyles(sidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig]\n  );\n  return useStyles();\n}\nconst useLocationMatch = (submenu, location) => useElementFilter(\n  submenu.props.children,\n  (elements) => {\n    let active = false;\n    elements.getElements().forEach(\n      ({\n        props: { to, dropdownItems }\n      }) => {\n        if (!active) {\n          if (dropdownItems?.length) {\n            dropdownItems.forEach(\n              ({ to: _to }) => active = active || isLocationMatch(location, resolvePath(_to))\n            );\n            return;\n          }\n          if (to) {\n            active = isLocationMatch(location, resolvePath(to));\n          }\n        }\n      }\n    );\n    return active;\n  },\n  [location.pathname]\n);\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst sidebarSubmenuType = React__default.createElement(SidebarSubmenu).type;\nconst WorkaroundNavLink = React__default.forwardRef(function WorkaroundNavLinkWithRef({\n  to,\n  end,\n  style,\n  className,\n  activeStyle,\n  caseSensitive,\n  activeClassName = \"active\",\n  \"aria-current\": ariaCurrentProp = \"page\",\n  ...rest\n}, ref) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath(to);\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase(\"en-US\");\n    toPathname = toPathname.toLocaleLowerCase(\"en-US\");\n  }\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n  const ariaCurrent = isActive ? ariaCurrentProp : void 0;\n  return /* @__PURE__ */ React__default.createElement(\n    Link,\n    {\n      ...rest,\n      to,\n      ref,\n      \"aria-current\": ariaCurrent,\n      style: { ...style, ...isActive ? activeStyle : void 0 },\n      className: classNames([\n        typeof className !== \"function\" ? className : void 0,\n        isActive ? activeClassName : void 0\n      ])\n    }\n  );\n});\nconst SidebarItemBase = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen } = useSidebarOpenState();\n  const divStyle = !isOpen && hasSubmenu ? { display: \"flex\", marginLeft: \"20px\" } : { lineHeight: \"0\" };\n  const displayItemIcon = /* @__PURE__ */ React__default.createElement(Box, { style: divStyle }, /* @__PURE__ */ React__default.createElement(Icon, { fontSize: \"small\" }), !isOpen && hasSubmenu ? /* @__PURE__ */ React__default.createElement(ArrowRightIcon, { fontSize: \"small\" }) : /* @__PURE__ */ React__default.createElement(React__default.Fragment, null));\n  const itemIcon = /* @__PURE__ */ React__default.createElement(\n    Badge,\n    {\n      color: \"secondary\",\n      variant: \"dot\",\n      overlap: \"circular\",\n      invisible: !hasNotifications,\n      className: classNames({ [classes.closedItemIcon]: !isOpen })\n    },\n    displayItemIcon\n  );\n  const openContent = /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Box, { \"data-testid\": \"login-button\", className: classes.iconContainer }, itemIcon), text && /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      variant: \"subtitle2\",\n      component: \"span\",\n      className: classes.label\n    },\n    text\n  ), /* @__PURE__ */ React__default.createElement(\"div\", { className: classes.secondaryAction }, children));\n  const content = isOpen ? openContent : itemIcon;\n  const childProps = {\n    onClick,\n    className: classNames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight }\n    )\n  };\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath(\n    !isButtonItem(props) && props.to ? props.to : \"\"\n  );\n  const handleClick = useCallback(\n    (event) => {\n      if (!noTrack) {\n        const action = \"click\";\n        const subject = text ?? \"Sidebar Item\";\n        const options = to ? { attributes: { to } } : void 0;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick?.(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick]\n  );\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ React__default.createElement(\n      Button,\n      {\n        role: \"button\",\n        \"aria-label\": text,\n        ...childProps,\n        ref,\n        onClick: handleClick\n      },\n      content\n    );\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    WorkaroundNavLink,\n    {\n      ...childProps,\n      activeClassName: classes.selected,\n      to: props.to ? props.to : \"\",\n      ref,\n      \"aria-label\": text ? text : props.to,\n      ...navLinkProps,\n      onClick: handleClick\n    },\n    content\n  );\n});\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? /* @__PURE__ */ React__default.createElement(ArrowDropUpIcon, { fontSize: \"small\", className: classes.submenuArrow }) : /* @__PURE__ */ React__default.createElement(ArrowDropDownIcon, { fontSize: \"small\", className: classes.submenuArrow });\n    }\n    return !isHoveredOn && /* @__PURE__ */ React__default.createElement(ArrowRightIcon, { fontSize: \"small\", className: classes.submenuArrow });\n  };\n  return /* @__PURE__ */ React__default.createElement(\n    SidebarItemWithSubmenuContext.Provider,\n    {\n      value: {\n        isHoveredOn,\n        setIsHoveredOn\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(\n      \"div\",\n      {\n        \"data-testid\": \"item-with-submenu\",\n        onMouseLeave: handleMouseLeave,\n        onTouchStart: isHoveredOn ? handleMouseLeave : handleMouseEnter,\n        onMouseEnter: handleMouseEnter,\n        className: classNames(isHoveredOn && classes.highlighted)\n      },\n      /* @__PURE__ */ React__default.createElement(\n        SidebarItemBase,\n        {\n          hasSubmenu: true,\n          className: isActive ? classes.selected : \"\",\n          ...props\n        },\n        arrowIcon()\n      ),\n      isHoveredOn && children\n    )\n  );\n};\nconst SidebarItem = forwardRef((props, ref) => {\n  const [submenu] = useElementFilter(\n    props.children,\n    (elements) => (\n      // Directly comparing child.type with SidebarSubmenu will not work with in\n      // combination with react-hot-loader\n      //\n      // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n      elements.getElements().filter((child) => child.type === sidebarSubmenuType)\n    )\n  );\n  if (submenu) {\n    return /* @__PURE__ */ React__default.createElement(SidebarItemWithSubmenu, { ...props }, submenu);\n  }\n  return /* @__PURE__ */ React__default.createElement(SidebarItemBase, { ...props, ref });\n});\nfunction SidebarSearchField(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState(\"\");\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : SearchIcon;\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      ev.preventDefault();\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ React__default.createElement(Box, { className: classes.searchRoot }, /* @__PURE__ */ React__default.createElement(\n    SidebarItem,\n    {\n      icon: Icon,\n      to: props.to,\n      onClick: handleItemClick,\n      disableHighlight: true\n    },\n    /* @__PURE__ */ React__default.createElement(\n      TextField,\n      {\n        placeholder: \"Search\",\n        value: input,\n        onClick: handleInputClick,\n        onChange: handleInput,\n        onKeyDown: handleEnter,\n        className: classes.searchContainer,\n        InputProps: {\n          disableUnderline: true,\n          className: classes.searchField\n        },\n        inputProps: {\n          className: classes.searchFieldHTMLInput\n        }\n      }\n    )\n  ));\n}\nconst SidebarSpace = styled(\"div\")(\n  {\n    flex: 1\n  },\n  { name: \"BackstageSidebarSpace\" }\n);\nconst SidebarSpacer = styled(\"div\")(\n  {\n    height: 8\n  },\n  { name: \"BackstageSidebarSpacer\" }\n);\nconst SidebarDivider = styled(\"hr\")(\n  ({ theme }) => ({\n    height: 1,\n    width: \"100%\",\n    background: \"#383838\",\n    border: \"none\",\n    margin: theme.spacing(1.2, 0)\n  }),\n  { name: \"BackstageSidebarDivider\" }\n);\nconst styledScrollbar = (theme) => ({\n  overflowY: \"auto\",\n  \"&::-webkit-scrollbar\": {\n    backgroundColor: theme.palette.background.default,\n    width: \"5px\",\n    borderRadius: \"5px\"\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: \"5px\"\n  }\n});\nconst SidebarScrollWrapper = styled(\"div\")(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: \"0 1 auto\",\n    overflowX: \"hidden\",\n    width: \"100%\",\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: \"48px\",\n    overflowY: \"hidden\",\n    \"@media (hover: none)\": scrollbarStyles,\n    \"&:hover\": scrollbarStyles\n  };\n});\nconst SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  if (isSmallScreen) {\n    return null;\n  }\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n  return /* @__PURE__ */ React__default.createElement(\n    Button,\n    {\n      role: \"button\",\n      onClick: handleClick,\n      className: classes.expandButton,\n      \"aria-label\": \"Expand Sidebar\",\n      \"data-testid\": \"sidebar-expand-button\"\n    },\n    /* @__PURE__ */ React__default.createElement(Box, { className: classes.arrows }, isOpen ? /* @__PURE__ */ React__default.createElement(DoubleArrowLeft, null) : /* @__PURE__ */ React__default.createElement(DoubleArrowRight, null))\n  );\n};\n\nexport { SidebarDivider, SidebarExpandButton, SidebarItem, SidebarScrollWrapper, SidebarSearchField, SidebarSpace, SidebarSpacer, WorkaroundNavLink };\n//# sourceMappingURL=Items.esm.js.map\n","import { createContext } from 'react';\n\nconst MobileSidebarContext = createContext({\n  selectedMenuItemIndex: -1,\n  setSelectedMenuItemIndex: () => {\n  }\n});\n\nexport { MobileSidebarContext };\n//# sourceMappingURL=MobileSidebarContext.esm.js.map\n","const LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(\n        window.localStorage.getItem(\"sidebarPinState\" /* SIDEBAR_PIN_STATE */) || \"true\"\n      );\n    } catch {\n      return true;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(\n      \"sidebarPinState\" /* SIDEBAR_PIN_STATE */,\n      JSON.stringify(state)\n    );\n  }\n};\n\nexport { LocalStorage };\n//# sourceMappingURL=localStorage.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport React__default, { createContext, useState, useContext, useRef, useMemo, useEffect, useCallback } from 'react';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { LocalStorage } from './localStorage.esm.js';\nimport { SidebarPinStateProvider } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      width: \"100%\",\n      transition: \"padding-left 0.1s ease-out\",\n      isolation: \"isolate\",\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: (props) => props.isPinned ? props.sidebarConfig.drawerWidthOpen : props.sidebarConfig.drawerWidthClosed\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: (props) => props.sidebarConfig.mobileSidebarHeight\n      },\n      \"@media print\": {\n        padding: \"0px !important\"\n      }\n    },\n    content: {\n      zIndex: 0,\n      isolation: \"isolate\",\n      \"&:focus\": {\n        outline: 0\n      }\n    }\n  }),\n  { name: \"BackstageSidebarPage\" }\n);\nconst PageContext = createContext({\n  content: {\n    contentRef: void 0\n  }\n});\nfunction SidebarPage(props) {\n  const [isPinned, setIsPinned] = useState(\n    () => LocalStorage.getSidebarPinState()\n  );\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const contentRef = useRef(null);\n  const pageContext = useMemo(\n    () => ({\n      content: {\n        contentRef\n      }\n    }),\n    [contentRef]\n  );\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down(\"xs\"), {\n    noSsr: true\n  });\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles({ isPinned, sidebarConfig });\n  return /* @__PURE__ */ React__default.createElement(\n    SidebarPinStateProvider,\n    {\n      value: {\n        isPinned,\n        toggleSidebarPinState,\n        isMobile\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(PageContext.Provider, { value: pageContext }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.root }, props.children))\n  );\n}\nfunction useContent() {\n  const { content } = useContext(PageContext);\n  const focusContent = useCallback(() => {\n    content?.contentRef?.current?.focus();\n  }, [content]);\n  return { focusContent, contentRef: content?.contentRef };\n}\n\nexport { SidebarPage, useContent };\n//# sourceMappingURL=Page.esm.js.map\n","import BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React__default, { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      flexGrow: 0,\n      margin: theme.spacing(0, 2),\n      color: theme.palette.navigation.color\n    },\n    selected: (props) => ({\n      color: `${theme.palette.navigation.selectedColor}!important`,\n      borderTop: `solid ${props.sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n      marginTop: \"-1px\"\n    }),\n    label: {\n      display: \"none\"\n    }\n  })\n);\nconst MobileSidebarGroup = (props) => {\n  const { to, label, icon, value } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const { selectedMenuItemIndex, setSelectedMenuItemIndex } = useContext(MobileSidebarContext);\n  const onChange = (_, value2) => {\n    if (value2 === selectedMenuItemIndex) {\n      setSelectedMenuItemIndex(-1);\n    } else {\n      setSelectedMenuItemIndex(value2);\n    }\n  };\n  const selected = value === selectedMenuItemIndex && selectedMenuItemIndex >= 0 || !(value === selectedMenuItemIndex) && !(selectedMenuItemIndex >= 0) && to === location.pathname;\n  return (\n    // Material UI issue: https://github.com/mui-org/material-ui/issues/27820\n    /* @__PURE__ */ React__default.createElement(\n      BottomNavigationAction,\n      {\n        \"aria-label\": label,\n        label,\n        icon,\n        component: Link,\n        to: to ? to : location.pathname,\n        onChange,\n        value,\n        selected,\n        classes\n      }\n    )\n  );\n};\nconst SidebarGroup = (props) => {\n  const { children, to, label, icon, value } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ React__default.createElement(MobileSidebarGroup, { to, label, icon, value }) : /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, children);\n};\n\nexport { SidebarGroup };\n//# sourceMappingURL=SidebarGroup.esm.js.map\n","import React__default, { createContext, useContext } from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst defaultSidebarOpenStateContext = {\n  isOpen: false,\n  setOpen: () => {\n  }\n};\nconst LegacySidebarContext = createContext(\n  defaultSidebarOpenStateContext\n);\nconst VersionedSidebarContext = createVersionedContext(\"sidebar-open-state-context\");\nfunction SidebarOpenStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ React__default.createElement(LegacySidebarContext.Provider, { value }, /* @__PURE__ */ React__default.createElement(\n    VersionedSidebarContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value })\n    },\n    children\n  ));\n}\nconst useSidebarOpenState = () => {\n  const versionedOpenStateContext = useContext(VersionedSidebarContext);\n  const legacyOpenStateContext = useContext(LegacySidebarContext);\n  if (versionedOpenStateContext === void 0) {\n    return legacyOpenStateContext || defaultSidebarOpenStateContext;\n  }\n  const openStateContext = versionedOpenStateContext.atVersion(1);\n  if (openStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return openStateContext;\n};\n\nexport { LegacySidebarContext, SidebarOpenStateProvider, useSidebarOpenState };\n//# sourceMappingURL=SidebarOpenStateContext.esm.js.map\n","import { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport React__default, { createContext, useContext } from 'react';\n\nconst defaultSidebarPinStateContext = {\n  isPinned: true,\n  toggleSidebarPinState: () => {\n  },\n  isMobile: false\n};\nconst LegacySidebarPinStateContext = createContext(defaultSidebarPinStateContext);\nconst VersionedSidebarPinStateContext = createVersionedContext(\"sidebar-pin-state-context\");\nfunction SidebarPinStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ React__default.createElement(LegacySidebarPinStateContext.Provider, { value }, /* @__PURE__ */ React__default.createElement(\n    VersionedSidebarPinStateContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value })\n    },\n    children\n  ));\n}\nconst useSidebarPinState = () => {\n  const versionedPinStateContext = useContext(VersionedSidebarPinStateContext);\n  const legacyPinStateContext = useContext(LegacySidebarPinStateContext);\n  if (versionedPinStateContext === void 0) {\n    return legacyPinStateContext || defaultSidebarPinStateContext;\n  }\n  const pinStateContext = versionedPinStateContext.atVersion(1);\n  if (pinStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return pinStateContext;\n};\n\nexport { LegacySidebarPinStateContext, SidebarPinStateProvider, useSidebarPinState };\n//# sourceMappingURL=SidebarPinStateContext.esm.js.map\n","import { createContext } from 'react';\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  // As per NN/g's guidance on timing for exposing hidden content\n  // See https://www.nngroup.com/articles/timing-exposing-content/\n  defaultOpenDelayMs: 100,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2,\n  mobileSidebarHeight: 56\n};\nconst makeSidebarConfig = (customSidebarConfig) => ({\n  ...sidebarConfig,\n  ...customSidebarConfig,\n  iconContainerWidth: sidebarConfig.drawerWidthClosed,\n  iconSize: sidebarConfig.drawerWidthClosed - sidebarConfig.iconPadding * 2,\n  userBadgeDiameter: sidebarConfig.drawerWidthClosed - sidebarConfig.userBadgePadding * 2\n});\nconst submenuConfig = {\n  drawerWidthClosed: 0,\n  drawerWidthOpen: 202,\n  defaultOpenDelayMs: sidebarConfig.defaultOpenDelayMs + 200\n};\nconst makeSidebarSubmenuConfig = (customSubmenuConfig) => ({\n  ...submenuConfig,\n  ...customSubmenuConfig\n});\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarConfigContext = createContext({\n  sidebarConfig,\n  submenuConfig\n});\nconst SidebarItemWithSubmenuContext = createContext({\n  isHoveredOn: false,\n  setIsHoveredOn: () => {\n  }\n});\n\nexport { SIDEBAR_INTRO_LOCAL_STORAGE, SidebarConfigContext, SidebarItemWithSubmenuContext, makeSidebarConfig, makeSidebarSubmenuConfig, sidebarConfig, submenuConfig };\n//# sourceMappingURL=config.esm.js.map\n","class GuestUserIdentity {\n  getUserId() {\n    return \"guest\";\n  }\n  async getIdToken() {\n    return void 0;\n  }\n  getProfile() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getProfileInfo() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getBackstageIdentity() {\n    const userEntityRef = `user:default/guest`;\n    return {\n      type: \"user\",\n      userEntityRef,\n      ownershipEntityRefs: [userEntityRef]\n    };\n  }\n  async getCredentials() {\n    return {};\n  }\n  async signOut() {\n  }\n}\n\nexport { GuestUserIdentity };\n//# sourceMappingURL=GuestUserIdentity.esm.js.map\n","function parseJwtPayload(token) {\n  const [_header, payload, _signature] = token.split(\".\");\n  return JSON.parse(window.atob(payload));\n}\nclass LegacyUserIdentity {\n  constructor(result) {\n    this.result = result;\n  }\n  getUserId() {\n    return this.result.userId;\n  }\n  static fromResult(result) {\n    return new LegacyUserIdentity(result);\n  }\n  async getIdToken() {\n    return this.result.getIdToken?.();\n  }\n  getProfile() {\n    return this.result.profile;\n  }\n  async getProfileInfo() {\n    return this.result.profile;\n  }\n  async getBackstageIdentity() {\n    const token = await this.getIdToken();\n    if (!token) {\n      const userEntityRef = `user:default/${this.getUserId()}`;\n      return {\n        type: \"user\",\n        userEntityRef,\n        ownershipEntityRefs: [userEntityRef]\n      };\n    }\n    const { sub, ent } = parseJwtPayload(token);\n    return {\n      type: \"user\",\n      userEntityRef: sub,\n      ownershipEntityRefs: ent ?? []\n    };\n  }\n  async getCredentials() {\n    const token = await this.result.getIdToken?.();\n    return { token };\n  }\n  async signOut() {\n    return this.result.signOut?.();\n  }\n}\n\nexport { LegacyUserIdentity };\n//# sourceMappingURL=LegacyUserIdentity.esm.js.map\n","import { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport { LegacyUserIdentity } from './LegacyUserIdentity.esm.js';\n\nclass UserIdentity {\n  constructor(identity, authApi, profile) {\n    this.identity = identity;\n    this.authApi = authApi;\n    this.profile = profile;\n  }\n  profilePromise;\n  /**\n   * Creates a new IdentityApi that acts as a Guest User.\n   *\n   * @public\n   */\n  static createGuest() {\n    return new GuestUserIdentity();\n  }\n  /**\n   * Creates a new IdentityApi using a legacy SignInResult object.\n   *\n   * @public\n   */\n  static fromLegacy(result) {\n    return LegacyUserIdentity.fromResult(result);\n  }\n  /**\n   * Creates a new IdentityApi implementation using a user identity\n   * and an auth API that will be used to request backstage tokens.\n   *\n   * @public\n   */\n  static create(options) {\n    return new UserIdentity(options.identity, options.authApi, options.profile);\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const ref = this.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return identity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    if (!this.profile) {\n      throw new Error(\n        \"The identity API does not implement synchronous profile fetching, use getProfileInfo() instead\"\n      );\n    }\n    return this.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    if (this.profilePromise) {\n      return await this.profilePromise;\n    }\n    try {\n      this.profilePromise = this.authApi.getProfile();\n      return await this.profilePromise;\n    } catch (ex) {\n      this.profilePromise = void 0;\n      throw ex;\n    }\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    return this.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return { token: identity.token };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    return this.authApi.signOut();\n  }\n}\n\nexport { UserIdentity };\n//# sourceMappingURL=UserIdentity.esm.js.map\n","import React__default from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(\n  {\n    container: {\n      padding: 0,\n      listStyle: \"none\"\n    },\n    item: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: \"400px\",\n      margin: 0,\n      padding: 0\n    }\n  },\n  { name: \"BackstageSignInPage\" }\n);\nconst GridItem = ({ children }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(Grid, { component: \"li\", item: true, classes }, children);\n};\n\nexport { GridItem, useStyles };\n//# sourceMappingURL=styles.esm.js.map\n","import React__default from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport { GridItem } from './styles.esm.js';\nimport { ForwardedError } from '@backstage/errors';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst Component = ({\n  config,\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const { apiRef, title, message } = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handleLogin = async () => {\n    try {\n      onSignInStarted();\n      const identityResponse = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      if (!identityResponse) {\n        onSignInFailure();\n        throw new Error(\n          `The ${title} provider is not configured to support sign-in`\n        );\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          profile,\n          authApi\n        })\n      );\n    } catch (error) {\n      onSignInFailure();\n      errorApi.post(new ForwardedError(t(\"signIn.loginFailed\"), error));\n    }\n  };\n  return /* @__PURE__ */ React__default.createElement(GridItem, null, /* @__PURE__ */ React__default.createElement(\n    InfoCard,\n    {\n      variant: \"fullHeight\",\n      title,\n      actions: /* @__PURE__ */ React__default.createElement(Button, { color: \"primary\", variant: \"outlined\", onClick: handleLogin }, t(\"signIn.title\"))\n    },\n    /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\" }, message)\n  ));\n};\nconst loader = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identityResponse = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identityResponse) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return UserIdentity.create({\n    identity: identityResponse.identity,\n    profile,\n    authApi\n  });\n};\nconst commonProvider = { Component, loader };\n\nexport { commonProvider };\n//# sourceMappingURL=commonProvider.esm.js.map\n","import { z } from 'zod';\n\nconst proxiedSessionSchema = z.object({\n  providerInfo: z.object({}).catchall(z.unknown()).optional(),\n  profile: z.object({\n    email: z.string().optional(),\n    displayName: z.string().optional(),\n    picture: z.string().optional()\n  }),\n  backstageIdentity: z.object({\n    token: z.string(),\n    identity: z.object({\n      type: z.literal(\"user\"),\n      userEntityRef: z.string(),\n      ownershipEntityRefs: z.array(z.string())\n    })\n  })\n});\n\nexport { proxiedSessionSchema };\n//# sourceMappingURL=types.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport { proxiedSessionSchema } from './types.esm.js';\n\nconst DEFAULTS = {\n  // The amount of time between token refreshes, if we fail to get an actual\n  // value out of the exp claim\n  defaultTokenExpiryMillis: 5 * 60 * 1e3,\n  // The amount of time before the actual expiry of the Backstage token, that we\n  // shall start trying to get a new one\n  tokenExpiryMarginMillis: 5 * 60 * 1e3\n};\nfunction tokenToExpiry(jwtToken) {\n  const fallback = new Date(Date.now() + DEFAULTS.defaultTokenExpiryMillis);\n  if (!jwtToken) {\n    return fallback;\n  }\n  const [_header, rawPayload, _signature] = jwtToken.split(\".\");\n  const payload = JSON.parse(window.atob(rawPayload));\n  if (typeof payload.exp !== \"number\") {\n    return fallback;\n  }\n  return new Date(payload.exp * 1e3 - DEFAULTS.tokenExpiryMarginMillis);\n}\nclass ProxiedSignInIdentity {\n  options;\n  abortController;\n  state;\n  constructor(options) {\n    this.options = options;\n    this.abortController = new AbortController();\n    this.state = { type: \"empty\" };\n  }\n  async start() {\n    await this.getSessionAsync();\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const { backstageIdentity } = this.getSessionSync();\n    const ref = backstageIdentity.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    const session = this.getSessionSync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    const session = await this.getSessionAsync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const session = await this.getSessionAsync();\n    return {\n      token: session.backstageIdentity.token\n    };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    this.abortController.abort();\n  }\n  getSessionSync() {\n    if (this.state.type === \"active\") {\n      return this.state.session;\n    } else if (this.state.type === \"fetching\" && this.state.previous) {\n      return this.state.previous;\n    }\n    throw new Error(\"No session available. Try reloading your browser page.\");\n  }\n  async getSessionAsync() {\n    if (this.state.type === \"fetching\") {\n      return this.state.promise;\n    } else if (this.state.type === \"active\" && /* @__PURE__ */ new Date() < this.state.expiresAt) {\n      return this.state.session;\n    }\n    const previous = this.state.type === \"active\" ? this.state.session : void 0;\n    const promise = this.fetchSession().then(\n      (session) => {\n        this.state = {\n          type: \"active\",\n          session,\n          expiresAt: tokenToExpiry(session.backstageIdentity.token)\n        };\n        return session;\n      },\n      (error) => {\n        this.state = {\n          type: \"failed\",\n          error\n        };\n        throw error;\n      }\n    );\n    this.state = {\n      type: \"fetching\",\n      promise,\n      previous\n    };\n    return promise;\n  }\n  async fetchSession() {\n    const baseUrl = await this.options.discoveryApi.getBaseUrl(\"auth\");\n    const headers = typeof this.options.headers === \"function\" ? await this.options.headers() : this.options.headers;\n    const mergedHeaders = new Headers(headers);\n    mergedHeaders.set(\"X-Requested-With\", \"XMLHttpRequest\");\n    const response = await fetch(\n      `${baseUrl}/${this.options.provider}/refresh`,\n      {\n        signal: this.abortController.signal,\n        headers: mergedHeaders,\n        credentials: \"include\"\n      }\n    );\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return proxiedSessionSchema.parse(await response.json());\n  }\n}\n\nexport { DEFAULTS, ProxiedSignInIdentity, tokenToExpiry };\n//# sourceMappingURL=ProxiedSignInIdentity.esm.js.map\n","import React__default from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { ProxiedSignInIdentity } from '../ProxiedSignInPage/ProxiedSignInIdentity.esm.js';\nimport { useApi, discoveryApiRef } from '@backstage/core-plugin-api';\nimport { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport useLocalStorage from 'react-use/esm/useLocalStorage';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst getIdentity = async (identity) => {\n  try {\n    const identityResponse = await identity.getBackstageIdentity();\n    return identityResponse;\n  } catch (error) {\n    if (error.name === \"ResponseError\" && error.cause.name === \"NotFoundError\") {\n      return void 0;\n    }\n    throw error;\n  }\n};\nconst Component = ({\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const discoveryApi = useApi(discoveryApiRef);\n  const [_, setUseLegacyGuestToken] = useLocalStorage(\"enableLegacyGuestToken\");\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handle = async () => {\n    onSignInStarted();\n    const identity = new ProxiedSignInIdentity({\n      provider: \"guest\",\n      discoveryApi\n    });\n    const identityResponse = await getIdentity(identity).catch((error) => {\n      console.warn(`Failed to sign in as a guest, ${error}`);\n      return void 0;\n    });\n    if (!identityResponse) {\n      const useLegacyGuestTokenResponse = confirm(\n        \"Failed to sign in as a guest using the auth backend. Do you want to fallback to the legacy guest token?\"\n      );\n      if (useLegacyGuestTokenResponse) {\n        setUseLegacyGuestToken(true);\n        onSignInSuccess(new GuestUserIdentity());\n        return;\n      }\n      onSignInFailure();\n      throw new Error(\n        `You cannot sign in as a guest, you must either enable the legacy guest token or configure the auth backend to support guest sign in.`\n      );\n    }\n    onSignInSuccess(identity);\n  };\n  return /* @__PURE__ */ React__default.createElement(GridItem, null, /* @__PURE__ */ React__default.createElement(\n    InfoCard,\n    {\n      title: \"Guest\",\n      variant: \"fullHeight\",\n      actions: /* @__PURE__ */ React__default.createElement(Button, { color: \"primary\", variant: \"outlined\", onClick: handle }, t(\"signIn.guestProvider.enter\"))\n    },\n    /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\", style: { whiteSpace: \"pre-line\" } }, t(\"signIn.guestProvider.subtitle\"))\n  ));\n};\nconst loader = async (apis) => {\n  const useLegacyGuestToken = localStorage.getItem(\"enableLegacyGuestToken\") === \"true\";\n  const identity = new ProxiedSignInIdentity({\n    provider: \"guest\",\n    discoveryApi: apis.get(discoveryApiRef)\n  });\n  const identityResponse = await getIdentity(identity).catch((error) => {\n    console.warn(`Failed to sign in as a guest, ${error}`);\n    return void 0;\n  });\n  if (!identityResponse && !useLegacyGuestToken) {\n    return void 0;\n  } else if (identityResponse && useLegacyGuestToken) {\n    const switchToNewGuestToken = confirm(\n      \"You are currently using the legacy guest token, but you have the new guest backend module installed. Do you want to use the new module?\"\n    );\n    if (switchToNewGuestToken) {\n      localStorage.removeItem(\"enableLegacyGuestToken\");\n    } else {\n      return new GuestUserIdentity();\n    }\n  } else if (useLegacyGuestToken) {\n    return new GuestUserIdentity();\n  }\n  return identity;\n};\nconst guestProvider = { Component, loader };\n\nexport { guestProvider };\n//# sourceMappingURL=guestProvider.esm.js.map\n","import React__default from 'react';\nimport { useForm } from 'react-hook-form';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport isEmpty from 'lodash/isEmpty';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles(\n  (theme) => ({\n    form: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\"\n    },\n    button: {\n      alignSelf: \"center\",\n      marginTop: theme.spacing(2)\n    },\n    subTitle: {\n      whiteSpace: \"pre-line\"\n    }\n  }),\n  { name: \"BackstageCustomProvider\" }\n);\nconst asInputRef = (renderResult) => {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n};\nconst Component = ({ onSignInStarted, onSignInSuccess }) => {\n  const classes = useFormStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const { register, handleSubmit, formState } = useForm({\n    mode: \"onChange\"\n  });\n  const { errors } = formState;\n  const handleResult = ({ userId, idToken }) => {\n    onSignInStarted();\n    onSignInSuccess(\n      UserIdentity.fromLegacy({\n        userId,\n        getIdToken: idToken !== void 0 ? async () => idToken : void 0,\n        profile: {\n          email: `${userId}@example.com`\n        }\n      })\n    );\n  };\n  return /* @__PURE__ */ React__default.createElement(GridItem, null, /* @__PURE__ */ React__default.createElement(InfoCard, { title: t(\"signIn.customProvider.title\"), variant: \"fullHeight\" }, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\", className: classes.subTitle }, t(\"signIn.customProvider.subtitle\")), /* @__PURE__ */ React__default.createElement(\"form\", { className: classes.form, onSubmit: handleSubmit(handleResult) }, /* @__PURE__ */ React__default.createElement(FormControl, null, /* @__PURE__ */ React__default.createElement(\n    TextField,\n    {\n      ...asInputRef(register(\"userId\", { required: true })),\n      label: t(\"signIn.customProvider.userId\"),\n      margin: \"normal\",\n      error: Boolean(errors.userId)\n    }\n  ), errors.userId && /* @__PURE__ */ React__default.createElement(FormHelperText, { error: true }, errors.userId.message)), /* @__PURE__ */ React__default.createElement(FormControl, null, /* @__PURE__ */ React__default.createElement(\n    TextField,\n    {\n      ...asInputRef(\n        register(\"idToken\", {\n          required: false,\n          validate: (token) => !token || ID_TOKEN_REGEX.test(token) || t(\"signIn.customProvider.tokenInvalid\")\n        })\n      ),\n      label: t(\"signIn.customProvider.idToken\"),\n      margin: \"normal\",\n      autoComplete: \"off\",\n      error: Boolean(errors.idToken)\n    }\n  ), errors.idToken && /* @__PURE__ */ React__default.createElement(FormHelperText, { error: true }, errors.idToken.message)), /* @__PURE__ */ React__default.createElement(\n    Button,\n    {\n      type: \"submit\",\n      color: \"primary\",\n      variant: \"outlined\",\n      className: classes.button,\n      disabled: !formState?.isDirty || !isEmpty(errors)\n    },\n    t(\"signIn.customProvider.continue\")\n  ))));\n};\nconst loader = async () => void 0;\nconst customProvider = { Component, loader };\n\nexport { customProvider };\n//# sourceMappingURL=customProvider.esm.js.map\n","class IdentityApiSignOutProxy {\n  constructor(config) {\n    this.config = config;\n  }\n  static from(config) {\n    return new IdentityApiSignOutProxy(config);\n  }\n  getUserId() {\n    if (!this.config.identityApi.getUserId) {\n      throw new Error(`SignOutProxy IdentityApi.getUserId is not implemented`);\n    }\n    return this.config.identityApi.getUserId();\n  }\n  getIdToken() {\n    if (!this.config.identityApi.getIdToken) {\n      throw new Error(`SignOutProxy IdentityApi.getIdToken is not implemented`);\n    }\n    return this.config.identityApi.getIdToken();\n  }\n  getProfile() {\n    if (!this.config.identityApi.getProfile) {\n      throw new Error(`SignOutProxy IdentityApi.getProfile is not implemented`);\n    }\n    return this.config.identityApi.getProfile();\n  }\n  getProfileInfo() {\n    return this.config.identityApi.getProfileInfo();\n  }\n  getBackstageIdentity() {\n    return this.config.identityApi.getBackstageIdentity();\n  }\n  getCredentials() {\n    return this.config.identityApi.getCredentials();\n  }\n  signOut() {\n    return this.config.signOut();\n  }\n}\n\nexport { IdentityApiSignOutProxy };\n//# sourceMappingURL=IdentityApiSignOutProxy.esm.js.map\n","import React__default, { useState, useCallback, useLayoutEffect, useMemo } from 'react';\nimport { useApi, errorApiRef, useApiHolder } from '@backstage/core-plugin-api';\nimport { commonProvider } from './commonProvider.esm.js';\nimport { guestProvider } from './guestProvider.esm.js';\nimport { customProvider } from './customProvider.esm.js';\nimport { IdentityApiSignOutProxy } from './IdentityApiSignOutProxy.esm.js';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMountEffect } from '@react-hookz/web';\nimport { ForwardedError } from '@backstage/errors';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(\n      `\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`\n    );\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce(\n    (acc, config) => {\n      if (typeof config === \"string\") {\n        validateIDs(config, acc);\n        acc[config] = { components: signInProviders[config], id: config };\n        return acc;\n      }\n      const { id } = config;\n      validateIDs(id, acc);\n      acc[id] = { components: signInProviders.common, id, config };\n      return acc;\n    },\n    {}\n  );\n  return providers;\n}\nconst useSignInProviders = (providers, onSignInSuccess) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  useMountEffect(() => {\n    const errorParam = searchParams.get(\"error\");\n    if (errorParam) {\n      errorApi.post(\n        new ForwardedError(t(\"signIn.loginFailed\"), new Error(errorParam))\n      );\n    }\n  });\n  const handleWrappedResult = useCallback(\n    (identityApi) => {\n      onSignInSuccess(\n        IdentityApiSignOutProxy.from({\n          identityApi,\n          signOut: async () => {\n            localStorage.removeItem(PROVIDER_STORAGE_KEY);\n            await identityApi.signOut?.();\n          }\n        })\n      );\n    },\n    [onSignInSuccess]\n  );\n  useLayoutEffect(() => {\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(\n      PROVIDER_STORAGE_KEY\n    );\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, provider.config?.apiRef).then((result) => {\n      if (didCancel) {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [\n    loading,\n    errorApi,\n    onSignInSuccess,\n    apiHolder,\n    providers,\n    handleWrappedResult\n  ]);\n  const elements = useMemo(\n    () => Object.keys(providers).map((key) => {\n      const provider = providers[key];\n      const { Component } = provider.components;\n      const handleSignInSuccess = (result) => {\n        handleWrappedResult(result);\n      };\n      const handleSignInStarted = () => {\n        localStorage.setItem(\n          PROVIDER_STORAGE_KEY,\n          provider?.config?.id || provider.id\n        );\n      };\n      const handleSignInFailure = () => {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      };\n      return /* @__PURE__ */ React__default.createElement(\n        Component,\n        {\n          key: provider.id,\n          config: provider.config,\n          onSignInStarted: handleSignInStarted,\n          onSignInSuccess: handleSignInSuccess,\n          onSignInFailure: handleSignInFailure\n        }\n      );\n    }),\n    [providers, handleWrappedResult]\n  );\n  return [loading, elements];\n};\n\nexport { getSignInProviders, useSignInProviders };\n//# sourceMappingURL=providers.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport React__default, { useState } from 'react';\nimport { useMountEffect } from '@react-hookz/web';\nimport { Progress } from '../../components/Progress/Progress.esm.js';\nimport { Content } from '../Content/Content.esm.js';\nimport { ContentHeader } from '../ContentHeader/ContentHeader.esm.js';\nimport { Header } from '../Header/Header.esm.js';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { Page } from '../Page/Page.esm.js';\nimport { getSignInProviders, useSignInProviders } from './providers.esm.js';\nimport { useStyles, GridItem } from './styles.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MultiSignInPage = ({\n  onSignInSuccess,\n  providers = [],\n  title,\n  titleComponent,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(\n    signInProviders,\n    onSignInSuccess\n  );\n  if (loading) {\n    return /* @__PURE__ */ React__default.createElement(Progress, null);\n  }\n  return /* @__PURE__ */ React__default.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React__default.createElement(Header, { title: configApi.getString(\"app.title\") }), /* @__PURE__ */ React__default.createElement(Content, null, (title || titleComponent) && /* @__PURE__ */ React__default.createElement(\n    ContentHeader,\n    {\n      title,\n      titleComponent,\n      textAlign: align\n    }\n  ), /* @__PURE__ */ React__default.createElement(\n    Grid,\n    {\n      container: true,\n      justifyContent: align === \"center\" ? align : \"flex-start\",\n      spacing: 2,\n      component: \"ul\",\n      classes\n    },\n    providerElements\n  )));\n};\nconst SingleSignInPage = ({\n  provider,\n  auto,\n  onSignInSuccess,\n  ErrorComponent\n}) => {\n  const classes = useStyles();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [error, setError] = useState();\n  const [showLoginPage, setShowLoginPage] = useState(false);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  const errorParam = searchParams.get(\"error\");\n  const login = async ({ checkExisting, showPopup }) => {\n    try {\n      let identityResponse;\n      if (checkExisting) {\n        identityResponse = await authApi.getBackstageIdentity({\n          optional: true\n        });\n      }\n      if (!identityResponse && (showPopup || auto) && !errorParam) {\n        setShowLoginPage(true);\n        identityResponse = await authApi.getBackstageIdentity({\n          instantPopup: true\n        });\n        if (!identityResponse) {\n          throw new Error(\n            `The ${provider.title} provider is not configured to support sign-in`\n          );\n        }\n      }\n      if (!identityResponse) {\n        setShowLoginPage(true);\n        return;\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          authApi,\n          profile\n        })\n      );\n    } catch (err) {\n      setError(err);\n      setShowLoginPage(true);\n    }\n  };\n  useMountEffect(() => {\n    if (errorParam) {\n      setError(new Error(errorParam));\n    }\n    login({ checkExisting: true });\n  });\n  return showLoginPage ? /* @__PURE__ */ React__default.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React__default.createElement(Header, { title: configApi.getString(\"app.title\") }), /* @__PURE__ */ React__default.createElement(Content, null, /* @__PURE__ */ React__default.createElement(\n    Grid,\n    {\n      container: true,\n      justifyContent: \"center\",\n      spacing: 2,\n      component: \"ul\",\n      classes\n    },\n    /* @__PURE__ */ React__default.createElement(GridItem, null, /* @__PURE__ */ React__default.createElement(\n      InfoCard,\n      {\n        variant: \"fullHeight\",\n        title: provider.title,\n        actions: /* @__PURE__ */ React__default.createElement(\n          Button,\n          {\n            color: \"primary\",\n            variant: \"outlined\",\n            onClick: () => {\n              login({ showPopup: true });\n            }\n          },\n          t(\"signIn.title\")\n        )\n      },\n      /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\" }, provider.message),\n      error && error.name !== \"PopupRejectedError\" && (ErrorComponent ? /* @__PURE__ */ React__default.createElement(ErrorComponent, { error }) : /* @__PURE__ */ React__default.createElement(Typography, { variant: \"body1\", color: \"error\" }, error.message))\n    ))\n  ))) : /* @__PURE__ */ React__default.createElement(Progress, null);\n};\nfunction SignInPage(props) {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ React__default.createElement(SingleSignInPage, { ...props });\n  }\n  return /* @__PURE__ */ React__default.createElement(MultiSignInPage, { ...props });\n}\n\nexport { MultiSignInPage, SignInPage, SingleSignInPage };\n//# sourceMappingURL=SignInPage.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst coreComponentsTranslationRef = createTranslationRef({\n  id: \"core-components\",\n  messages: {\n    signIn: {\n      title: \"Sign In\",\n      loginFailed: \"Login failed\",\n      customProvider: {\n        title: \"Custom User\",\n        subtitle: \"Enter your own User ID and credentials.\\n This selection will not be stored.\",\n        userId: \"User ID\",\n        tokenInvalid: \"Token is not a valid OpenID Connect JWT Token\",\n        continue: \"Continue\",\n        idToken: \"ID Token (optional)\"\n      },\n      guestProvider: {\n        title: \"Guest\",\n        subtitle: \"Enter as a Guest User.\\n You will not have a verified identity, meaning some features might be unavailable.\",\n        enter: \"Enter\"\n      }\n    },\n    skipToContent: \"Skip to content\",\n    copyTextButton: {\n      tooltipText: \"Text copied to clipboard\"\n    },\n    simpleStepper: {\n      reset: \"Reset\",\n      finish: \"Finish\",\n      next: \"Next\",\n      skip: \"Skip\",\n      back: \"Back\"\n    },\n    errorPage: {\n      subtitle: \"ERROR {{status}}: {{statusMessage}}\",\n      title: \"Looks like someone dropped the mic!\",\n      goBack: \"Go back\",\n      showMoreDetails: \"Show more details\",\n      showLessDetails: \"Show less details\"\n    },\n    emptyState: {\n      missingAnnotation: {\n        title: \"Missing Annotation\",\n        actionTitle: \"Add the annotation to your component YAML as shown in the highlighted example below:\",\n        readMore: \"Read more\"\n      }\n    },\n    supportConfig: {\n      default: {\n        title: \"Support Not Configured\",\n        linkTitle: \"Add `app.support` config key\"\n      }\n    },\n    errorBoundary: {\n      title: \"Please contact {{slackChannel}} for help.\"\n    },\n    oauthRequestDialog: {\n      title: \"Login Required\",\n      authRedirectTitle: \"This will trigger a http redirect to OAuth Login.\",\n      login: \"Log in\",\n      rejectAll: \"Reject All\"\n    },\n    supportButton: {\n      title: \"Support\",\n      close: \"Close\"\n    },\n    table: {\n      filter: {\n        title: \"Filters\",\n        clearAll: \"Clear all\"\n      }\n    },\n    alertDisplay: {\n      message_one: \"({{ count }} older message)\",\n      message_other: \"({{ count }} older messages)\"\n    },\n    autoLogout: {\n      stillTherePrompt: {\n        title: \"Logging out due to inactivity\",\n        buttonText: \"Yes! Don't log me out\"\n      }\n    },\n    proxiedSignInPage: {\n      title: \"You do not appear to be signed in. Please try reloading the browser page.\"\n    }\n  }\n});\n\nexport { coreComponentsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport React, { useContext } from 'react';\n\nconst AnalyticsReactContext = createVersionedContext(\"analytics-context\");\nconst useAnalyticsContext = () => {\n  const theContext = useContext(AnalyticsReactContext);\n  if (theContext === void 0) {\n    return {\n      routeRef: \"unknown\",\n      pluginId: \"root\",\n      extension: \"App\"\n    };\n  }\n  const theValue = theContext.atVersion(1);\n  if (theValue === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return theValue;\n};\nconst AnalyticsContext = (options) => {\n  const { attributes, children } = options;\n  const parentValues = useAnalyticsContext();\n  const combinedValue = {\n    ...parentValues,\n    ...attributes\n  };\n  const versionedCombinedValue = createVersionedValueMap({ 1: combinedValue });\n  return /* @__PURE__ */ React.createElement(AnalyticsReactContext.Provider, { value: versionedCombinedValue }, children);\n};\n\nexport { AnalyticsContext, useAnalyticsContext };\n//# sourceMappingURL=AnalyticsContext.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalEvents = getOrCreateGlobalSingleton(\n  \"core-plugin-api:analytics-tracker-events\",\n  () => ({\n    mostRecentGatheredNavigation: void 0,\n    mostRecentRoutableExtensionRender: void 0,\n    beforeUnloadRegistered: false\n  })\n);\nconst routableExtensionRenderedEvent = \"_ROUTABLE-EXTENSION-RENDERED\";\nclass Tracker {\n  constructor(analyticsApi, context = {\n    routeRef: \"unknown\",\n    pluginId: \"root\",\n    extension: \"App\"\n  }) {\n    this.analyticsApi = analyticsApi;\n    this.context = context;\n    if (!globalEvents.beforeUnloadRegistered) {\n      addEventListener(\n        \"beforeunload\",\n        () => {\n          if (globalEvents.mostRecentGatheredNavigation) {\n            this.analyticsApi.captureEvent({\n              ...globalEvents.mostRecentGatheredNavigation,\n              ...globalEvents.mostRecentRoutableExtensionRender\n            });\n            globalEvents.mostRecentGatheredNavigation = void 0;\n            globalEvents.mostRecentRoutableExtensionRender = void 0;\n          }\n        },\n        { once: true, passive: true }\n      );\n      globalEvents.beforeUnloadRegistered = true;\n    }\n  }\n  setContext(context) {\n    this.context = context;\n  }\n  captureEvent(action, subject, {\n    value,\n    attributes\n  } = {}) {\n    const { _routeNodeType, ...context } = this.context;\n    if (action === routableExtensionRenderedEvent) {\n      if (globalEvents.mostRecentGatheredNavigation) {\n        globalEvents.mostRecentRoutableExtensionRender = {\n          context: {\n            ...context,\n            extension: \"App\"\n          }\n        };\n      }\n      return;\n    }\n    if (globalEvents.mostRecentGatheredNavigation) {\n      try {\n        this.analyticsApi.captureEvent({\n          ...globalEvents.mostRecentGatheredNavigation,\n          ...globalEvents.mostRecentRoutableExtensionRender\n        });\n      } catch (e) {\n        console.warn(\"Error during analytics event capture. %o\", e);\n      }\n      globalEvents.mostRecentGatheredNavigation = void 0;\n      globalEvents.mostRecentRoutableExtensionRender = void 0;\n    }\n    if (action === \"navigate\" && _routeNodeType === \"gathered\" && context.pluginId === \"root\") {\n      globalEvents.mostRecentGatheredNavigation = {\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      };\n      return;\n    }\n    try {\n      this.analyticsApi.captureEvent({\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      });\n    } catch (e) {\n      console.warn(\"Error during analytics event capture. %o\", e);\n    }\n  }\n}\n\nexport { Tracker, routableExtensionRenderedEvent };\n//# sourceMappingURL=Tracker.esm.js.map\n","import { useAnalyticsContext } from './AnalyticsContext.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport { analyticsApiRef } from '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { useRef } from 'react';\nimport { Tracker } from './Tracker.esm.js';\n\nfunction useAnalyticsApi() {\n  try {\n    return useApi(analyticsApiRef);\n  } catch {\n    return { captureEvent: () => {\n    } };\n  }\n}\nfunction useAnalytics() {\n  const trackerRef = useRef(null);\n  const context = useAnalyticsContext();\n  const analyticsApi = useAnalyticsApi();\n  function getTracker() {\n    if (trackerRef.current === null) {\n      trackerRef.current = new Tracker(analyticsApi);\n    }\n    return trackerRef.current;\n  }\n  const tracker = getTracker();\n  tracker.setContext(context);\n  return tracker;\n}\n\nexport { useAnalytics };\n//# sourceMappingURL=useAnalytics.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst alertApiRef = createApiRef({\n  id: \"core.alert\"\n});\n\nexport { alertApiRef };\n//# sourceMappingURL=AlertApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst analyticsApiRef = createApiRef({\n  id: \"core.analytics\"\n});\n\nexport { analyticsApiRef };\n//# sourceMappingURL=AnalyticsApi.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst appLanguageApiRef = createApiRef({\n  id: \"core.applanguage\"\n});\n\nexport { appLanguageApiRef };\n//# sourceMappingURL=AppLanguageApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst appThemeApiRef = createApiRef({\n  id: \"core.apptheme\"\n});\n\nexport { appThemeApiRef };\n//# sourceMappingURL=AppThemeApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst configApiRef = createApiRef({\n  id: \"core.config\"\n});\n\nexport { configApiRef };\n//# sourceMappingURL=ConfigApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst discoveryApiRef = createApiRef({\n  id: \"core.discovery\"\n});\n\nexport { discoveryApiRef };\n//# sourceMappingURL=DiscoveryApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst errorApiRef = createApiRef({\n  id: \"core.error\"\n});\n\nexport { errorApiRef };\n//# sourceMappingURL=ErrorApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nvar FeatureFlagState = /* @__PURE__ */ ((FeatureFlagState2) => {\n  FeatureFlagState2[FeatureFlagState2[\"None\"] = 0] = \"None\";\n  FeatureFlagState2[FeatureFlagState2[\"Active\"] = 1] = \"Active\";\n  return FeatureFlagState2;\n})(FeatureFlagState || {});\nconst featureFlagsApiRef = createApiRef({\n  id: \"core.featureflags\"\n});\n\nexport { FeatureFlagState, featureFlagsApiRef };\n//# sourceMappingURL=FeatureFlagsApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst fetchApiRef = createApiRef({\n  id: \"core.fetch\"\n});\n\nexport { fetchApiRef };\n//# sourceMappingURL=FetchApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst identityApiRef = createApiRef({\n  id: \"core.identity\"\n});\n\nexport { identityApiRef };\n//# sourceMappingURL=IdentityApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst oauthRequestApiRef = createApiRef({\n  id: \"core.oauthrequest\"\n});\n\nexport { oauthRequestApiRef };\n//# sourceMappingURL=OAuthRequestApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst storageApiRef = createApiRef({\n  id: \"core.storage\"\n});\n\nexport { storageApiRef };\n//# sourceMappingURL=StorageApi.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst translationApiRef = createApiRef({\n  id: \"core.translation\"\n});\n\nexport { translationApiRef };\n//# sourceMappingURL=TranslationApi.esm.js.map\n","import 'react';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nvar SessionState = /* @__PURE__ */ ((SessionState2) => {\n  SessionState2[\"SignedIn\"] = \"SignedIn\";\n  SessionState2[\"SignedOut\"] = \"SignedOut\";\n  return SessionState2;\n})(SessionState || {});\nconst googleAuthApiRef = createApiRef({\n  id: \"core.auth.google\"\n});\nconst githubAuthApiRef = createApiRef({\n  id: \"core.auth.github\"\n});\nconst oktaAuthApiRef = createApiRef({\n  id: \"core.auth.okta\"\n});\nconst gitlabAuthApiRef = createApiRef({\n  id: \"core.auth.gitlab\"\n});\nconst microsoftAuthApiRef = createApiRef({\n  id: \"core.auth.microsoft\"\n});\nconst oneloginAuthApiRef = createApiRef({\n  id: \"core.auth.onelogin\"\n});\nconst bitbucketAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket\"\n});\nconst bitbucketServerAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket-server\"\n});\nconst atlassianAuthApiRef = createApiRef({\n  id: \"core.auth.atlassian\"\n});\nconst vmwareCloudAuthApiRef = createApiRef({\n  id: \"core.auth.vmware-cloud\"\n});\n\nexport { SessionState, atlassianAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, githubAuthApiRef, gitlabAuthApiRef, googleAuthApiRef, microsoftAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, vmwareCloudAuthApiRef };\n//# sourceMappingURL=auth.esm.js.map\n","class ApiRefImpl {\n  constructor(config) {\n    this.config = config;\n    const valid = config.id.split(\".\").flatMap((part) => part.split(\"-\")).every((part) => part.match(/^[a-z][a-z0-9]*$/));\n    if (!valid) {\n      throw new Error(\n        `API id must only contain period separated lowercase alphanum tokens with dashes, got '${config.id}'`\n      );\n    }\n  }\n  get id() {\n    return this.config.id;\n  }\n  // Utility for getting type of an api, using `typeof apiRef.T`\n  get T() {\n    throw new Error(`tried to read ApiRef.T of ${this}`);\n  }\n  toString() {\n    return `apiRef{${this.config.id}}`;\n  }\n}\nfunction createApiRef(config) {\n  return new ApiRefImpl(config);\n}\n\nexport { createApiRef };\n//# sourceMappingURL=ApiRef.esm.js.map\n","function createApiFactory(factory, instance) {\n  if (\"id\" in factory) {\n    return {\n      api: factory,\n      deps: {},\n      factory: () => instance\n    };\n  }\n  return factory;\n}\n\nexport { createApiFactory };\n//# sourceMappingURL=helpers.esm.js.map\n","import React from 'react';\nimport { useVersionedContext } from '@backstage/version-bridge';\nimport { NotImplementedError } from '@backstage/errors';\n\nfunction useApiHolder() {\n  const versionedHolder = useVersionedContext(\"api-context\");\n  if (!versionedHolder) {\n    throw new NotImplementedError(\"API context is not available\");\n  }\n  const apiHolder = versionedHolder.atVersion(1);\n  if (!apiHolder) {\n    throw new NotImplementedError(\"ApiContext v1 not available\");\n  }\n  return apiHolder;\n}\nfunction useApi(apiRef) {\n  const apiHolder = useApiHolder();\n  const api = apiHolder.get(apiRef);\n  if (!api) {\n    throw new NotImplementedError(`No implementation available for ${apiRef}`);\n  }\n  return api;\n}\nfunction withApis(apis) {\n  return function withApisWrapper(WrappedComponent) {\n    const Hoc = (props) => {\n      const apiHolder = useApiHolder();\n      const impls = {};\n      for (const key in apis) {\n        if (apis.hasOwnProperty(key)) {\n          const ref = apis[key];\n          const api = apiHolder.get(ref);\n          if (!api) {\n            throw new NotImplementedError(\n              `No implementation available for ${ref}`\n            );\n          }\n          impls[key] = api;\n        }\n      }\n      return /* @__PURE__ */ React.createElement(WrappedComponent, { ...props, ...impls });\n    };\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    Hoc.displayName = `withApis(${displayName})`;\n    return Hoc;\n  };\n}\n\nexport { useApi, useApiHolder, withApis };\n//# sourceMappingURL=useApi.esm.js.map\n","import { useVersionedContext } from '@backstage/version-bridge';\n\nconst useApp = () => {\n  const versionedContext = useVersionedContext(\n    \"app-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"App context is not available\");\n  }\n  const appContext = versionedContext.atVersion(1);\n  if (!appContext) {\n    throw new Error(\"AppContext v1 not available\");\n  }\n  return appContext;\n};\n\nexport { useApp };\n//# sourceMappingURL=useApp.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalStore = getOrCreateGlobalSingleton(\n  \"component-data-store\",\n  () => /* @__PURE__ */ new WeakMap()\n);\nconst componentDataKey = \"__backstage_data\";\nfunction attachComponentData(component, type, data) {\n  const dataComponent = component;\n  let container = dataComponent[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    container = { map: /* @__PURE__ */ new Map() };\n    Object.defineProperty(dataComponent, componentDataKey, {\n      enumerable: false,\n      configurable: true,\n      writable: false,\n      value: container\n    });\n    globalStore.set(component, container);\n  }\n  if (container.map.has(type)) {\n    const name = component.displayName || component.name;\n    throw new Error(\n      `Attempted to attach duplicate data \"${type}\" to component \"${name}\"`\n    );\n  }\n  container.map.set(type, data);\n}\nfunction getComponentData(node, type) {\n  if (!node) {\n    return void 0;\n  }\n  const component = node.type;\n  if (!component) {\n    return void 0;\n  }\n  const container = component[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    return void 0;\n  }\n  return container.map.get(type);\n}\n\nexport { attachComponentData, getComponentData };\n//# sourceMappingURL=componentData.esm.js.map\n","import React from 'react';\n\nclass PluginErrorBoundary extends React.Component {\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  state = { error: void 0 };\n  handleErrorReset = () => {\n    this.setState({ error: void 0 });\n  };\n  render() {\n    const { error } = this.state;\n    const { app, plugin } = this.props;\n    const { ErrorBoundaryFallback } = app.getComponents();\n    if (error) {\n      return /* @__PURE__ */ React.createElement(\n        ErrorBoundaryFallback,\n        {\n          error,\n          resetError: this.handleErrorReset,\n          plugin\n        }\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport { PluginErrorBoundary };\n//# sourceMappingURL=PluginErrorBoundary.esm.js.map\n","import React, { lazy, Suspense, useEffect } from 'react';\nimport { AnalyticsContext } from '../analytics/AnalyticsContext.esm.js';\nimport { useAnalytics } from '../analytics/useAnalytics.esm.js';\nimport { useApp } from '../app/useApp.esm.js';\nimport '../routing/types.esm.js';\nimport { useRouteRef } from '../routing/useRouteRef.esm.js';\nimport 'react-router-dom';\nimport { attachComponentData } from './componentData.esm.js';\nimport { PluginErrorBoundary } from './PluginErrorBoundary.esm.js';\nimport { routableExtensionRenderedEvent } from '../analytics/Tracker.esm.js';\n\nfunction createRoutableExtension(options) {\n  const { component, mountPoint, name } = options;\n  return createReactExtension({\n    component: {\n      lazy: () => component().then(\n        (InnerComponent) => {\n          const RoutableExtensionWrapper = (props) => {\n            const analytics = useAnalytics();\n            try {\n              useRouteRef(mountPoint);\n            } catch (error) {\n              if (typeof error === \"object\" && error !== null) {\n                const { message } = error;\n                if (typeof message === \"string\" && message.startsWith(\"No path for \")) {\n                  throw new Error(\n                    `Routable extension component with mount point ${mountPoint} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`\n                  );\n                }\n              }\n              throw error;\n            }\n            useEffect(() => {\n              analytics.captureEvent(routableExtensionRenderedEvent, \"\");\n            }, [analytics]);\n            return /* @__PURE__ */ React.createElement(InnerComponent, { ...props });\n          };\n          const componentName = name || InnerComponent.displayName || InnerComponent.name || \"LazyComponent\";\n          RoutableExtensionWrapper.displayName = `RoutableExtension(${componentName})`;\n          return RoutableExtensionWrapper;\n        },\n        (error) => {\n          const RoutableExtensionWrapper = (_) => {\n            const app = useApp();\n            const { BootErrorPage } = app.getComponents();\n            return /* @__PURE__ */ React.createElement(BootErrorPage, { step: \"load-chunk\", error });\n          };\n          return RoutableExtensionWrapper;\n        }\n      )\n    },\n    data: {\n      \"core.mountPoint\": mountPoint\n    },\n    name\n  });\n}\nfunction createComponentExtension(options) {\n  const { component, name } = options;\n  return createReactExtension({ component, name });\n}\nfunction createReactExtension(options) {\n  const { data = {}, name } = options;\n  if (!name) {\n    console.warn(\n      \"Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.\"\n    );\n  }\n  let Component;\n  if (\"lazy\" in options.component) {\n    const lazyLoader = options.component.lazy;\n    Component = lazy(\n      () => lazyLoader().then((component) => ({ default: component }))\n    );\n  } else {\n    Component = options.component.sync;\n  }\n  const componentName = name || Component.displayName || Component.name || \"Component\";\n  return {\n    expose(plugin) {\n      const Result = (props) => {\n        const app = useApp();\n        const { Progress } = app.getComponents();\n        const mountPoint = data?.[\"core.mountPoint\"];\n        return /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, /* @__PURE__ */ React.createElement(PluginErrorBoundary, { app, plugin }, /* @__PURE__ */ React.createElement(\n          AnalyticsContext,\n          {\n            attributes: {\n              pluginId: plugin.getId(),\n              ...name && { extension: name },\n              ...mountPoint && { routeRef: mountPoint.id }\n            }\n          },\n          /* @__PURE__ */ React.createElement(Component, { ...props })\n        )));\n      };\n      attachComponentData(Result, \"core.plugin\", plugin);\n      attachComponentData(Result, \"core.extensionName\", name);\n      for (const [key, value] of Object.entries(data)) {\n        attachComponentData(Result, key, value);\n      }\n      Result.displayName = `Extension(${componentName})`;\n      return Result;\n    }\n  };\n}\n\nexport { createComponentExtension, createReactExtension, createRoutableExtension };\n//# sourceMappingURL=extensions.esm.js.map\n","import { useMemo, Children, isValidElement, Fragment } from 'react';\nimport { getComponentData } from './componentData.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport { featureFlagsApiRef } from '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\n\nfunction selectChildren(rootNode, featureFlagsApi, selector, strictError) {\n  return Children.toArray(rootNode).flatMap((node) => {\n    if (!isValidElement(node)) {\n      return [];\n    }\n    if (node.type === Fragment) {\n      return selectChildren(\n        node.props.children,\n        featureFlagsApi,\n        selector,\n        strictError\n      );\n    }\n    if (getComponentData(node, \"core.featureFlagged\")) {\n      const props = node.props;\n      const isEnabled = \"with\" in props ? featureFlagsApi.isActive(props.with) : !featureFlagsApi.isActive(props.without);\n      if (isEnabled) {\n        return selectChildren(\n          node.props.children,\n          featureFlagsApi,\n          selector,\n          strictError\n        );\n      }\n      return [];\n    }\n    if (selector === void 0 || selector(node)) {\n      return [node];\n    }\n    if (strictError) {\n      throw new Error(strictError);\n    }\n    return selectChildren(\n      node.props.children,\n      featureFlagsApi,\n      selector,\n      strictError\n    );\n  });\n}\nclass Collection {\n  constructor(node, featureFlagsApi) {\n    this.node = node;\n    this.featureFlagsApi = featureFlagsApi;\n  }\n  selectByComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0,\n      query.withStrictError\n    );\n    return new Collection(selection, this.featureFlagsApi);\n  }\n  findComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0\n    );\n    return selection.map((node) => getComponentData(node, query.key)).filter((data) => data !== void 0);\n  }\n  getElements() {\n    return selectChildren(this.node, this.featureFlagsApi);\n  }\n}\nfunction useElementFilter(node, filterFn, dependencies = []) {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const elements = new Collection(node, featureFlagsApi);\n  return useMemo(() => filterFn(elements), [node, ...dependencies]);\n}\n\nexport { useElementFilter };\n//# sourceMappingURL=useElementFilter.esm.js.map\n","class PluginImpl {\n  constructor(config) {\n    this.config = config;\n  }\n  getId() {\n    return this.config.id;\n  }\n  getApis() {\n    return this.config.apis ?? [];\n  }\n  getFeatureFlags() {\n    return this.config.featureFlags?.slice() ?? [];\n  }\n  get routes() {\n    return this.config.routes ?? {};\n  }\n  get externalRoutes() {\n    return this.config.externalRoutes ?? {};\n  }\n  provide(extension) {\n    return extension.expose(this);\n  }\n  toString() {\n    return `plugin{${this.config.id}}`;\n  }\n}\nfunction createPlugin(config) {\n  return new PluginImpl(config);\n}\n\nexport { PluginImpl, createPlugin };\n//# sourceMappingURL=Plugin.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass ExternalRouteRefImpl {\n  constructor(id, params, optional, defaultTarget) {\n    this.id = id;\n    this.params = params;\n    this.optional = optional;\n    this.defaultTarget = defaultTarget;\n  }\n  [routeRefType] = \"external\";\n  toString() {\n    return `routeRef{type=external,id=${this.id}}`;\n  }\n  getDefaultTarget() {\n    return this.defaultTarget;\n  }\n}\nfunction createExternalRouteRef(options) {\n  return new ExternalRouteRefImpl(\n    options.id,\n    options.params ?? [],\n    Boolean(options.optional),\n    options?.defaultTarget\n  );\n}\n\nexport { ExternalRouteRefImpl, createExternalRouteRef };\n//# sourceMappingURL=ExternalRouteRef.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass RouteRefImpl {\n  constructor(id, params) {\n    this.id = id;\n    this.params = params;\n  }\n  [routeRefType] = \"absolute\";\n  get title() {\n    return this.id;\n  }\n  toString() {\n    return `routeRef{type=absolute,id=${this.id}}`;\n  }\n}\nfunction createRouteRef(config) {\n  return new RouteRefImpl(\n    config.id,\n    config.params ?? []\n  );\n}\n\nexport { RouteRefImpl, createRouteRef };\n//# sourceMappingURL=RouteRef.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nconst PARAM_PATTERN = /^\\w+$/;\nclass SubRouteRefImpl {\n  constructor(id, path, parent, params) {\n    this.id = id;\n    this.path = path;\n    this.parent = parent;\n    this.params = params;\n  }\n  [routeRefType] = \"sub\";\n  toString() {\n    return `routeRef{type=sub,id=${this.id}}`;\n  }\n}\nfunction createSubRouteRef(config) {\n  const { id, path, parent } = config;\n  const pathParams = path.split(\"/\").filter((p) => p.startsWith(\":\")).map((p) => p.substring(1));\n  const params = [...parent.params, ...pathParams];\n  if (parent.params.some((p) => pathParams.includes(p))) {\n    throw new Error(\n      \"SubRouteRef may not have params that overlap with its parent\"\n    );\n  }\n  if (!path.startsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must start with '/', got '${path}'`);\n  }\n  if (path.endsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must not end with '/', got '${path}'`);\n  }\n  for (const param of pathParams) {\n    if (!PARAM_PATTERN.test(param)) {\n      throw new Error(`SubRouteRef path has invalid param, got '${param}'`);\n    }\n  }\n  const subRouteRef = new SubRouteRefImpl(\n    id,\n    path,\n    parent,\n    params\n  );\n  return subRouteRef;\n}\n\nexport { SubRouteRefImpl, createSubRouteRef };\n//# sourceMappingURL=SubRouteRef.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\n\nexport { routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useVersionedContext } from '@backstage/version-bridge';\n\nfunction useRouteRef(routeRef) {\n  const { pathname } = useLocation();\n  const versionedContext = useVersionedContext(\n    \"routing-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"Routing context is not available\");\n  }\n  const resolver = versionedContext.atVersion(1);\n  const routeFunc = useMemo(\n    () => resolver && resolver.resolve(routeRef, { pathname }),\n    [resolver, routeRef, pathname]\n  );\n  if (!versionedContext) {\n    throw new Error(\"useRouteRef used outside of routing context\");\n  }\n  if (!resolver) {\n    throw new Error(\"RoutingContext v1 not available\");\n  }\n  const isOptional = \"optional\" in routeRef && routeRef.optional;\n  if (!routeFunc && !isOptional) {\n    throw new Error(`No path for ${routeRef}`);\n  }\n  return routeFunc;\n}\n\nexport { useRouteRef };\n//# sourceMappingURL=useRouteRef.esm.js.map\n","import { useParams } from 'react-router-dom';\n\nfunction useRouteRefParams(_routeRef) {\n  return useParams();\n}\n\nexport { useRouteRefParams };\n//# sourceMappingURL=useRouteRefParams.esm.js.map\n","function createTranslationResource(options) {\n  return {\n    $$type: \"@backstage/TranslationResource\",\n    version: \"v1\",\n    id: options.ref.id,\n    resources: Object.entries(options.translations).map(\n      ([language, loader]) => ({\n        language,\n        loader: () => loader().then((m) => {\n          const value = m.default;\n          return {\n            messages: value?.$$type === \"@backstage/TranslationMessages\" ? value.messages : value\n          };\n        })\n      })\n    )\n  };\n}\n\nexport { createTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","import { createTranslationResource } from './TranslationResource.esm.js';\n\nfunction flattenMessages(nested) {\n  const entries = new Array();\n  function visit(obj, prefix) {\n    for (const [key, value] of Object.entries(obj)) {\n      if (typeof value === \"string\") {\n        entries.push([prefix + key, value]);\n      } else {\n        visit(value, `${prefix}${key}.`);\n      }\n    }\n  }\n  visit(nested, \"\");\n  return Object.fromEntries(entries);\n}\nclass TranslationRefImpl {\n  #id;\n  #messages;\n  #resources;\n  constructor(options) {\n    this.#id = options.id;\n    this.#messages = flattenMessages(\n      options.messages\n    );\n  }\n  $$type = \"@backstage/TranslationRef\";\n  version = \"v1\";\n  get id() {\n    return this.#id;\n  }\n  get T() {\n    throw new Error(\"Not implemented\");\n  }\n  getDefaultMessages() {\n    return this.#messages;\n  }\n  setDefaultResource(resources) {\n    this.#resources = resources;\n  }\n  getDefaultResource() {\n    return this.#resources;\n  }\n  toString() {\n    return `TranslationRef{id=${this.id}}`;\n  }\n}\nfunction createTranslationRef(config) {\n  const ref = new TranslationRefImpl(config);\n  if (config.translations) {\n    ref.setDefaultResource(\n      createTranslationResource({\n        ref,\n        translations: config.translations\n      })\n    );\n  }\n  return ref;\n}\n\nexport { createTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","import { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport { errorApiRef } from '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { translationApiRef } from '../apis/definitions/TranslationApi.esm.js';\nimport '../apis/definitions/AppLanguageApi.esm.js';\n\nconst loggedRefs = /* @__PURE__ */ new WeakSet();\nconst useTranslationRef = (translationRef) => {\n  const errorApi = useApi(errorApiRef);\n  const translationApi = useApi(translationApiRef);\n  const [snapshot, setSnapshot] = useState(\n    () => translationApi.getTranslation(translationRef)\n  );\n  const observable = useMemo(\n    () => translationApi.translation$(translationRef),\n    [translationApi, translationRef]\n  );\n  const onError = useCallback(\n    (error) => {\n      if (!loggedRefs.has(translationRef)) {\n        const errMsg = `Failed to load translation resource '${translationRef.id}'; caused by ${error}`;\n        console.error(errMsg);\n        errorApi.post(new Error(errMsg));\n        loggedRefs.add(translationRef);\n      }\n    },\n    [errorApi, translationRef]\n  );\n  useEffect(() => {\n    const subscription = observable.subscribe({\n      next(next) {\n        if (next.ready) {\n          setSnapshot(next);\n        }\n      },\n      error(error) {\n        onError(error);\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [observable, onError]);\n  const initialRenderRef = useRef(true);\n  useEffect(() => {\n    if (initialRenderRef.current) {\n      initialRenderRef.current = false;\n    } else {\n      setSnapshot(translationApi.getTranslation(translationRef));\n    }\n  }, [translationApi, translationRef]);\n  if (!snapshot.ready) {\n    throw new Promise((resolve) => {\n      const subscription = observable.subscribe({\n        next(next) {\n          if (next.ready) {\n            subscription.unsubscribe();\n            resolve();\n          }\n        },\n        error(error) {\n          subscription.unsubscribe();\n          onError(error);\n          resolve();\n        }\n      });\n    });\n  }\n  return { t: snapshot.t };\n};\n\nexport { useTranslationRef };\n//# sourceMappingURL=useTranslationRef.esm.js.map\n","import { serializeError as serializeError$1, deserializeError as deserializeError$1 } from 'serialize-error';\n\nfunction isError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    return false;\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    return false;\n  }\n  if (typeof maybe.message !== \"string\") {\n    return false;\n  }\n  return true;\n}\nfunction assertError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    throw new Error(`Encountered invalid error, not an object, got '${value}'`);\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    throw new Error(`Encountered error object without a name, got '${value}'`);\n  }\n  if (typeof maybe.message !== \"string\") {\n    throw new Error(\n      `Encountered error object without a message, got '${value}'`\n    );\n  }\n}\n\nfunction serializeError(error, options) {\n  const serialized = serializeError$1(error);\n  const result = {\n    name: \"Unknown\",\n    message: \"<no reason given>\",\n    ...serialized\n  };\n  if (!(options == null ? void 0 : options.includeStack)) {\n    delete result.stack;\n  }\n  return result;\n}\nfunction deserializeError(data) {\n  const result = deserializeError$1(data);\n  if (!data.stack) {\n    result.stack = void 0;\n  }\n  return result;\n}\nfunction stringifyError(error) {\n  if (isError(error)) {\n    const str = String(error);\n    return str !== \"[object Object]\" ? str : `${error.name}: ${error.message}`;\n  }\n  return `unknown error '${error}'`;\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$2 = (obj, key, value) => {\n  __defNormalProp$2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass CustomErrorBase extends Error {\n  constructor(message, cause) {\n    var _a;\n    let fullMessage = message;\n    if (cause !== void 0) {\n      const causeStr = stringifyError(cause);\n      if (fullMessage) {\n        fullMessage += `; caused by ${causeStr}`;\n      } else {\n        fullMessage = `caused by ${causeStr}`;\n      }\n    }\n    super(fullMessage);\n    /**\n     * An inner error that caused this error to be thrown, if any.\n     */\n    __publicField$2(this, \"cause\");\n    (_a = Error.captureStackTrace) == null ? void 0 : _a.call(Error, this, this.constructor);\n    if (!this.name || this.name === \"Error\") {\n      const baseName = this.constructor.name;\n      if (baseName !== \"Error\") {\n        this.name = this.constructor.name;\n      }\n    }\n    this.cause = isError(cause) ? cause : void 0;\n  }\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass InputError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"InputError\");\n  }\n}\nclass AuthenticationError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"AuthenticationError\");\n  }\n}\nclass NotAllowedError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"NotAllowedError\");\n  }\n}\nclass NotFoundError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"NotFoundError\");\n  }\n}\nclass ConflictError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"ConflictError\");\n  }\n}\nclass NotModifiedError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"NotModifiedError\");\n  }\n}\nclass NotImplementedError extends CustomErrorBase {\n  constructor() {\n    super(...arguments);\n    __publicField$1(this, \"name\", \"NotImplementedError\");\n  }\n}\nclass ServiceUnavailableError extends CustomErrorBase {\n}\nclass ForwardedError extends CustomErrorBase {\n  constructor(message, cause) {\n    super(message, cause);\n    this.name = isError(cause) ? cause.name : \"Error\";\n  }\n}\n\nasync function parseErrorResponseBody(response) {\n  var _a;\n  try {\n    const text = await response.text();\n    if (text) {\n      if ((_a = response.headers.get(\"content-type\")) == null ? void 0 : _a.startsWith(\"application/json\")) {\n        try {\n          const body = JSON.parse(text);\n          if (body.error && body.response) {\n            return body;\n          }\n        } catch {\n        }\n      }\n      return {\n        error: {\n          name: \"Error\",\n          message: `Request failed with status ${response.status} ${response.statusText}, ${text}`\n        },\n        response: {\n          statusCode: response.status\n        }\n      };\n    }\n  } catch {\n  }\n  return {\n    error: {\n      name: \"Error\",\n      message: `Request failed with status ${response.status} ${response.statusText}`\n    },\n    response: {\n      statusCode: response.status\n    }\n  };\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass ResponseError extends Error {\n  constructor(opts) {\n    super(opts.message);\n    /**\n     * The actual response, as seen by the client.\n     *\n     * Note that the body of this response is always consumed. Its parsed form is\n     * in the `body` field.\n     */\n    __publicField(this, \"response\");\n    /**\n     * The parsed JSON error body, as sent by the server.\n     */\n    __publicField(this, \"body\");\n    /**\n     * The Error cause, as seen by the remote server. This is parsed out of the\n     * JSON error body.\n     *\n     * This error always has the plain Error constructor, however all\n     * serializable enumerable fields on the remote error including its name are\n     * preserved. Therefore, if you want to check the error type, use its name\n     * property rather than checking typeof or its constructor or prototype.\n     */\n    __publicField(this, \"cause\");\n    __publicField(this, \"statusCode\");\n    __publicField(this, \"statusText\");\n    this.name = \"ResponseError\";\n    this.response = opts.response;\n    this.body = opts.data;\n    this.cause = opts.cause;\n    this.statusCode = opts.statusCode;\n    this.statusText = opts.statusText;\n  }\n  /**\n   * Constructs a ResponseError based on a failed response.\n   *\n   * Assumes that the response has already been checked to be not ok. This\n   * function consumes the body of the response, and assumes that it hasn't\n   * been consumed before.\n   */\n  static async fromResponse(response) {\n    const data = await parseErrorResponseBody(response);\n    const statusCode = data.response.statusCode || response.status;\n    const statusText = response.statusText;\n    const message = `Request failed with ${statusCode} ${statusText}`;\n    const cause = deserializeError(data.error);\n    return new ResponseError({\n      message,\n      response,\n      data,\n      cause,\n      statusCode,\n      statusText\n    });\n  }\n}\n\nexport { AuthenticationError, ConflictError, CustomErrorBase, ForwardedError, InputError, NotAllowedError, NotFoundError, NotImplementedError, NotModifiedError, ResponseError, ServiceUnavailableError, assertError, deserializeError, isError, parseErrorResponseBody, serializeError, stringifyError };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiFactory, githubAuthApiRef, gitlabAuthApiRef, microsoftAuthApiRef, bitbucketAuthApiRef } from '@backstage/core-plugin-api';\nimport { scmAuthApiRef } from './ScmAuthApi.esm.js';\n\nclass ScmAuthMux {\n  #providers;\n  constructor(providers) {\n    this.#providers = providers;\n  }\n  async getCredentials(options) {\n    const url = new URL(options.url);\n    const provider = this.#providers.find((p) => p.isUrlSupported(url));\n    if (!provider) {\n      throw new Error(\n        `No auth provider available for '${options.url}', see https://backstage.io/link?scm-auth`\n      );\n    }\n    return provider.getCredentials(options);\n  }\n}\nclass ScmAuth {\n  /**\n   * Creates an API factory that enables auth for each of the default SCM providers.\n   */\n  static createDefaultApiFactory() {\n    return createApiFactory({\n      api: scmAuthApiRef,\n      deps: {\n        github: githubAuthApiRef,\n        gitlab: gitlabAuthApiRef,\n        azure: microsoftAuthApiRef,\n        bitbucket: bitbucketAuthApiRef\n      },\n      factory: ({ github, gitlab, azure, bitbucket }) => ScmAuth.merge(\n        ScmAuth.forGithub(github),\n        ScmAuth.forGitlab(gitlab),\n        ScmAuth.forAzure(azure),\n        ScmAuth.forBitbucket(bitbucket)\n      )\n    });\n  }\n  /**\n   * Creates a general purpose ScmAuth instance with a custom scope mapping.\n   */\n  static forAuthApi(authApi, options) {\n    return new ScmAuth(\"generic\", authApi, options.host, options.scopeMapping);\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitHub.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `github.com`.\n   *\n   * The default scopes are:\n   *\n   * `repo read:org read:user`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `gist`\n   */\n  static forGithub(githubAuthApi, options) {\n    const host = options?.host ?? \"github.com\";\n    return new ScmAuth(\"github\", githubAuthApi, host, {\n      default: [\"repo\", \"read:org\", \"read:user\"],\n      repoWrite: [\"gist\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitLab.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `gitlab.com`.\n   *\n   * The default scopes are:\n   *\n   * `read_user read_api read_repository`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `write_repository api`\n   */\n  static forGitlab(gitlabAuthApi, options) {\n    const host = options?.host ?? \"gitlab.com\";\n    return new ScmAuth(\"gitlab\", gitlabAuthApi, host, {\n      default: [\"read_user\", \"read_api\", \"read_repository\"],\n      repoWrite: [\"write_repository api\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Azure.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `dev.azure.com`.\n   *\n   * The default scopes are:\n   *\n   * `vso.build vso.code vso.graph vso.project vso.profile`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `vso.code_manage`\n   */\n  static forAzure(microsoftAuthApi, options) {\n    const host = options?.host ?? \"dev.azure.com\";\n    return new ScmAuth(\"azure\", microsoftAuthApi, host, {\n      default: [\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.build\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.code\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.graph\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.project\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.profile\"\n      ],\n      repoWrite: [\"499b84ac-1321-427f-aa17-267ca6975798/vso.code_manage\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `bitbucket.org`.\n   *\n   * The default scopes are:\n   *\n   * `account team pullrequest snippet issue`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `pullrequest:write snippet:write issue:write`\n   */\n  static forBitbucket(bitbucketAuthApi, options) {\n    const host = options?.host ?? \"bitbucket.org\";\n    const defaultScopes = options?.scopeMapping?.default ?? [\n      \"account\",\n      \"team\",\n      \"pullrequest\",\n      \"snippet\",\n      \"issue\"\n    ];\n    const repoWriteScopes = options?.scopeMapping?.repoWrite ?? [\n      \"pullrequest:write\",\n      \"snippet:write\",\n      \"issue:write\"\n    ];\n    return new ScmAuth(\"bitbucket\", bitbucketAuthApi, host, {\n      default: defaultScopes,\n      repoWrite: repoWriteScopes\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket Server.\n   *\n   * The host option determines which URLs that are handled by this instance.\n   *\n   * The default scopes are:\n   *\n   * `PUBLIC_REPOS REPOS_READ`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `REPO_WRITE`\n   */\n  static forBitbucketServer(bitbucketAuthApi, options) {\n    return this.forBitbucket(bitbucketAuthApi, {\n      host: options.host,\n      scopeMapping: {\n        default: options.scopeMapping?.default ?? [\n          \"PUBLIC_REPOS\",\n          \"REPOS_READ\"\n        ],\n        repoWrite: options.scopeMapping?.repoWrite ?? [\"REPO_WRITE\"]\n      }\n    });\n  }\n  /**\n   * Merges together multiple ScmAuth instances into one that\n   * routes requests to the correct instance based on the URL.\n   */\n  static merge(...providers) {\n    return new ScmAuthMux(providers);\n  }\n  #api;\n  #host;\n  #scopeMapping;\n  #providerName;\n  constructor(providerName, api, host, scopeMapping) {\n    this.#api = api;\n    this.#host = host;\n    this.#scopeMapping = scopeMapping;\n    this.#providerName = providerName;\n  }\n  /**\n   * Checks whether the implementation is able to provide authentication for the given URL.\n   */\n  isUrlSupported(url) {\n    return url.host === this.#host;\n  }\n  getAdditionalScopesForProvider(additionalScopes) {\n    if (!additionalScopes?.customScopes || this.#providerName === \"generic\") {\n      return [];\n    }\n    return additionalScopes.customScopes?.[this.#providerName] ?? [];\n  }\n  /**\n   * Fetches credentials for the given resource.\n   */\n  async getCredentials(options) {\n    const { url, additionalScope, ...restOptions } = options;\n    const scopes = this.#scopeMapping.default.slice();\n    if (additionalScope?.repoWrite) {\n      scopes.push(...this.#scopeMapping.repoWrite);\n    }\n    const additionalScopes = this.getAdditionalScopesForProvider(additionalScope);\n    if (additionalScopes.length) {\n      scopes.push(...additionalScopes);\n    }\n    const uniqueScopes = [...new Set(scopes)];\n    const token = await this.#api.getAccessToken(uniqueScopes, restOptions);\n    return {\n      token,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n  }\n}\n\nexport { ScmAuth };\n//# sourceMappingURL=ScmAuth.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst scmAuthApiRef = createApiRef({\n  id: \"core.scmauth\"\n});\n\nexport { scmAuthApiRef };\n//# sourceMappingURL=ScmAuthApi.esm.js.map\n","const AMAZON_AWS_HOST = \"amazonaws.com\";\nfunction readAwsS3IntegrationConfig(config) {\n  const endpoint = config.getOptionalString(\"endpoint\");\n  const s3ForcePathStyle = config.getOptionalBoolean(\"s3ForcePathStyle\") ?? false;\n  let host;\n  let pathname;\n  if (endpoint) {\n    try {\n      const url = new URL(endpoint);\n      host = url.host;\n      pathname = url.pathname;\n    } catch {\n      throw new Error(\n        `invalid awsS3 integration config, endpoint '${endpoint}' is not a valid URL`\n      );\n    }\n    if (pathname !== \"/\") {\n      throw new Error(\n        `invalid awsS3 integration config, endpoints cannot contain path, got '${endpoint}'`\n      );\n    }\n  } else {\n    host = AMAZON_AWS_HOST;\n  }\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  return {\n    host,\n    endpoint,\n    s3ForcePathStyle,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId\n  };\n}\nfunction readAwsS3IntegrationConfigs(configs) {\n  const result = configs.map(readAwsS3IntegrationConfig);\n  if (!result.some((c) => c.host === AMAZON_AWS_HOST)) {\n    result.push({\n      host: AMAZON_AWS_HOST\n    });\n  }\n  return result;\n}\n\nexport { readAwsS3IntegrationConfig, readAwsS3IntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsS3IntegrationConfigs } from './config.esm.js';\n\nclass AwsS3Integration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAwsS3IntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsS3\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsS3Integration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsS3\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AwsS3Integration };\n//# sourceMappingURL=AwsS3Integration.esm.js.map\n","const AMAZON_AWS_CODECOMMIT_HOST = \"console.aws.amazon.com\";\nfunction readAwsCodeCommitIntegrationConfig(config) {\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  const region = config.getString(\"region\");\n  const host = config.getOptionalString(\"host\") || `${region}.${AMAZON_AWS_CODECOMMIT_HOST}`;\n  return {\n    host,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId,\n    region\n  };\n}\nfunction readAwsCodeCommitIntegrationConfigs(configs) {\n  return configs.map(readAwsCodeCommitIntegrationConfig);\n}\n\nexport { readAwsCodeCommitIntegrationConfig, readAwsCodeCommitIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsCodeCommitIntegrationConfigs } from './config.esm.js';\n\nclass AwsCodeCommitIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readAwsCodeCommitIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsCodeCommit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsCodeCommitIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsCodeCommit\";\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const parsedUrl = new URL(url);\n    const pathMatch = parsedUrl.pathname.match(\n      /^\\/codesuite\\/codecommit\\/repositories\\/([^\\/]+)\\//\n    );\n    if (!pathMatch) {\n      throw new Error(``);\n    }\n    const [, repositoryName] = pathMatch;\n    return replaceCodeCommitUrlType(url, repositoryName);\n  }\n}\nfunction replaceCodeCommitUrlType(url, repositoryName, type) {\n  const newString = `files/edit` ;\n  return url.replace(\n    new RegExp(\n      `/codesuite/codecommit/repositories/${repositoryName}/(browse|files/edit)/`\n    ),\n    `/codesuite/codecommit/repositories/${repositoryName}/${newString}/`\n  );\n}\n\nexport { AwsCodeCommitIntegration, replaceCodeCommitUrlType };\n//# sourceMappingURL=AwsCodeCommitIntegration.esm.js.map\n","const VERSION_PREFIX_GIT_BRANCH = \"GB\";\nclass AzureUrl {\n  /**\n   * Parses an azure URL as copied from the browser address bar.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  static fromRepoUrl(repoUrl) {\n    const url = new URL(repoUrl);\n    let owner;\n    let project;\n    let repo;\n    const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n    if (parts[2] === \"_git\") {\n      owner = parts[1];\n      project = repo = parts[3];\n    } else if (parts[3] === \"_git\") {\n      owner = parts[1];\n      project = parts[2];\n      repo = parts[4];\n    } else if (parts[4] === \"_git\") {\n      owner = `${parts[1]}/${parts[2]}`;\n      project = parts[3];\n      repo = parts[5];\n    }\n    if (!owner || !project || !repo) {\n      throw new Error(\"Azure URL must point to a git repository\");\n    }\n    const path = url.searchParams.get(\"path\") ?? void 0;\n    let ref;\n    const version = url.searchParams.get(\"version\");\n    if (version) {\n      const prefix = version.slice(0, 2);\n      if (prefix !== \"GB\") {\n        throw new Error(\"Azure URL version must point to a git branch\");\n      }\n      ref = version.slice(2);\n    }\n    return new AzureUrl(url.origin, owner, project, repo, path, ref);\n  }\n  #origin;\n  #owner;\n  #project;\n  #repo;\n  #path;\n  #ref;\n  constructor(origin, owner, project, repo, path, ref) {\n    this.#origin = origin;\n    this.#owner = owner;\n    this.#project = project;\n    this.#repo = repo;\n    this.#path = path;\n    this.#ref = ref;\n  }\n  #baseUrl = (...parts) => {\n    const url = new URL(this.#origin);\n    url.pathname = parts.map((part) => encodeURIComponent(part)).join(\"/\");\n    return url;\n  };\n  /**\n   * Returns a repo URL that can be used to navigate to the resource in azure.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  toRepoUrl() {\n    let url;\n    if (this.#project === this.#repo) {\n      url = this.#baseUrl(this.#owner, \"_git\", this.#repo);\n    } else {\n      url = this.#baseUrl(this.#owner, this.#project, \"_git\", this.#repo);\n    }\n    if (this.#path) {\n      url.searchParams.set(\"path\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", VERSION_PREFIX_GIT_BRANCH + this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the file download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a file.\n   */\n  toFileUrl() {\n    if (!this.#path) {\n      throw new Error(\n        \"Azure URL must point to a specific path to be able to download a file\"\n      );\n    }\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    url.searchParams.set(\"path\", this.#path);\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the archive download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a repo.\n   */\n  toArchiveUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"recursionLevel\", \"full\");\n    url.searchParams.set(\"download\", \"true\");\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#path) {\n      url.searchParams.set(\"scopePath\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the API url for fetching commits from a branch for this azure resource.\n   *\n   * Throws an error if the URL does not point to a commit.\n   */\n  toCommitsUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"commits\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#ref) {\n      url.searchParams.set(\"searchCriteria.itemVersion.version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the name of the owner, a user or an organization.\n   */\n  getOwner() {\n    return this.#owner;\n  }\n  /**\n   * Returns the name of the project.\n   */\n  getProject() {\n    return this.#project;\n  }\n  /**\n   * Returns the name of the repo.\n   */\n  getRepo() {\n    return this.#repo;\n  }\n  /**\n   * Returns the file path within the repo if the URL contains one.\n   */\n  getPath() {\n    return this.#path;\n  }\n  /**\n   * Returns the git ref in the repo if the URL contains one.\n   */\n  getRef() {\n    return this.#ref;\n  }\n}\n\nexport { AzureUrl };\n//# sourceMappingURL=AzureUrl.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nconst AZURE_HOST = \"dev.azure.com\";\nconst AzureDevOpsCredentialFields = [\n  \"clientId\",\n  \"clientSecret\",\n  \"tenantId\",\n  \"personalAccessToken\"\n];\nconst AzureDevopsCredentialFieldMap = /* @__PURE__ */ new Map([\n  [\"ClientSecret\", [\"clientId\", \"clientSecret\", \"tenantId\"]],\n  [\"ManagedIdentity\", [\"clientId\"]],\n  [\"PersonalAccessToken\", [\"personalAccessToken\"]]\n]);\nfunction asAzureDevOpsCredential(credential) {\n  for (const entry of AzureDevopsCredentialFieldMap.entries()) {\n    const [kind, requiredFields] = entry;\n    const forbiddenFields = AzureDevOpsCredentialFields.filter(\n      (field) => !requiredFields.includes(field)\n    );\n    if (requiredFields.every((field) => credential[field] !== void 0) && forbiddenFields.every((field) => credential[field] === void 0)) {\n      return {\n        kind,\n        organizations: credential.organizations,\n        ...requiredFields.reduce((acc, field) => {\n          acc[field] = credential[field];\n          return acc;\n        }, {})\n      };\n    }\n  }\n  throw new Error(\"is not a valid credential\");\n}\nfunction readAzureIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? AZURE_HOST;\n  let credentialConfigs = config.getOptionalConfigArray(\"credentials\")?.map((credential) => {\n    const result = {\n      organizations: credential.getOptionalStringArray(\"organizations\"),\n      personalAccessToken: credential.getOptionalString(\"personalAccessToken\")?.trim(),\n      tenantId: credential.getOptionalString(\"tenantId\"),\n      clientId: credential.getOptionalString(\"clientId\"),\n      clientSecret: credential.getOptionalString(\"clientSecret\")?.trim()\n    };\n    return result;\n  });\n  const token = config.getOptionalString(\"token\")?.trim();\n  if (config.getOptional(\"credential\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'credential' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (config.getOptional(\"token\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'token' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (token !== void 0) {\n    const mapped = [{ personalAccessToken: token }];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (config.getOptional(\"credential\") !== void 0) {\n    const mapped = [\n      {\n        organizations: config.getOptionalStringArray(\n          \"credential.organizations\"\n        ),\n        token: config.getOptionalString(\"credential.token\")?.trim(),\n        tenantId: config.getOptionalString(\"credential.tenantId\"),\n        clientId: config.getOptionalString(\"credential.clientId\"),\n        clientSecret: config.getOptionalString(\"credential.clientSecret\")?.trim()\n      }\n    ];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Azure integration config, '${host}' is not a valid host`\n    );\n  }\n  let credentials = void 0;\n  if (credentialConfigs !== void 0) {\n    const errors = credentialConfigs?.reduce((acc, credentialConfig, index) => {\n      let error = void 0;\n      try {\n        asAzureDevOpsCredential(credentialConfig);\n      } catch (e) {\n        error = e.message;\n      }\n      if (error !== void 0) {\n        acc.push(`credential at position ${index + 1} ${error}`);\n      }\n      return acc;\n    }, Array.of()).concat(\n      Object.entries(\n        credentialConfigs.filter(\n          (credential) => credential.organizations !== void 0 && credential.organizations.length > 0\n        ).reduce((acc, credential, index) => {\n          credential.organizations?.forEach((organization) => {\n            if (!acc[organization]) {\n              acc[organization] = [];\n            }\n            acc[organization].push(index + 1);\n          });\n          return acc;\n        }, {})\n      ).filter(([_, indexes]) => indexes.length > 1).reduce((acc, [org, indexes]) => {\n        acc.push(\n          `organization ${org} is specified multiple times in credentials at positions ${indexes.slice(0, indexes.length - 1).join(\", \")} and ${indexes[indexes.length - 1]}`\n        );\n        return acc;\n      }, Array.of())\n    );\n    if (errors?.length > 0) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}: ${errors.join(\"; \")}`\n      );\n    }\n    credentials = credentialConfigs.map(\n      (credentialConfig) => asAzureDevOpsCredential(credentialConfig)\n    );\n    if (credentials.some(\n      (credential) => credential.kind !== \"PersonalAccessToken\"\n    ) && host !== AZURE_HOST) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, only personal access tokens can be used with hosts other than ${AZURE_HOST}`\n      );\n    }\n    if (credentials.filter(\n      (credential) => credential.organizations === void 0 || credential.organizations.length === 0\n    ).length > 1) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, you cannot specify multiple credentials without organizations`\n      );\n    }\n  }\n  return {\n    host,\n    credentials\n  };\n}\nfunction readAzureIntegrationConfigs(configs) {\n  const result = configs.map(readAzureIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({ host: AZURE_HOST });\n  }\n  return result;\n}\n\nexport { readAzureIntegrationConfig, readAzureIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, isValidUrl } from '../helpers.esm.js';\nimport { AzureUrl } from './AzureUrl.esm.js';\nimport { readAzureIntegrationConfigs } from './config.esm.js';\n\nclass AzureIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAzureIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.azure\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AzureIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"azure\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  /*\n   * Azure repo URLs on the form with a `path` query param are treated specially.\n   *\n   * Example base URL: https://dev.azure.com/organization/project/_git/repository?path=%2Fcatalog-info.yaml\n   */\n  resolveUrl(options) {\n    const { url, base } = options;\n    if (isValidUrl(url)) {\n      return url;\n    }\n    try {\n      const azureUrl = AzureUrl.fromRepoUrl(base);\n      const newUrl = new URL(base);\n      const mockBaseUrl = new URL(`https://a.com${azureUrl.getPath() ?? \"\"}`);\n      const updatedPath = new URL(url, mockBaseUrl).pathname;\n      newUrl.searchParams.set(\"path\", updatedPath);\n      if (options.lineNumber) {\n        newUrl.searchParams.set(\"line\", String(options.lineNumber));\n        newUrl.searchParams.set(\"lineEnd\", String(options.lineNumber + 1));\n        newUrl.searchParams.set(\"lineStartColumn\", \"1\");\n        newUrl.searchParams.set(\"lineEndColumn\", \"1\");\n      }\n      return newUrl.toString();\n    } catch {\n      return new URL(url, base).toString();\n    }\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AzureIntegration };\n//# sourceMappingURL=AzureIntegration.esm.js.map\n","const BITBUCKET_CLOUD_HOST = \"bitbucket.org\";\nconst BITBUCKET_CLOUD_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketCloudIntegrationConfig(config) {\n  const host = BITBUCKET_CLOUD_HOST;\n  const apiBaseUrl = BITBUCKET_CLOUD_API_BASE_URL;\n  const username = config.getString(\"username\");\n  const appPassword = config.getString(\"appPassword\")?.trim();\n  return {\n    host,\n    apiBaseUrl,\n    username,\n    appPassword\n  };\n}\nfunction readBitbucketCloudIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketCloudIntegrationConfig);\n  if (result.length === 0) {\n    result.push({\n      host: BITBUCKET_CLOUD_HOST,\n      apiBaseUrl: BITBUCKET_CLOUD_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketCloudIntegrationConfig, readBitbucketCloudIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketCloudIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketCloudIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketCloudIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketCloudIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketCloud\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = `lines-${options.lineNumber}`;\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketCloudIntegration };\n//# sourceMappingURL=BitbucketCloudIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst BITBUCKET_HOST = \"bitbucket.org\";\nconst BITBUCKET_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? BITBUCKET_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === BITBUCKET_HOST) {\n    apiBaseUrl = BITBUCKET_API_BASE_URL;\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    appPassword\n  };\n}\nfunction readBitbucketIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketIntegrationConfig);\n  if (!result.some((c) => c.host === BITBUCKET_HOST)) {\n    result.push({\n      host: BITBUCKET_HOST,\n      apiBaseUrl: BITBUCKET_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketIntegrationConfig, readBitbucketIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucket\") ?? [\n        // if integrations.bitbucket was not used assume the use was migrated to the new configs\n        // and backport for the deprecated integration to be usable for other parts of the system\n        // until these got migrated\n        ...config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? [],\n        ...config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n      ]\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucket\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (!options.lineNumber) {\n      return resolved;\n    }\n    const url = new URL(resolved);\n    if (this.integrationConfig.host === \"bitbucket.org\") {\n      url.hash = `lines-${options.lineNumber}`;\n    } else {\n      url.hash = `${options.lineNumber}`;\n    }\n    return url.toString();\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"spa\", \"0\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketIntegration };\n//# sourceMappingURL=BitbucketIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nfunction readBitbucketServerIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket Server integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    password\n  };\n}\nfunction readBitbucketServerIntegrationConfigs(configs) {\n  return configs.map(readBitbucketServerIntegrationConfig);\n}\n\nexport { readBitbucketServerIntegrationConfig, readBitbucketServerIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketServerIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketServerIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketServerIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketServerIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketServer\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = options.lineNumber.toString();\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    if (url.includes(\"?\")) {\n      return url.substring(0, url.indexOf(\"?\"));\n    }\n    return url;\n  }\n}\n\nexport { BitbucketServerIntegration };\n//# sourceMappingURL=BitbucketServerIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGerritIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  let cloneUrl = config.getOptionalString(\"cloneUrl\");\n  let gitilesBaseUrl = config.getString(\"gitilesBaseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  } else if (cloneUrl && !isValidUrl(cloneUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${cloneUrl}' is not a valid cloneUrl`\n    );\n  } else if (!isValidUrl(gitilesBaseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${gitilesBaseUrl}' is not a valid gitilesBaseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (gitilesBaseUrl) {\n    gitilesBaseUrl = trimEnd(gitilesBaseUrl, \"/\");\n  } else {\n    gitilesBaseUrl = `https://${host}`;\n  }\n  if (cloneUrl) {\n    cloneUrl = trimEnd(cloneUrl, \"/\");\n  } else {\n    cloneUrl = baseUrl;\n  }\n  return {\n    host,\n    baseUrl,\n    cloneUrl,\n    gitilesBaseUrl,\n    username,\n    password\n  };\n}\nfunction readGerritIntegrationConfigs(configs) {\n  return configs.map(readGerritIntegrationConfig);\n}\n\nexport { readGerritIntegrationConfig, readGerritIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { trimStart, takeWhile, join, trimEnd } from 'lodash';\n\nconst GERRIT_BODY_PREFIX = \")]}'\";\nfunction parseGerritGitilesUrl(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\");\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectEndIndex = parts.indexOf(\"+\");\n  if (projectEndIndex <= 0) {\n    throw new Error(`Unable to parse project from url: ${url}`);\n  }\n  const project = trimStart(parts.slice(0, projectEndIndex).join(\"/\"), \"/\");\n  const branchIndex = parts.indexOf(\"heads\");\n  if (branchIndex <= 0) {\n    throw new Error(`Unable to parse branch from url: ${url}`);\n  }\n  const branch = parts[branchIndex + 1];\n  const filePath = parts.slice(branchIndex + 2).join(\"/\");\n  return {\n    branch,\n    filePath: filePath === \"\" ? \"/\" : filePath,\n    project\n  };\n}\nfunction parseGitilesUrlRef(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = trimStart(\n    urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\"),\n    \"/\"\n  );\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectParts = takeWhile(parts, (p) => p !== \"+\");\n  if (projectParts.length === 0) {\n    throw new Error(`Unable to parse gitiles url: ${url}`);\n  }\n  const rest = parts.slice(projectParts.length + 1);\n  const project = join(projectParts, \"/\");\n  if (rest.length > 0 && rest[0] === \"HEAD\") {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"head\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  if (rest.length > 0 && rest[0].length === 40) {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"sha\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  const remainingPath = join(rest, \"/\");\n  const refsRegexp = /^refs\\/(?<refsReference>heads|tags)\\/(?<ref>.*?)(\\/|$)/;\n  const result = refsRegexp.exec(remainingPath);\n  if (result) {\n    const matchString = result[0];\n    let refType;\n    const { refsReference, ref } = result.groups || {};\n    const path = remainingPath.replace(matchString, \"\");\n    switch (refsReference) {\n      case \"heads\":\n        refType = \"branch\";\n        break;\n      case \"tags\":\n        refType = \"tag\";\n        break;\n      default:\n        throw new Error(`Unable to parse gitiles url: ${url}`);\n    }\n    return {\n      project,\n      ref,\n      refType,\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  throw new Error(`Unable to parse gitiles : ${url}`);\n}\nfunction buildGerritGitilesArchiveUrl(config, project, branch, filePath) {\n  const archiveName = filePath === \"/\" || filePath === \"\" ? \".tar.gz\" : `/${filePath}.tar.gz`;\n  return `${getGitilesAuthenticationUrl(\n    config\n  )}/${project}/+archive/refs/heads/${branch}${archiveName}`;\n}\nfunction getAuthenticationPrefix(config) {\n  return config.password ? \"/a/\" : \"/\";\n}\nfunction getGitilesAuthenticationUrl(config) {\n  if (!config.baseUrl || !config.gitilesBaseUrl) {\n    throw new Error(\n      \"Unexpected Gerrit config values. baseUrl or gitilesBaseUrl not set.\"\n    );\n  }\n  if (config.gitilesBaseUrl.startsWith(config.baseUrl)) {\n    return config.gitilesBaseUrl.replace(\n      config.baseUrl.concat(\"/\"),\n      config.baseUrl.concat(getAuthenticationPrefix(config))\n    );\n  }\n  if (config.password) {\n    throw new Error(\n      \"Since the baseUrl (Gerrit) is not part of the gitilesBaseUrl, an authentication URL could not be constructed.\"\n    );\n  }\n  return config.gitilesBaseUrl;\n}\nfunction getGerritBranchApiUrl(config, url) {\n  const { branch, project } = parseGerritGitilesUrl(config, url);\n  return `${config.baseUrl}${getAuthenticationPrefix(\n    config\n  )}projects/${encodeURIComponent(project)}/branches/${branch}`;\n}\nfunction getGerritCloneRepoUrl(config, url) {\n  const { project } = parseGerritGitilesUrl(config, url);\n  return `${config.cloneUrl}${getAuthenticationPrefix(config)}${project}`;\n}\nfunction getGerritFileContentsApiUrl(config, url) {\n  const { branch, filePath, project } = parseGerritGitilesUrl(config, url);\n  return `${config.baseUrl}${getAuthenticationPrefix(\n    config\n  )}projects/${encodeURIComponent(\n    project\n  )}/branches/${branch}/files/${encodeURIComponent(filePath)}/content`;\n}\nfunction getGerritProjectsApiUrl(config) {\n  return `${config.baseUrl}${getAuthenticationPrefix(config)}projects/`;\n}\nfunction getGerritRequestOptions(config) {\n  const headers = {};\n  if (!config.password) {\n    return headers;\n  }\n  const buffer = Buffer.from(`${config.username}:${config.password}`, \"utf8\");\n  headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  return {\n    headers\n  };\n}\nasync function parseGerritJsonResponse(response) {\n  const responseBody = await response.text();\n  if (responseBody.startsWith(GERRIT_BODY_PREFIX)) {\n    try {\n      return JSON.parse(responseBody.slice(GERRIT_BODY_PREFIX.length));\n    } catch (ex) {\n      throw new Error(\n        `Invalid response from Gerrit: ${responseBody.slice(0, 10)} - ${ex}`\n      );\n    }\n  }\n  throw new Error(\n    `Gerrit JSON body prefix missing. Found: ${responseBody.slice(0, 10)}`\n  );\n}\n\nexport { buildGerritGitilesArchiveUrl, getAuthenticationPrefix, getGerritBranchApiUrl, getGerritCloneRepoUrl, getGerritFileContentsApiUrl, getGerritProjectsApiUrl, getGerritRequestOptions, getGitilesAuthenticationUrl, parseGerritGitilesUrl, parseGerritJsonResponse, parseGitilesUrlRef };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations } from '../helpers.esm.js';\nimport { readGerritIntegrationConfigs } from './config.esm.js';\nimport { parseGitilesUrlRef } from './core.esm.js';\n\nclass GerritIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGerritIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gerrit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GerritIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gerrit\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const { url, base, lineNumber } = options;\n    let updated;\n    if (url.startsWith(\"/\")) {\n      const { basePath } = parseGitilesUrlRef(this.config, base);\n      return basePath + url;\n    }\n    if (url) {\n      updated = new URL(url, base);\n    } else {\n      updated = new URL(base);\n    }\n    if (lineNumber) {\n      updated.hash = lineNumber.toString();\n    }\n    return updated.toString();\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { GerritIntegration };\n//# sourceMappingURL=GerritIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nconst GITLAB_HOST = \"gitlab.com\";\nconst GITLAB_API_BASE_URL = \"https://gitlab.com/api/v4\";\nfunction readGitLabIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITLAB_HOST) {\n    apiBaseUrl = GITLAB_API_BASE_URL;\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${host}' is not a valid host`\n    );\n  } else if (!apiBaseUrl || !isValidUrl(apiBaseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${apiBaseUrl}' is not a valid apiBaseUrl`\n    );\n  } else if (!isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  return { host, token, apiBaseUrl, baseUrl };\n}\nfunction readGitLabIntegrationConfigs(configs) {\n  const result = configs.map(readGitLabIntegrationConfig);\n  if (!result.some((c) => c.host === GITLAB_HOST)) {\n    result.push({\n      host: GITLAB_HOST,\n      apiBaseUrl: GITLAB_API_BASE_URL,\n      baseUrl: `https://${GITLAB_HOST}`\n    });\n  }\n  return result;\n}\nfunction getGitLabIntegrationRelativePath(config) {\n  let relativePath = \"\";\n  if (config.host !== GITLAB_HOST) {\n    relativePath = new URL(config.baseUrl).pathname;\n  }\n  return trimEnd(relativePath, \"/\");\n}\n\nexport { getGitLabIntegrationRelativePath, readGitLabIntegrationConfig, readGitLabIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGitLabIntegrationConfigs } from './config.esm.js';\n\nclass GitLabIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGitLabIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gitlab\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GitLabIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceGitLabUrlType(url, \"edit\");\n  }\n}\nfunction replaceGitLabUrlType(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nexport { GitLabIntegration, replaceGitLabUrlType };\n//# sourceMappingURL=GitLabIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGiteaConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  return {\n    host,\n    baseUrl,\n    username,\n    password\n  };\n}\n\nexport { readGiteaConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getGiteaEditContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/${giteaUrl.owner}/${giteaUrl.name}/_edit/${giteaUrl.ref}/${giteaUrl.path}`;\n}\nfunction getGiteaFileContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/contents/${giteaUrl.path}?ref=${giteaUrl.ref}`;\n}\nfunction getGiteaArchiveUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/archive/${giteaUrl.ref}.tar.gz`;\n}\nfunction getGiteaLatestCommitUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/git/commits/${giteaUrl.ref}`;\n}\nfunction getGiteaRequestOptions(config) {\n  const headers = {};\n  const { username, password } = config;\n  if (!password) {\n    return headers;\n  }\n  if (username) {\n    headers.Authorization = `basic ${Buffer.from(\n      `${username}:${password}`\n    ).toString(\"base64\")}`;\n  } else {\n    headers.Authorization = `token ${password}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseGiteaUrl(config, url) {\n  const baseUrl = config.baseUrl ?? `https://${config.host}`;\n  try {\n    const [_blank, owner, name, _src, _branch, ref, ...path] = url.replace(baseUrl, \"\").split(\"/\");\n    const pathWithoutSlash = path.join(\"/\").replace(/^\\//, \"\");\n    return {\n      url: baseUrl,\n      owner,\n      name,\n      ref,\n      path: pathWithoutSlash\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getGiteaArchiveUrl, getGiteaEditContentsUrl, getGiteaFileContentsUrl, getGiteaLatestCommitUrl, getGiteaRequestOptions, parseGiteaUrl };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGiteaConfig } from './config.esm.js';\nimport { getGiteaEditContentsUrl } from './core.esm.js';\n\nclass GiteaIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.gitea\") ?? [];\n    const giteaConfigs = configs.map((c) => readGiteaConfig(c));\n    return basicIntegrations(\n      giteaConfigs.map((c) => new GiteaIntegration(c)),\n      (gitea) => gitea.config.host\n    );\n  };\n  get type() {\n    return \"gitea\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getGiteaEditContentsUrl(this.config, url);\n  }\n}\n\nexport { GiteaIntegration };\n//# sourceMappingURL=GiteaIntegration.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nfunction readHarnessConfig(config) {\n  const host = config.getString(\"host\");\n  const token = config.getOptionalString(\"token\");\n  const apiKey = config.getOptionalString(\"apiKey\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Harness Code integration config, '${host}' is not a valid host`\n    );\n  }\n  return {\n    host,\n    apiKey,\n    token\n  };\n}\n\nexport { readHarnessConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getHarnessEditContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  return `${parsedUrl.baseUrl}/ng/account/${parsedUrl.accountId}/module/code${parsedUrl.orgName !== \"\" ? `/orgs/${parsedUrl.orgName}` : \"\"}${parsedUrl.projectName !== \"\" ? `/projects/${parsedUrl.projectName}` : \"\"}/repos/${parsedUrl.repoName}/files/${parsedUrl.branch}/~/${parsedUrl.path}`;\n}\nfunction getHarnessFileContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/raw/${parsedUrl.path}?routingId=${parsedUrl.accountId}&git_ref=refs/heads/${parsedUrl.refString}`;\n  return constructedUrl;\n}\nfunction getHarnessArchiveUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/archive/${parsedUrl.branch}.zip?routingId=${parsedUrl.accountId}`;\n  return constructedUrl;\n}\nfunction getHarnessLatestCommitUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/content?routingId=${parsedUrl.accountId}&include_commit=true&git_ref=refs/heads/${parsedUrl.branch}`;\n  return constructedUrl;\n}\nfunction getHarnessRequestOptions(config) {\n  const headers = {};\n  const { token, apiKey } = config;\n  if (apiKey) {\n    headers[\"x-api-key\"] = apiKey;\n  } else if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseHarnessUrl(config, url) {\n  const baseUrl = `https://${config.host}`;\n  try {\n    const pathUrl = new URL(url);\n    const pathSegments = pathUrl.pathname.split(\"/\").filter((segment) => segment !== \"\");\n    const urlParts = pathUrl.pathname.split(\"/\");\n    const accountIdIndex = pathSegments.findIndex((segment) => segment === \"account\") + 1;\n    const accountId = pathSegments[accountIdIndex];\n    const orgNameIndex = pathSegments.findIndex((segment) => segment === \"orgs\");\n    const orgName = orgNameIndex !== -1 ? pathSegments[orgNameIndex + 1] : \"\";\n    const projectNameIndex = pathSegments.findIndex(\n      (segment) => segment === \"projects\"\n    );\n    const projectName = projectNameIndex !== -1 ? pathSegments[projectNameIndex + 1] : \"\";\n    const repoNameIndex = pathSegments.findIndex(\n      (segment, index) => segment === \"repos\" && index > Math.max(accountIdIndex, orgNameIndex, projectNameIndex)\n    ) + 1;\n    const repoName = pathSegments[repoNameIndex];\n    const refAndPath = urlParts.slice(\n      urlParts.findIndex((i) => i === \"files\" || i === \"edit\") + 1\n    );\n    const refIndex = refAndPath.findIndex((item) => item === \"~\");\n    const refString = refAndPath.slice(0, refIndex).join(\"/\");\n    const pathWithoutSlash = refIndex !== -1 ? refAndPath.slice(refIndex + 1).join(\"/\").replace(/^\\//, \"\") : \"\";\n    return {\n      baseUrl,\n      accountId,\n      orgName,\n      projectName,\n      refString,\n      path: pathWithoutSlash,\n      repoName,\n      refDashStr: refAndPath.slice(0, refIndex).join(\"-\"),\n      branch: refIndex !== -1 ? refAndPath.slice(0, refIndex).join(\"/\") : refAndPath.join(\"/\")\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getHarnessArchiveUrl, getHarnessEditContentsUrl, getHarnessFileContentsUrl, getHarnessLatestCommitUrl, getHarnessRequestOptions, parseHarnessUrl };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readHarnessConfig } from './config.esm.js';\nimport { getHarnessEditContentsUrl } from './core.esm.js';\n\nclass HarnessIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.harness\") ?? [];\n    const harnessConfigs = configs.map((c) => readHarnessConfig(c));\n    return basicIntegrations(\n      harnessConfigs.map((c) => new HarnessIntegration(c)),\n      (harness) => harness.config.host\n    );\n  };\n  get type() {\n    return \"harness\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getHarnessEditContentsUrl(this.config, url);\n  }\n}\n\nexport { HarnessIntegration };\n//# sourceMappingURL=HarnessIntegration.esm.js.map\n","import { AwsS3Integration } from './awsS3/AwsS3Integration.esm.js';\nimport { AwsCodeCommitIntegration } from './awsCodeCommit/AwsCodeCommitIntegration.esm.js';\nimport { AzureIntegration } from './azure/AzureIntegration.esm.js';\nimport { BitbucketCloudIntegration } from './bitbucketCloud/BitbucketCloudIntegration.esm.js';\nimport { BitbucketIntegration } from './bitbucket/BitbucketIntegration.esm.js';\nimport { BitbucketServerIntegration } from './bitbucketServer/BitbucketServerIntegration.esm.js';\nimport { GerritIntegration } from './gerrit/GerritIntegration.esm.js';\nimport { GithubIntegration } from './github/GithubIntegration.esm.js';\nimport { GitLabIntegration } from './gitlab/GitLabIntegration.esm.js';\nimport { defaultScmResolveUrl } from './helpers.esm.js';\nimport { GiteaIntegration } from './gitea/GiteaIntegration.esm.js';\nimport 'lodash';\nimport { HarnessIntegration } from './harness/HarnessIntegration.esm.js';\n\nclass ScmIntegrations {\n  byType;\n  static fromConfig(config) {\n    return new ScmIntegrations({\n      awsS3: AwsS3Integration.factory({ config }),\n      awsCodeCommit: AwsCodeCommitIntegration.factory({ config }),\n      azure: AzureIntegration.factory({ config }),\n      bitbucket: BitbucketIntegration.factory({ config }),\n      bitbucketCloud: BitbucketCloudIntegration.factory({ config }),\n      bitbucketServer: BitbucketServerIntegration.factory({ config }),\n      gerrit: GerritIntegration.factory({ config }),\n      github: GithubIntegration.factory({ config }),\n      gitlab: GitLabIntegration.factory({ config }),\n      gitea: GiteaIntegration.factory({ config }),\n      harness: HarnessIntegration.factory({ config })\n    });\n  }\n  constructor(integrationsByType) {\n    this.byType = integrationsByType;\n  }\n  get awsS3() {\n    return this.byType.awsS3;\n  }\n  get awsCodeCommit() {\n    return this.byType.awsCodeCommit;\n  }\n  get azure() {\n    return this.byType.azure;\n  }\n  /**\n   * @deprecated in favor of `bitbucketCloud()` and `bitbucketServer()`\n   */\n  get bitbucket() {\n    return this.byType.bitbucket;\n  }\n  get bitbucketCloud() {\n    return this.byType.bitbucketCloud;\n  }\n  get bitbucketServer() {\n    return this.byType.bitbucketServer;\n  }\n  get gerrit() {\n    return this.byType.gerrit;\n  }\n  get github() {\n    return this.byType.github;\n  }\n  get gitlab() {\n    return this.byType.gitlab;\n  }\n  get gitea() {\n    return this.byType.gitea;\n  }\n  get harness() {\n    return this.byType.harness;\n  }\n  list() {\n    return Object.values(this.byType).flatMap(\n      (i) => i.list()\n    );\n  }\n  byUrl(url) {\n    let candidates = Object.values(this.byType).map((i) => i.byUrl(url)).filter(Boolean);\n    if (candidates.length > 1) {\n      const filteredCandidates = candidates.filter(\n        (x) => !(x instanceof BitbucketIntegration)\n      );\n      if (filteredCandidates.length !== 0) {\n        candidates = filteredCandidates;\n      }\n    }\n    return candidates[0];\n  }\n  byHost(host) {\n    return Object.values(this.byType).map((i) => i.byHost(host)).find(Boolean);\n  }\n  resolveUrl(options) {\n    const integration = this.byUrl(options.base);\n    if (!integration) {\n      return defaultScmResolveUrl(options);\n    }\n    return integration.resolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    const integration = this.byUrl(url);\n    if (!integration) {\n      return url;\n    }\n    return integration.resolveEditUrl(url);\n  }\n}\n\nexport { ScmIntegrations };\n//# sourceMappingURL=ScmIntegrations.esm.js.map\n","import { ScmIntegrations } from '@backstage/integration';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nclass ScmIntegrationsApi {\n  /**\n   * Instantiates an {@link @backstage/integration#ScmIntegrationRegistry}.\n   *\n   * @param config - The root of the config hierarchy.\n   */\n  static fromConfig(config) {\n    return ScmIntegrations.fromConfig(config);\n  }\n}\nconst scmIntegrationsApiRef = createApiRef({\n  id: \"integration.scmintegrations\"\n});\n\nexport { ScmIntegrationsApi, scmIntegrationsApiRef };\n//# sourceMappingURL=ScmIntegrationsApi.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst GITHUB_HOST = \"github.com\";\nconst GITHUB_API_BASE_URL = \"https://api.github.com\";\nconst GITHUB_RAW_BASE_URL = \"https://raw.githubusercontent.com\";\nfunction readGithubIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? GITHUB_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  let rawBaseUrl = config.getOptionalString(\"rawBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const apps = config.getOptionalConfigArray(\"apps\")?.map((c) => ({\n    appId: c.getNumber(\"appId\"),\n    clientId: c.getString(\"clientId\"),\n    clientSecret: c.getString(\"clientSecret\"),\n    webhookSecret: c.getString(\"webhookSecret\"),\n    privateKey: c.getString(\"privateKey\"),\n    allowedInstallationOwners: c.getOptionalStringArray(\n      \"allowedInstallationOwners\"\n    )\n  }));\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitHub integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    apiBaseUrl = GITHUB_API_BASE_URL;\n  }\n  if (rawBaseUrl) {\n    rawBaseUrl = trimEnd(rawBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    rawBaseUrl = GITHUB_RAW_BASE_URL;\n  }\n  return { host, apiBaseUrl, rawBaseUrl, token, apps };\n}\nfunction readGithubIntegrationConfigs(configs) {\n  const result = configs.map(readGithubIntegrationConfig);\n  if (!result.some((c) => c.host === GITHUB_HOST)) {\n    result.push({\n      host: GITHUB_HOST,\n      apiBaseUrl: GITHUB_API_BASE_URL,\n      rawBaseUrl: GITHUB_RAW_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readGithubIntegrationConfig, readGithubIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGithubIntegrationConfigs } from './config.esm.js';\n\nclass GithubIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGithubIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.github\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GithubIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceGithubUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceGithubUrlType(url, \"edit\");\n  }\n  parseRateLimitInfo(response) {\n    return {\n      isRateLimited: response.status === 429 || response.status === 403 && response.headers.get(\"x-ratelimit-remaining\") === \"0\"\n    };\n  }\n}\nfunction replaceGithubUrlType(url, type) {\n  return url.replace(\n    /\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//,\n    (_, host, owner, repo) => {\n      return `//${host}/${owner}/${repo}/${type}/`;\n    }\n  );\n}\n\nexport { GithubIntegration, replaceGithubUrlType };\n//# sourceMappingURL=GithubIntegration.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { trimEnd } from 'lodash';\n\nfunction isValidHost(host) {\n  const check = new URL(\"http://example.com\");\n  check.host = host;\n  return check.host === host;\n}\nfunction isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction basicIntegrations(integrations, getHost) {\n  return {\n    list() {\n      return integrations;\n    },\n    byUrl(url) {\n      try {\n        const parsed = typeof url === \"string\" ? new URL(url) : url;\n        return integrations.find((i) => getHost(i) === parsed.host);\n      } catch {\n        return void 0;\n      }\n    },\n    byHost(host) {\n      return integrations.find((i) => getHost(i) === host);\n    }\n  };\n}\nfunction defaultScmResolveUrl(options) {\n  const { url, base, lineNumber } = options;\n  try {\n    new URL(url);\n    return url;\n  } catch {\n  }\n  let updated;\n  if (url.startsWith(\"/\")) {\n    const { href, filepath } = parseGitUrl(base);\n    updated = new URL(href);\n    const repoRootPath = trimEnd(\n      updated.pathname.substring(0, updated.pathname.length - filepath.length),\n      \"/\"\n    );\n    updated.pathname = `${repoRootPath}${url}`;\n  } else {\n    updated = new URL(url, base);\n  }\n  updated.search = new URL(base).search;\n  if (lineNumber) {\n    updated.hash = `L${lineNumber}`;\n  }\n  return updated.toString();\n}\n\nexport { basicIntegrations, defaultScmResolveUrl, isValidHost, isValidUrl };\n//# sourceMappingURL=helpers.esm.js.map\n","\"use strict\";\n\nvar gitUp = require(\"git-up\");\n\n/**\n * gitUrlParse\n * Parses a Git url.\n *\n * @name gitUrlParse\n * @function\n * @param {String} url The Git url to parse.\n * @param {Array} refs An array of strings representing the refs. This is\n *  helpful in the context of the URLs that contain branches with slashes.\n *  If user wants to identify the branch, he should pass all branch names\n *  of the project as part of refs parameter\n * @return {GitUrl} The `GitUrl` object containing:\n *\n *  - `protocols` (Array): An array with the url protocols (usually it has one element).\n *  - `port` (null|Number): The domain port.\n *  - `resource` (String): The url domain (including subdomains).\n *  - `user` (String): The authentication user (usually for ssh urls).\n *  - `pathname` (String): The url pathname.\n *  - `hash` (String): The url hash.\n *  - `search` (String): The url querystring value.\n *  - `href` (String): The input url.\n *  - `protocol` (String): The git url protocol.\n *  - `token` (String): The oauth token (could appear in the https urls).\n *  - `source` (String): The Git provider (e.g. `\"github.com\"`).\n *  - `owner` (String): The repository owner.\n *  - `name` (String): The repository name.\n *  - `ref` (String): The repository ref (e.g., \"master\" or \"dev\").\n *  - `filepath` (String): A filepath relative to the repository root.\n *  - `filepathtype` (String): The type of filepath in the url (\"blob\" or \"tree\").\n *  - `full_name` (String): The owner and name values in the `owner/name` format.\n *  - `toString` (Function): A function to stringify the parsed url into another url type.\n *  - `organization` (String): The organization the owner belongs to. This is CloudForge specific.\n *  - `git_suffix` (Boolean): Whether to add the `.git` suffix or not.\n *\n */\nfunction gitUrlParse(url, refs) {\n    refs = refs || [];\n\n    if (typeof url !== \"string\") {\n        throw new Error(\"The url must be a string.\");\n    }\n\n    if (!refs.every(function (item) {\n        return typeof item === \"string\";\n    })) {\n        throw new Error(\"The refs should contain only strings\");\n    }\n\n    var shorthandRe = /^([a-z\\d-]{1,39})\\/([-\\.\\w]{1,100})$/i;\n\n    if (shorthandRe.test(url)) {\n        url = \"https://github.com/\" + url;\n    }\n\n    var urlInfo = gitUp(url),\n        sourceParts = urlInfo.resource.split(\".\"),\n        splits = null;\n\n    urlInfo.toString = function (type) {\n        return gitUrlParse.stringify(this, type);\n    };\n\n    urlInfo.source = sourceParts.length > 2 ? sourceParts.slice(1 - sourceParts.length).join(\".\") : urlInfo.source = urlInfo.resource;\n\n    // Note: Some hosting services (e.g. Visual Studio Team Services) allow whitespace characters\n    // in the repository and owner names so we decode the URL pieces to get the correct result\n    urlInfo.git_suffix = /\\.git$/.test(urlInfo.pathname);\n    urlInfo.name = decodeURIComponent((urlInfo.pathname || urlInfo.href).replace(/(^\\/)|(\\/$)/g, \"\").replace(/\\.git$/, \"\"));\n    urlInfo.owner = decodeURIComponent(urlInfo.user);\n\n    switch (urlInfo.source) {\n        case \"git.cloudforge.com\":\n            urlInfo.owner = urlInfo.user;\n            urlInfo.organization = sourceParts[0];\n            urlInfo.source = \"cloudforge.com\";\n            break;\n        case \"visualstudio.com\":\n            // Handle VSTS SSH URLs\n            if (urlInfo.resource === \"vs-ssh.visualstudio.com\") {\n                splits = urlInfo.name.split(\"/\");\n                if (splits.length === 4) {\n                    urlInfo.organization = splits[1];\n                    urlInfo.owner = splits[2];\n                    urlInfo.name = splits[3];\n                    urlInfo.full_name = splits[2] + \"/\" + splits[3];\n                }\n                break;\n            } else {\n                splits = urlInfo.name.split(\"/\");\n                if (splits.length === 2) {\n                    urlInfo.owner = splits[1];\n                    urlInfo.name = splits[1];\n                    urlInfo.full_name = \"_git/\" + urlInfo.name;\n                } else if (splits.length === 3) {\n                    urlInfo.name = splits[2];\n                    if (splits[0] === \"DefaultCollection\") {\n                        urlInfo.owner = splits[2];\n                        urlInfo.organization = splits[0];\n                        urlInfo.full_name = urlInfo.organization + \"/_git/\" + urlInfo.name;\n                    } else {\n                        urlInfo.owner = splits[0];\n                        urlInfo.full_name = urlInfo.owner + \"/_git/\" + urlInfo.name;\n                    }\n                } else if (splits.length === 4) {\n                    urlInfo.organization = splits[0];\n                    urlInfo.owner = splits[1];\n                    urlInfo.name = splits[3];\n                    urlInfo.full_name = urlInfo.organization + \"/\" + urlInfo.owner + \"/_git/\" + urlInfo.name;\n                }\n                break;\n            }\n\n        // Azure DevOps (formerly Visual Studio Team Services)\n        case \"dev.azure.com\":\n        case \"azure.com\":\n            if (urlInfo.resource === \"ssh.dev.azure.com\") {\n                splits = urlInfo.name.split(\"/\");\n                if (splits.length === 4) {\n                    urlInfo.organization = splits[1];\n                    urlInfo.owner = splits[2];\n                    urlInfo.name = splits[3];\n                }\n                break;\n            } else {\n                splits = urlInfo.name.split(\"/\");\n                if (splits.length === 5) {\n                    urlInfo.organization = splits[0];\n                    urlInfo.owner = splits[1];\n                    urlInfo.name = splits[4];\n                    urlInfo.full_name = \"_git/\" + urlInfo.name;\n                } else if (splits.length === 3) {\n                    urlInfo.name = splits[2];\n                    if (splits[0] === \"DefaultCollection\") {\n                        urlInfo.owner = splits[2];\n                        urlInfo.organization = splits[0];\n                        urlInfo.full_name = urlInfo.organization + \"/_git/\" + urlInfo.name;\n                    } else {\n                        urlInfo.owner = splits[0];\n                        urlInfo.full_name = urlInfo.owner + \"/_git/\" + urlInfo.name;\n                    }\n                } else if (splits.length === 4) {\n                    urlInfo.organization = splits[0];\n                    urlInfo.owner = splits[1];\n                    urlInfo.name = splits[3];\n                    urlInfo.full_name = urlInfo.organization + \"/\" + urlInfo.owner + \"/_git/\" + urlInfo.name;\n                }\n                if (urlInfo.query && urlInfo.query[\"path\"]) {\n                    urlInfo.filepath = urlInfo.query[\"path\"].replace(/^\\/+/g, \"\"); // Strip leading slash (/)\n                }\n                if (urlInfo.query && urlInfo.query[\"version\"]) {\n                    // version=GB<branch>\n                    urlInfo.ref = urlInfo.query[\"version\"].replace(/^GB/, \"\"); // remove GB\n                }\n                break;\n            }\n        default:\n            splits = urlInfo.name.split(\"/\");\n            var nameIndex = splits.length - 1;\n            if (splits.length >= 2) {\n                var dashIndex = splits.indexOf(\"-\", 2);\n                var blobIndex = splits.indexOf(\"blob\", 2);\n                var treeIndex = splits.indexOf(\"tree\", 2);\n                var commitIndex = splits.indexOf(\"commit\", 2);\n                var issuesIndex = splits.indexOf(\"issues\", 2);\n                var srcIndex = splits.indexOf(\"src\", 2);\n                var rawIndex = splits.indexOf(\"raw\", 2);\n                var editIndex = splits.indexOf(\"edit\", 2);\n                nameIndex = dashIndex > 0 ? dashIndex - 1 : blobIndex > 0 && treeIndex > 0 ? Math.min(blobIndex - 1, treeIndex - 1) : blobIndex > 0 ? blobIndex - 1 : issuesIndex > 0 ? issuesIndex - 1 : treeIndex > 0 ? treeIndex - 1 : commitIndex > 0 ? commitIndex - 1 : srcIndex > 0 ? srcIndex - 1 : rawIndex > 0 ? rawIndex - 1 : editIndex > 0 ? editIndex - 1 : nameIndex;\n\n                urlInfo.owner = splits.slice(0, nameIndex).join(\"/\");\n                urlInfo.name = splits[nameIndex];\n                if (commitIndex && issuesIndex < 0) {\n                    urlInfo.commit = splits[nameIndex + 2];\n                }\n            }\n\n            urlInfo.ref = \"\";\n            urlInfo.filepathtype = \"\";\n            urlInfo.filepath = \"\";\n            var offsetNameIndex = splits.length > nameIndex && splits[nameIndex + 1] === \"-\" ? nameIndex + 1 : nameIndex;\n\n            if (splits.length > offsetNameIndex + 2 && [\"raw\", \"src\", \"blob\", \"tree\", \"edit\"].indexOf(splits[offsetNameIndex + 1]) >= 0) {\n                urlInfo.filepathtype = splits[offsetNameIndex + 1];\n                urlInfo.ref = splits[offsetNameIndex + 2];\n                if (splits.length > offsetNameIndex + 3) {\n                    urlInfo.filepath = splits.slice(offsetNameIndex + 3).join(\"/\");\n                }\n            }\n            urlInfo.organization = urlInfo.owner;\n            break;\n    }\n\n    if (!urlInfo.full_name) {\n        urlInfo.full_name = urlInfo.owner;\n        if (urlInfo.name) {\n            urlInfo.full_name && (urlInfo.full_name += \"/\");\n            urlInfo.full_name += urlInfo.name;\n        }\n    }\n    // Bitbucket Server\n    if (urlInfo.owner.startsWith(\"scm/\")) {\n        urlInfo.source = \"bitbucket-server\";\n        urlInfo.owner = urlInfo.owner.replace(\"scm/\", \"\");\n        urlInfo.organization = urlInfo.owner;\n        urlInfo.full_name = urlInfo.owner + \"/\" + urlInfo.name;\n    }\n\n    var bitbucket = /(projects|users)\\/(.*?)\\/repos\\/(.*?)((\\/.*$)|$)/;\n    var matches = bitbucket.exec(urlInfo.pathname);\n    if (matches != null) {\n        urlInfo.source = \"bitbucket-server\";\n        if (matches[1] === \"users\") {\n            urlInfo.owner = \"~\" + matches[2];\n        } else {\n            urlInfo.owner = matches[2];\n        }\n\n        urlInfo.organization = urlInfo.owner;\n        urlInfo.name = matches[3];\n\n        splits = matches[4].split(\"/\");\n        if (splits.length > 1) {\n            if ([\"raw\", \"browse\"].indexOf(splits[1]) >= 0) {\n                urlInfo.filepathtype = splits[1];\n                if (splits.length > 2) {\n                    urlInfo.filepath = splits.slice(2).join(\"/\");\n                }\n            } else if (splits[1] === \"commits\" && splits.length > 2) {\n                urlInfo.commit = splits[2];\n            }\n        }\n        urlInfo.full_name = urlInfo.owner + \"/\" + urlInfo.name;\n\n        if (urlInfo.query.at) {\n            urlInfo.ref = urlInfo.query.at;\n        } else {\n            urlInfo.ref = \"\";\n        }\n    }\n\n    if (refs.length !== 0 && urlInfo.ref) {\n        urlInfo.ref = findLongestMatchingSubstring(urlInfo.href, refs) || urlInfo.ref;\n        urlInfo.filepath = urlInfo.href.split(urlInfo.ref + \"/\")[1];\n    }\n\n    return urlInfo;\n}\n\n/**\n * stringify\n * Stringifies a `GitUrl` object.\n *\n * @name stringify\n * @function\n * @param {GitUrl} obj The parsed Git url object.\n * @param {String} type The type of the stringified url (default `obj.protocol`).\n * @return {String} The stringified url.\n */\ngitUrlParse.stringify = function (obj, type) {\n    type = type || (obj.protocols && obj.protocols.length ? obj.protocols.join(\"+\") : obj.protocol);\n    var port = obj.port ? \":\" + obj.port : \"\";\n    var user = obj.user || \"git\";\n    var maybeGitSuffix = obj.git_suffix ? \".git\" : \"\";\n    switch (type) {\n        case \"ssh\":\n            if (port) return \"ssh://\" + user + \"@\" + obj.resource + port + \"/\" + obj.full_name + maybeGitSuffix;else return user + \"@\" + obj.resource + \":\" + obj.full_name + maybeGitSuffix;\n        case \"git+ssh\":\n        case \"ssh+git\":\n        case \"ftp\":\n        case \"ftps\":\n            return type + \"://\" + user + \"@\" + obj.resource + port + \"/\" + obj.full_name + maybeGitSuffix;\n        case \"http\":\n        case \"https\":\n            var auth = obj.token ? buildToken(obj) : obj.user && (obj.protocols.includes(\"http\") || obj.protocols.includes(\"https\")) ? obj.user + \"@\" : \"\";\n            return type + \"://\" + auth + obj.resource + port + \"/\" + buildPath(obj) + maybeGitSuffix;\n        default:\n            return obj.href;\n    }\n};\n\n/*!\n * buildToken\n * Builds OAuth token prefix (helper function)\n *\n * @name buildToken\n * @function\n * @param {GitUrl} obj The parsed Git url object.\n * @return {String} token prefix\n */\nfunction buildToken(obj) {\n    switch (obj.source) {\n        case \"bitbucket.org\":\n            return \"x-token-auth:\" + obj.token + \"@\";\n        default:\n            return obj.token + \"@\";\n    }\n}\n\nfunction buildPath(obj) {\n    switch (obj.source) {\n        case \"bitbucket-server\":\n            return \"scm/\" + obj.full_name;\n        default:\n            // Note: Re-encode the repository and owner names for hosting services that allow whitespace characters\n            var encoded_full_name = obj.full_name.split(\"/\").map(function (x) {\n                return encodeURIComponent(x);\n            }).join(\"/\");\n\n            return encoded_full_name;\n    }\n}\n\nfunction findLongestMatchingSubstring(string, array) {\n    var longestMatch = \"\";\n\n    array.forEach(function (item) {\n        if (string.includes(item) && item.length > longestMatch.length) {\n            longestMatch = item;\n        }\n    });\n\n    return longestMatch;\n}\n\nmodule.exports = gitUrlParse;","import { Progress } from '@backstage/core-components';\nimport React, { Suspense } from 'react';\n\nconst LazyAsyncApiDefinition = React.lazy(\n  () => import('./AsyncApiDefinition.esm.js').then((m) => ({\n    default: m.AsyncApiDefinition\n  }))\n);\nconst AsyncApiDefinitionWidget = (props) => {\n  return /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, /* @__PURE__ */ React.createElement(LazyAsyncApiDefinition, { ...props }));\n};\n\nexport { AsyncApiDefinitionWidget };\n//# sourceMappingURL=AsyncApiDefinitionWidget.esm.js.map\n","import { Progress } from '@backstage/core-components';\nimport React, { Suspense } from 'react';\n\nconst LazyGraphQlDefinition = React.lazy(\n  () => import('./GraphQlDefinition.esm.js').then((m) => ({\n    default: m.GraphQlDefinition\n  }))\n);\nconst GraphQlDefinitionWidget = (props) => {\n  return /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, /* @__PURE__ */ React.createElement(LazyGraphQlDefinition, { ...props }));\n};\n\nexport { GraphQlDefinitionWidget };\n//# sourceMappingURL=GraphQlDefinitionWidget.esm.js.map\n","import { Progress } from '@backstage/core-components';\nimport React, { Suspense } from 'react';\n\nconst LazyOpenApiDefinition = React.lazy(\n  () => import('./OpenApiDefinition.esm.js').then((m) => ({\n    default: m.OpenApiDefinition\n  }))\n);\nconst OpenApiDefinitionWidget = (props) => {\n  const validSubmitMethods = props.supportedSubmitMethods?.map(\n    (method) => method.toLocaleLowerCase()\n  );\n  return /* @__PURE__ */ React.createElement(Suspense, { fallback: /* @__PURE__ */ React.createElement(Progress, null) }, /* @__PURE__ */ React.createElement(\n    LazyOpenApiDefinition,\n    {\n      ...props,\n      supportedSubmitMethods: validSubmitMethods\n    }\n  ));\n};\n\nexport { OpenApiDefinitionWidget };\n//# sourceMappingURL=OpenApiDefinitionWidget.esm.js.map\n","import React from 'react';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst GrpcApiDefinitionWidget = (props) => {\n  const theme = useTheme();\n  return /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: props.definition,\n      language: \"protobuf\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { GrpcApiDefinitionWidget };\n//# sourceMappingURL=GrpcApiDefinitionWidget.esm.js.map\n","import React from 'react';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst TrpcApiDefinitionWidget = (props) => {\n  const { definition } = props;\n  const theme = useTheme();\n  return /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: definition,\n      language: \"typescript\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { TrpcApiDefinitionWidget };\n//# sourceMappingURL=TrpcApiDefinitionWidget.esm.js.map\n","import React from 'react';\nimport { AsyncApiDefinitionWidget } from '../AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js';\nimport { GraphQlDefinitionWidget } from '../GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js';\nimport { OpenApiDefinitionWidget } from '../OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js';\nimport { GrpcApiDefinitionWidget } from '../GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js';\nimport { TrpcApiDefinitionWidget } from '../TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js';\n\nfunction defaultDefinitionWidgets() {\n  return [\n    {\n      type: \"openapi\",\n      title: \"OpenAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(OpenApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"asyncapi\",\n      title: \"AsyncAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ React.createElement(AsyncApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"graphql\",\n      title: \"GraphQL\",\n      rawLanguage: \"graphql\",\n      component: (definition) => /* @__PURE__ */ React.createElement(GraphQlDefinitionWidget, { definition })\n    },\n    {\n      type: \"grpc\",\n      title: \"gRPC\",\n      component: (definition) => /* @__PURE__ */ React.createElement(GrpcApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"trpc\",\n      title: \"tRPC\",\n      component: (definition) => /* @__PURE__ */ React.createElement(TrpcApiDefinitionWidget, { definition })\n    }\n  ];\n}\n\nexport { defaultDefinitionWidgets };\n//# sourceMappingURL=ApiDefinitionWidget.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst apiDocsConfigRef = createApiRef({\n  id: \"plugin.api-docs.config\"\n});\n\nexport { apiDocsConfigRef };\n//# sourceMappingURL=config.esm.js.map\n","import '@backstage/plugin-catalog-react';\nimport '@material-ui/lab/Alert';\nimport 'react';\nimport { apiDocsConfigRef } from './config.esm.js';\nimport '@backstage/core-components';\nimport { createPlugin, createApiFactory, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport { defaultDefinitionWidgets } from './components/ApiDefinitionCard/ApiDefinitionWidget.esm.js';\nimport '@material-ui/core/Typography';\nimport { rootRoute, registerComponentRouteRef } from './routes.esm.js';\n\nconst apiDocsPlugin = createPlugin({\n  id: \"api-docs\",\n  routes: {\n    root: rootRoute\n  },\n  apis: [\n    createApiFactory({\n      api: apiDocsConfigRef,\n      deps: {},\n      factory: () => {\n        const definitionWidgets = defaultDefinitionWidgets();\n        return {\n          getApiDefinitionWidget: (apiEntity) => {\n            return definitionWidgets.find((d) => d.type === apiEntity.spec.type);\n          }\n        };\n      }\n    })\n  ],\n  externalRoutes: {\n    registerApi: registerComponentRouteRef\n  }\n});\nconst ApiExplorerPage = apiDocsPlugin.provide(\n  createRoutableExtension({\n    name: \"ApiExplorerPage\",\n    component: () => import('./components/ApiExplorerPage/index.esm.js').then((m) => m.ApiExplorerIndexPage),\n    mountPoint: rootRoute\n  })\n);\nconst EntityApiDefinitionCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityApiDefinitionCard\",\n    component: {\n      lazy: () => import('./components/ApiDefinitionCard/index.esm.js').then((m) => m.ApiDefinitionCard)\n    }\n  })\n);\nconst EntityConsumedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ConsumedApisCard)\n    }\n  })\n);\nconst EntityConsumingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ConsumingComponentsCard\n      )\n    }\n  })\n);\nconst EntityProvidedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ProvidedApisCard)\n    }\n  })\n);\nconst EntityProvidingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ProvidingComponentsCard\n      )\n    }\n  })\n);\nconst EntityHasApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.HasApisCard)\n    }\n  })\n);\n\nexport { ApiExplorerPage, EntityApiDefinitionCard, EntityConsumedApisCard, EntityConsumingComponentsCard, EntityHasApisCard, EntityProvidedApisCard, EntityProvidingComponentsCard, apiDocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRoute = createRouteRef({\n  id: \"api-docs\"\n});\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\n\nexport { registerComponentRouteRef, rootRoute };\n//# sourceMappingURL=routes.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default from 'react';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ React__default.createElement(Box, { position: \"relative\" }, /* @__PURE__ */ React__default.createElement(\n    LightAsync,\n    {\n      customStyle,\n      language,\n      style: mode,\n      showLineNumbers,\n      wrapLines: true,\n      lineNumberStyle: { color: theme.palette.textVerySubtle },\n      lineProps: (lineNumber) => highlightedNumbers?.includes(lineNumber) ? {\n        style: {\n          backgroundColor: highlightColor\n        }\n      } : {}\n    },\n    text\n  ), showCopyCodeButton && /* @__PURE__ */ React__default.createElement(Box, { position: \"absolute\", top: 0, right: 0 }, /* @__PURE__ */ React__default.createElement(CopyTextButton, { text })));\n}\n\nexport { CodeSnippet };\n//# sourceMappingURL=CodeSnippet.esm.js.map\n","import { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport React__default, { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction CopyTextButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = t(\"copyTextButton.tooltipText\"),\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open\n    },\n    /* @__PURE__ */ React__default.createElement(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel }, /* @__PURE__ */ React__default.createElement(CopyIcon, null))\n  ));\n}\n\nexport { CopyTextButton };\n//# sourceMappingURL=CopyTextButton.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useTheme } from '@material-ui/core/styles';\nimport React__default, { useState, useEffect } from 'react';\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ React__default.createElement(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ React__default.createElement(Box, { display: \"none\" });\n}\n\nexport { Progress };\n//# sourceMappingURL=Progress.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst coreComponentsTranslationRef = createTranslationRef({\n  id: \"core-components\",\n  messages: {\n    signIn: {\n      title: \"Sign In\",\n      loginFailed: \"Login failed\",\n      customProvider: {\n        title: \"Custom User\",\n        subtitle: \"Enter your own User ID and credentials.\\n This selection will not be stored.\",\n        userId: \"User ID\",\n        tokenInvalid: \"Token is not a valid OpenID Connect JWT Token\",\n        continue: \"Continue\",\n        idToken: \"ID Token (optional)\"\n      },\n      guestProvider: {\n        title: \"Guest\",\n        subtitle: \"Enter as a Guest User.\\n You will not have a verified identity, meaning some features might be unavailable.\",\n        enter: \"Enter\"\n      }\n    },\n    skipToContent: \"Skip to content\",\n    copyTextButton: {\n      tooltipText: \"Text copied to clipboard\"\n    },\n    simpleStepper: {\n      reset: \"Reset\",\n      finish: \"Finish\",\n      next: \"Next\",\n      skip: \"Skip\",\n      back: \"Back\"\n    },\n    errorPage: {\n      subtitle: \"ERROR {{status}}: {{statusMessage}}\",\n      title: \"Looks like someone dropped the mic!\",\n      goBack: \"Go back\",\n      showMoreDetails: \"Show more details\",\n      showLessDetails: \"Show less details\"\n    },\n    emptyState: {\n      missingAnnotation: {\n        title: \"Missing Annotation\",\n        actionTitle: \"Add the annotation to your component YAML as shown in the highlighted example below:\",\n        readMore: \"Read more\"\n      }\n    },\n    supportConfig: {\n      default: {\n        title: \"Support Not Configured\",\n        linkTitle: \"Add `app.support` config key\"\n      }\n    },\n    errorBoundary: {\n      title: \"Please contact {{slackChannel}} for help.\"\n    },\n    oauthRequestDialog: {\n      title: \"Login Required\",\n      authRedirectTitle: \"This will trigger a http redirect to OAuth Login.\",\n      login: \"Log in\",\n      rejectAll: \"Reject All\"\n    },\n    supportButton: {\n      title: \"Support\",\n      close: \"Close\"\n    },\n    table: {\n      filter: {\n        title: \"Filters\",\n        clearAll: \"Clear all\"\n      }\n    },\n    alertDisplay: {\n      message_one: \"({{ count }} older message)\",\n      message_other: \"({{ count }} older messages)\"\n    },\n    autoLogout: {\n      stillTherePrompt: {\n        title: \"Logging out due to inactivity\",\n        buttonText: \"Yes! Don't log me out\"\n      }\n    },\n    proxiedSignInPage: {\n      title: \"You do not appear to be signed in. Please try reloading the browser page.\"\n    }\n  }\n});\n\nexport { coreComponentsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createPermission } from '@backstage/plugin-permission-common';\n\nconst RESOURCE_TYPE_CATALOG_ENTITY = \"catalog-entity\";\nconst catalogEntityReadPermission = createPermission({\n  name: \"catalog.entity.read\",\n  attributes: {\n    action: \"read\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityCreatePermission = createPermission({\n  name: \"catalog.entity.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogEntityDeletePermission = createPermission({\n  name: \"catalog.entity.delete\",\n  attributes: {\n    action: \"delete\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityRefreshPermission = createPermission({\n  name: \"catalog.entity.refresh\",\n  attributes: {\n    action: \"update\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityValidatePermission = createPermission({\n  name: \"catalog.entity.validate\",\n  attributes: {}\n});\nconst catalogLocationReadPermission = createPermission({\n  name: \"catalog.location.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst catalogLocationCreatePermission = createPermission({\n  name: \"catalog.location.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogLocationAnalyzePermission = createPermission({\n  name: \"catalog.location.analyze\",\n  attributes: {}\n});\nconst catalogLocationDeletePermission = createPermission({\n  name: \"catalog.location.delete\",\n  attributes: {\n    action: \"delete\"\n  }\n});\nconst catalogPermissions = [\n  catalogEntityReadPermission,\n  catalogEntityCreatePermission,\n  catalogEntityDeletePermission,\n  catalogEntityRefreshPermission,\n  catalogEntityValidatePermission,\n  catalogLocationReadPermission,\n  catalogLocationCreatePermission,\n  catalogLocationDeletePermission,\n  catalogLocationAnalyzePermission\n];\n\nexport { RESOURCE_TYPE_CATALOG_ENTITY, catalogEntityCreatePermission, catalogEntityDeletePermission, catalogEntityReadPermission, catalogEntityRefreshPermission, catalogEntityValidatePermission, catalogLocationAnalyzePermission, catalogLocationCreatePermission, catalogLocationDeletePermission, catalogLocationReadPermission, catalogPermissions };\n//# sourceMappingURL=permissions.esm.js.map\n","var Direction = /* @__PURE__ */ ((Direction2) => {\n  Direction2[\"TOP_BOTTOM\"] = \"TB\";\n  Direction2[\"BOTTOM_TOP\"] = \"BT\";\n  Direction2[\"LEFT_RIGHT\"] = \"LR\";\n  Direction2[\"RIGHT_LEFT\"] = \"RL\";\n  return Direction2;\n})(Direction || {});\n\nexport { Direction };\n//# sourceMappingURL=types.esm.js.map\n","import { createPlugin } from '@backstage/core-plugin-api';\nimport { catalogGraphRouteRef, catalogEntityRouteRef } from './routes.esm.js';\n\nconst catalogGraphPlugin = createPlugin({\n  id: \"catalog-graph\",\n  routes: {\n    catalogGraph: catalogGraphRouteRef\n  },\n  externalRoutes: {\n    catalogEntity: catalogEntityRouteRef\n  }\n});\n\nexport { catalogGraphPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createComponentExtension, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { catalogGraphPlugin } from './plugin.esm.js';\nimport { catalogGraphRouteRef } from './routes.esm.js';\n\nconst EntityCatalogGraphCard = catalogGraphPlugin.provide(\n  createComponentExtension({\n    name: \"EntityCatalogGraphCard\",\n    component: {\n      lazy: () => import('./components/CatalogGraphCard/index.esm.js').then((m) => m.CatalogGraphCard)\n    }\n  })\n);\nconst CatalogGraphPage = catalogGraphPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogGraphPage\",\n    component: () => import('./components/CatalogGraphPage/index.esm.js').then((m) => m.CatalogGraphPage),\n    mountPoint: catalogGraphRouteRef\n  })\n);\n\nexport { CatalogGraphPage, EntityCatalogGraphCard };\n//# sourceMappingURL=extensions.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogGraphRouteRef = createRouteRef({\n  id: \"catalog-graph\"\n});\nconst catalogEntityRouteRef = createExternalRouteRef({\n  id: \"catalog-entity\",\n  params: [\"namespace\", \"kind\", \"name\"],\n  optional: true,\n  defaultTarget: \"catalog.catalogEntity\"\n});\n\nexport { catalogEntityRouteRef, catalogGraphRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogImportApiRef = createApiRef({\n  id: \"plugin.catalog-import.service\"\n});\n\nexport { catalogImportApiRef };\n//# sourceMappingURL=CatalogImportApi.esm.js.map\n","function asInputRef(renderResult) {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n}\nfunction getCatalogFilename(config) {\n  return config.getOptionalString(\"catalog.import.entityFilename\") ?? \"catalog-info.yaml\";\n}\nfunction getBranchName(config) {\n  return config.getOptionalString(\"catalog.import.pullRequestBranchName\") ?? \"backstage-integration\";\n}\n\nexport { asInputRef, getBranchName, getCatalogFilename };\n//# sourceMappingURL=helpers.esm.js.map\n","import 'git-url-parse';\nimport { Octokit } from '@octokit/rest';\nimport { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { Base64 } from 'js-base64';\n\nasync function submitGitHubPrToRepo(options, scmAuthApi, configApi) {\n  const {\n    owner,\n    repo,\n    title,\n    body,\n    fileContent,\n    repositoryUrl,\n    githubIntegrationConfig\n  } = options;\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const octo = new Octokit({\n    auth: token,\n    baseUrl: githubIntegrationConfig.apiBaseUrl\n  });\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const repoData = await octo.repos.get({\n    owner,\n    repo\n  }).catch((e) => {\n    throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n  });\n  const parentRef = await octo.git.getRef({\n    owner,\n    repo,\n    ref: `heads/${repoData.data.default_branch}`\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\"Couldn't fetch default branch data\", e)\n    );\n  });\n  await octo.git.createRef({\n    owner,\n    repo,\n    ref: `refs/heads/${branchName}`,\n    sha: parentRef.data.object.sha\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a new branch with name '${branchName}'`,\n        e\n      )\n    );\n  });\n  await octo.repos.createOrUpdateFileContents({\n    owner,\n    repo,\n    path: fileName,\n    message: title,\n    content: Base64.encode(fileContent),\n    branch: branchName\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a commit with ${fileName} file added`,\n        e\n      )\n    );\n  });\n  const pullRequestResponse = await octo.pulls.create({\n    owner,\n    repo,\n    title,\n    head: branchName,\n    body,\n    base: repoData.data.default_branch\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a pull request for ${branchName} branch`,\n        e\n      )\n    );\n  });\n  return {\n    link: pullRequestResponse.data.html_url,\n    location: `https://${githubIntegrationConfig.host}/${owner}/${repo}/blob/${repoData.data.default_branch}/${fileName}`\n  };\n}\nfunction formatHttpErrorMessage(message, error) {\n  return `${message}, received http response status code ${error.status}: ${error.message}`;\n}\n\nexport { submitGitHubPrToRepo };\n//# sourceMappingURL=GitHub.esm.js.map\n","const apiVersions = \"6.0\";\nclass RepoApiClient {\n  constructor(_options) {\n    this._options = _options;\n  }\n  createEndpoint = (path, version, queryParams = void 0) => {\n    const url = new URL(\n      `${this._options.tenantUrl}/${this._options.project}/_apis/git/repositories`\n    );\n    url.pathname += path;\n    url.searchParams.set(\"api-version\", version);\n    Object.entries(queryParams ?? {}).forEach(\n      ([key, value]) => url.searchParams.set(key, value)\n    );\n    return url.toString();\n  };\n  async get(path, version, queryParams = void 0, token) {\n    const endpoint = this.createEndpoint(path, version, queryParams);\n    const result = await fetch(endpoint, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async post(path, version, payload, token) {\n    const endpoint = this.createEndpoint(path, version);\n    const result = await fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async getRepository(repositoryName, token) {\n    return this.get(`/${repositoryName}`, apiVersions, void 0, token);\n  }\n  async getDefaultBranch(repo, token) {\n    const filter = repo.defaultBranch.replace(\"refs/\", \"\");\n    const result = await this.get(\n      `/${repo.name}/refs`,\n      apiVersions,\n      { filter },\n      token\n    );\n    if (!result.value?.length) {\n      return Promise.reject(\n        new Error(`The requested ref '${filter}' was not found`)\n      );\n    }\n    return result.value[0];\n  }\n  async pushNewBranch(options, token) {\n    const { sourceBranch, repoName } = options;\n    const push = {\n      refUpdates: [\n        {\n          name: `refs/heads/${options.branchName}`,\n          oldObjectId: sourceBranch.objectId\n        }\n      ],\n      commits: [\n        {\n          comment: options.title,\n          changes: [\n            {\n              changeType: \"add\",\n              item: {\n                path: `/${options.fileName}`\n              },\n              newContent: {\n                content: options.fileContent,\n                contentType: \"rawtext\"\n              }\n            }\n          ]\n        }\n      ]\n    };\n    const result = await this.post(\n      `/${repoName}/pushes`,\n      apiVersions,\n      push,\n      token\n    );\n    return result.refUpdates[0];\n  }\n  async createPullRequest(options, token) {\n    const { repoName, sourceName, targetName } = options;\n    const payload = {\n      title: options.title,\n      description: options.description,\n      sourceRefName: sourceName,\n      targetRefName: targetName\n    };\n    return await this.post(\n      `/${repoName}/pullrequests`,\n      apiVersions,\n      payload,\n      token\n    );\n  }\n}\nasync function createAzurePullRequest(options, client = void 0) {\n  const {\n    title,\n    repository,\n    token,\n    fileContent,\n    fileName,\n    branchName,\n    description\n  } = options;\n  const actualClient = client ?? new RepoApiClient(options);\n  const repo = await actualClient.getRepository(repository, token);\n  const defaultBranch = await actualClient.getDefaultBranch(repo, token);\n  const branchOptions = {\n    title,\n    repoName: repo.name,\n    sourceBranch: defaultBranch,\n    branchName,\n    fileContent,\n    fileName\n  };\n  const refUpdate = await actualClient.pushNewBranch(branchOptions, token);\n  const prOptions = {\n    title,\n    description,\n    repoName: repo.name,\n    sourceName: refUpdate.name,\n    targetName: defaultBranch.name\n  };\n  return actualClient.createPullRequest(prOptions, token);\n}\n\nexport { RepoApiClient, createAzurePullRequest };\n//# sourceMappingURL=AzureRepoApiClient.esm.js.map\n","import { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { createAzurePullRequest } from './AzureRepoApiClient.esm.js';\n\nfunction parseAzureUrl(repoUrl) {\n  const { org, repo, project, host } = parseRepoUrl(repoUrl);\n  if (!org || !repo || !project) {\n    throw new Error(\n      \"Invalid AzureDevops Repository. Please use a valid repository url and try again \"\n    );\n  }\n  const tenantUrl = `https://${host}/${org}`;\n  return { tenantUrl, repoName: repo, project };\n}\nasync function submitAzurePrToRepo(options, scmAuthApi, configApi) {\n  const { repositoryUrl, fileContent, title, body } = options;\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const { tenantUrl, repoName, project } = parseAzureUrl(repositoryUrl);\n  const result = await createAzurePullRequest({\n    token,\n    fileContent,\n    title,\n    description: body,\n    project,\n    repository: repoName,\n    branchName,\n    tenantUrl,\n    fileName\n  });\n  const catalogLocation = `${result.repository.webUrl}?path=/${fileName}`;\n  const prLocation = `${result.repository.webUrl}/pullrequest/${result.pullRequestId}`;\n  return {\n    link: prLocation,\n    location: catalogLocation\n  };\n}\nfunction parseRepoUrl(sourceUrl) {\n  const url = new URL(sourceUrl);\n  let host = url.host;\n  let org;\n  let project;\n  let repo;\n  const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n  if (parts[2] === \"_git\") {\n    org = parts[1];\n    project = repo = parts[3];\n  } else if (parts[3] === \"_git\") {\n    org = parts[1];\n    project = parts[2];\n    repo = parts[4];\n  } else if (parts[4] === \"_git\") {\n    host = `${host}/${parts[1]}`;\n    org = parts[2];\n    project = parts[3];\n    repo = parts[5];\n  }\n  return { host, org, project, repo };\n}\n\nexport { parseAzureUrl, parseRepoUrl, submitAzurePrToRepo };\n//# sourceMappingURL=AzureDevops.esm.js.map\n","import YAML from 'yaml';\nimport { submitGitHubPrToRepo } from './GitHub.esm.js';\nimport { getCatalogFilename } from '../components/helpers.esm.js';\nimport parseGitUrl from 'git-url-parse';\nimport { submitAzurePrToRepo } from './AzureDevops.esm.js';\n\nclass CatalogImportClient {\n  discoveryApi;\n  fetchApi;\n  scmAuthApi;\n  scmIntegrationsApi;\n  catalogApi;\n  configApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.scmAuthApi = options.scmAuthApi;\n    this.fetchApi = options.fetchApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.catalogApi = options.catalogApi;\n    this.configApi = options.configApi;\n  }\n  async analyzeUrl(url) {\n    if (new URL(url).pathname.match(/\\.ya?ml$/) || new URL(url).searchParams.get(\"path\")?.match(/.ya?ml$/)) {\n      const location = await this.catalogApi.addLocation({\n        type: \"url\",\n        target: url,\n        dryRun: true\n      });\n      return {\n        type: \"locations\",\n        locations: [\n          {\n            exists: location.exists,\n            target: location.location.target,\n            entities: location.entities.map((e) => ({\n              kind: e.kind,\n              namespace: e.metadata.namespace ?? \"default\",\n              name: e.metadata.name\n            }))\n          }\n        ]\n      };\n    }\n    const supportedIntegrations = [\"github\", \"azure\"];\n    const foundIntegration = this.scmIntegrationsApi.byUrl(url);\n    const iSupported = !!foundIntegration && supportedIntegrations.find((it) => it === foundIntegration.type);\n    if (!iSupported) {\n      const catalogFilename = getCatalogFilename(this.configApi);\n      if (foundIntegration) {\n        throw new Error(\n          `The ${foundIntegration.title} integration only supports full URLs to ${catalogFilename} files. Did you try to pass in the URL of a directory instead?`\n        );\n      }\n      throw new Error(\n        `This URL was not recognized as a valid git URL because there was no configured integration that matched the given host name. Currently GitHub and Azure DevOps are supported. You could try to paste the full URL to a ${catalogFilename} file instead.`\n      );\n    }\n    const analyzation = await this.analyzeLocation({\n      repo: url\n    });\n    if (analyzation.existingEntityFiles.length > 0) {\n      const locations = analyzation.existingEntityFiles.reduce((state, curr) => {\n        state[curr.location.target] = {\n          target: curr.location.target,\n          exists: curr.isRegistered,\n          entities: [\n            ...curr.location.target in state ? state[curr.location.target].entities : [],\n            {\n              name: curr.entity.metadata.name,\n              namespace: curr.entity.metadata.namespace ?? \"default\",\n              kind: curr.entity.kind\n            }\n          ]\n        };\n        return state;\n      }, {});\n      return {\n        type: \"locations\",\n        locations: Object.values(locations)\n      };\n    }\n    return {\n      type: \"repository\",\n      integrationType: foundIntegration.type,\n      url,\n      generatedEntities: analyzation.generateEntities.map((x) => x.entity)\n    };\n  }\n  async preparePullRequest() {\n    const appTitle = this.configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n    const appBaseUrl = this.configApi.getString(\"app.baseUrl\");\n    const catalogFilename = getCatalogFilename(this.configApi);\n    return {\n      title: `Add ${catalogFilename} config file`,\n      body: `This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${appTitle} software catalog](${appBaseUrl}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/).`\n    };\n  }\n  async submitPullRequest(options) {\n    const { repositoryUrl, fileContent, title, body } = options;\n    const parseData = YAML.parse(fileContent);\n    const validationResponse = await this.catalogApi.validateEntity(\n      parseData,\n      `url:${repositoryUrl}`\n    );\n    if (!validationResponse.valid) {\n      throw new Error(validationResponse.errors[0].message);\n    }\n    const provider = this.scmIntegrationsApi.byUrl(repositoryUrl);\n    switch (provider?.type) {\n      case \"github\": {\n        const { config } = provider;\n        const { name, owner } = parseGitUrl(repositoryUrl);\n        const options2 = {\n          githubIntegrationConfig: config,\n          repo: name,\n          owner,\n          repositoryUrl,\n          fileContent,\n          title,\n          body\n        };\n        return submitGitHubPrToRepo(options2, this.scmAuthApi, this.configApi);\n      }\n      case \"azure\": {\n        return submitAzurePrToRepo(\n          {\n            repositoryUrl,\n            fileContent,\n            title,\n            body\n          },\n          this.scmAuthApi,\n          this.configApi\n        );\n      }\n      default: {\n        throw new Error(\"unimplemented!\");\n      }\n    }\n  }\n  // TODO: this could be part of the catalog api\n  async analyzeLocation(options) {\n    const response = await this.fetchApi.fetch(\n      `${await this.discoveryApi.getBaseUrl(\"catalog\")}/analyze-location`,\n      {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          location: { type: \"url\", target: options.repo },\n          ...this.configApi.getOptionalString(\n            \"catalog.import.entityFilename\"\n          ) && {\n            catalogFilename: this.configApi.getOptionalString(\n              \"catalog.import.entityFilename\"\n            )\n          }\n        })\n      }\n    ).catch((e) => {\n      throw new Error(`Failed to generate entity definitions, ${e.message}`);\n    });\n    if (!response.ok) {\n      throw new Error(\n        `Failed to generate entity definitions. Received http response ${response.status}: ${response.statusText}`\n      );\n    }\n    const payload = await response.json();\n    return payload;\n  }\n}\n\nexport { CatalogImportClient };\n//# sourceMappingURL=CatalogImportClient.esm.js.map\n","import { createRouteRef, createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, configApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { scmAuthApiRef, scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { catalogImportApiRef } from './api/CatalogImportApi.esm.js';\nimport { CatalogImportClient } from './api/CatalogImportClient.esm.js';\n\nconst rootRouteRef = createRouteRef({\n  id: \"catalog-import\"\n});\nconst catalogImportPlugin = createPlugin({\n  id: \"catalog-import\",\n  apis: [\n    createApiFactory({\n      api: catalogImportApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmAuthApi: scmAuthApiRef,\n        fetchApi: fetchApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        catalogApi: catalogApiRef,\n        configApi: configApiRef\n      },\n      factory: ({\n        discoveryApi,\n        scmAuthApi,\n        fetchApi,\n        scmIntegrationsApi,\n        catalogApi,\n        configApi\n      }) => new CatalogImportClient({\n        discoveryApi,\n        scmAuthApi,\n        scmIntegrationsApi,\n        fetchApi,\n        catalogApi,\n        configApi\n      })\n    })\n  ],\n  routes: {\n    importPage: rootRouteRef\n  }\n});\nconst CatalogImportPage = catalogImportPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogImportPage\",\n    component: () => import('./components/ImportPage/index.esm.js').then((m) => m.ImportPage),\n    mountPoint: rootRouteRef\n  })\n);\n\nexport { CatalogImportPage, catalogImportPlugin, rootRouteRef };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\"\n});\n\nexport { catalogApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst entityPresentationApiRef = createApiRef({\n  id: \"plugin.catalog.entity-presentation\"\n});\n\nexport { entityPresentationApiRef };\n//# sourceMappingURL=EntityPresentationApi.esm.js.map\n","import { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction defaultEntityPresentation(entityOrRef, context) {\n  const { kind, namespace, name, title, description, displayName, type } = getParts(entityOrRef);\n  const entityRef = stringifyEntityRef({\n    kind: kind || \"unknown\",\n    namespace: namespace || DEFAULT_NAMESPACE,\n    name: name || \"unknown\"\n  });\n  const shortRef = getShortRef({ kind, namespace, name, context });\n  const primary = [displayName, title, shortRef].find(\n    (candidate) => candidate && typeof candidate === \"string\"\n  );\n  const secondary = [\n    primary !== entityRef ? entityRef : void 0,\n    type,\n    description\n  ].filter((candidate) => candidate && typeof candidate === \"string\").join(\" | \");\n  return {\n    entityRef,\n    primaryTitle: primary,\n    secondaryTitle: secondary || void 0,\n    Icon: void 0\n    // leave it up to the presentation API to handle\n  };\n}\nconst isString = (value) => Boolean(value) && typeof value === \"string\";\nfunction getParts(entityOrRef) {\n  if (typeof entityOrRef === \"string\") {\n    let colonI = entityOrRef.indexOf(\":\");\n    const slashI = entityOrRef.indexOf(\"/\");\n    if (slashI !== -1 && slashI < colonI) {\n      colonI = -1;\n    }\n    const kind = colonI === -1 ? void 0 : entityOrRef.slice(0, colonI);\n    const namespace = slashI === -1 ? void 0 : entityOrRef.slice(colonI + 1, slashI);\n    const name = entityOrRef.slice(Math.max(colonI + 1, slashI + 1));\n    return { kind, namespace, name };\n  }\n  if (typeof entityOrRef === \"object\" && entityOrRef !== null) {\n    const kind = [get(entityOrRef, \"kind\")].find(isString);\n    const namespace = [\n      get(entityOrRef, \"metadata.namespace\"),\n      get(entityOrRef, \"namespace\")\n    ].find(isString);\n    const name = [\n      get(entityOrRef, \"metadata.name\"),\n      get(entityOrRef, \"name\")\n    ].find(isString);\n    const title = [get(entityOrRef, \"metadata.title\")].find(isString);\n    const description = [get(entityOrRef, \"metadata.description\")].find(\n      isString\n    );\n    const displayName = [get(entityOrRef, \"spec.profile.displayName\")].find(\n      isString\n    );\n    const type = [get(entityOrRef, \"spec.type\")].find(isString);\n    return { kind, namespace, name, title, description, displayName, type };\n  }\n  return {};\n}\nfunction getShortRef(options) {\n  const kind = options.kind?.toLocaleLowerCase(\"en-US\") || \"unknown\";\n  const namespace = options.namespace || DEFAULT_NAMESPACE;\n  const name = options.name || \"unknown\";\n  const defaultKindLower = options.context?.defaultKind?.toLocaleLowerCase(\"en-US\");\n  const defaultNamespaceLower = options.context?.defaultNamespace?.toLocaleLowerCase(\"en-US\");\n  let result = name;\n  if (defaultNamespaceLower && namespace.toLocaleLowerCase(\"en-US\") !== defaultNamespaceLower || namespace !== DEFAULT_NAMESPACE) {\n    result = `${namespace}/${result}`;\n  }\n  if (defaultKindLower && kind.toLocaleLowerCase(\"en-US\") !== defaultKindLower) {\n    result = `${kind}:${result}`;\n  }\n  return result;\n}\n\nexport { defaultEntityPresentation };\n//# sourceMappingURL=defaultEntityPresentation.esm.js.map\n","import { useState, useEffect } from 'react';\n\nfunction useUpdatingObservable(value, observable, deps) {\n  const [snapshot, setSnapshot] = useState(value);\n  useEffect(() => {\n    setSnapshot(value);\n    const subscription = observable?.subscribe({\n      next: (updatedValue) => {\n        setSnapshot(updatedValue);\n      },\n      complete: () => {\n        subscription?.unsubscribe();\n      }\n    });\n    return () => {\n      subscription?.unsubscribe();\n    };\n  }, deps);\n  return snapshot;\n}\n\nexport { useUpdatingObservable };\n//# sourceMappingURL=useUpdatingObservable.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApiHolder } from '@backstage/core-plugin-api';\nimport { useMemo } from 'react';\nimport { entityPresentationApiRef } from './EntityPresentationApi.esm.js';\nimport { defaultEntityPresentation } from './defaultEntityPresentation.esm.js';\nimport { useUpdatingObservable } from './useUpdatingObservable.esm.js';\n\nfunction useEntityPresentation(entityOrRef, context) {\n  const apis = useApiHolder();\n  const entityPresentationApi = apis.get(entityPresentationApiRef);\n  const deps = [\n    entityPresentationApi,\n    JSON.stringify(entityOrRef),\n    JSON.stringify(context || null)\n  ];\n  const presentation = useMemo(\n    () => {\n      if (!entityPresentationApi) {\n        const fallback = defaultEntityPresentation(entityOrRef, context);\n        return { snapshot: fallback, promise: Promise.resolve(fallback) };\n      }\n      return entityPresentationApi.forEntity(\n        typeof entityOrRef === \"string\" || \"metadata\" in entityOrRef ? entityOrRef : stringifyEntityRef(entityOrRef),\n        context\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps\n  );\n  return useUpdatingObservable(presentation.snapshot, presentation.update$, [\n    presentation\n  ]);\n}\n\nexport { useEntityPresentation };\n//# sourceMappingURL=useEntityPresentation.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst starredEntitiesApiRef = createApiRef({\n  id: \"catalog-react.starred-entities\"\n});\n\nexport { starredEntitiesApiRef };\n//# sourceMappingURL=StarredEntitiesApi.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport '@backstage/catalog-model';\nimport 'lodash/get';\nimport { useEntityPresentation } from '../../apis/EntityPresentationApi/useEntityPresentation.esm.js';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-flex\",\n      alignItems: \"center\"\n    },\n    icon: {\n      marginRight: theme.spacing(0.5),\n      color: theme.palette.text.secondary,\n      \"& svg\": {\n        verticalAlign: \"middle\"\n      }\n    }\n  }),\n  { name: \"CatalogReactEntityDisplayName\" }\n);\nconst EntityDisplayName = (props) => {\n  const { entityRef, hideIcon, disableTooltip, defaultKind, defaultNamespace } = props;\n  const classes = useStyles();\n  const { primaryTitle, secondaryTitle, Icon } = useEntityPresentation(\n    entityRef,\n    { defaultKind, defaultNamespace }\n  );\n  let content = /* @__PURE__ */ React.createElement(React.Fragment, null, primaryTitle);\n  content = /* @__PURE__ */ React.createElement(Box, { component: \"span\", className: classes.root }, Icon && !hideIcon ? /* @__PURE__ */ React.createElement(Box, { component: \"span\", className: classes.icon }, /* @__PURE__ */ React.createElement(Icon, { fontSize: \"inherit\" })) : null, content);\n  if (secondaryTitle && !disableTooltip) {\n    content = /* @__PURE__ */ React.createElement(Tooltip, { enterDelay: 1500, title: secondaryTitle }, content);\n  }\n  return content;\n};\n\nexport { EntityDisplayName };\n//# sourceMappingURL=EntityDisplayName.esm.js.map\n","import { parseEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { Link } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport React, { forwardRef } from 'react';\nimport { entityRouteRef } from '../../routes.esm.js';\nimport { EntityDisplayName } from '../EntityDisplayName/EntityDisplayName.esm.js';\n\nconst EntityRefLink = forwardRef(\n  (props, ref) => {\n    const {\n      entityRef,\n      defaultKind,\n      defaultNamespace,\n      title,\n      children,\n      hideIcon,\n      disableTooltip,\n      ...linkProps\n    } = props;\n    const entityRoute = useEntityRoute(props.entityRef);\n    const content = children ?? title ?? /* @__PURE__ */ React.createElement(\n      EntityDisplayName,\n      {\n        entityRef,\n        defaultKind,\n        defaultNamespace,\n        hideIcon,\n        disableTooltip\n      }\n    );\n    return /* @__PURE__ */ React.createElement(Link, { ...linkProps, ref, to: entityRoute }, content);\n  }\n);\nfunction useEntityRoute(entityRef) {\n  const entityRoute = useRouteRef(entityRouteRef);\n  let kind;\n  let namespace;\n  let name;\n  if (typeof entityRef === \"string\") {\n    const parsed = parseEntityRef(entityRef);\n    kind = parsed.kind;\n    namespace = parsed.namespace;\n    name = parsed.name;\n  } else if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  namespace = namespace?.toLocaleLowerCase(\"en-US\") ?? DEFAULT_NAMESPACE;\n  const routeParams = {\n    kind: encodeURIComponent(kind),\n    namespace: encodeURIComponent(namespace),\n    name: encodeURIComponent(name)\n  };\n  return entityRoute(routeParams);\n}\n\nexport { EntityRefLink };\n//# sourceMappingURL=EntityRefLink.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport React from 'react';\nimport { EntityRefLink } from './EntityRefLink.esm.js';\n\nfunction EntityRefLinks(props) {\n  const { entityRefs, hideIcons, ...linkProps } = props;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, entityRefs.map((r, i) => {\n    const entityRefString = typeof r === \"string\" ? r : stringifyEntityRef(r);\n    return /* @__PURE__ */ React.createElement(React.Fragment, { key: `${i}.${entityRefString}` }, i > 0 && \", \", /* @__PURE__ */ React.createElement(EntityRefLink, { ...linkProps, entityRef: r, hideIcon: hideIcons }));\n  }));\n}\n\nexport { EntityRefLinks };\n//# sourceMappingURL=EntityRefLinks.esm.js.map\n","import { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction humanizeEntityRef(entityRef, opts) {\n  const defaultKind = opts?.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === void 0 || namespace === \"\") {\n    namespace = DEFAULT_NAMESPACE;\n  }\n  if (opts?.defaultNamespace !== void 0) {\n    if (opts?.defaultNamespace === namespace) {\n      namespace = void 0;\n    }\n  } else if (namespace === DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  kind = defaultKind && defaultKind.toLocaleLowerCase(\"en-US\") === kind ? void 0 : kind;\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction humanizeEntity(entity, defaultName) {\n  for (const path of [\"spec.profile.displayName\", \"metadata.title\"]) {\n    const value = get(entity, path);\n    if (value && typeof value === \"string\") {\n      return value;\n    }\n  }\n  return defaultName;\n}\n\nexport { humanizeEntity, humanizeEntityRef };\n//# sourceMappingURL=humanize.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useState, useEffect, useCallback } from 'react';\nimport '../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport { starredEntitiesApiRef } from '../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nfunction getEntityRef(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntity(entityOrRef) {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const [isStarredEntity, setIsStarredEntity] = useState(false);\n  useEffect(() => {\n    const subscription = starredEntitiesApi.starredEntitie$().subscribe({\n      next(starredEntities) {\n        setIsStarredEntity(starredEntities.has(getEntityRef(entityOrRef)));\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [entityOrRef, starredEntitiesApi]);\n  const toggleStarredEntity = useCallback(\n    () => starredEntitiesApi.toggleStarred(getEntityRef(entityOrRef)).then(),\n    [entityOrRef, starredEntitiesApi]\n  );\n  return {\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nexport { useStarredEntity };\n//# sourceMappingURL=useStarredEntity.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport React from 'react';\nimport { useStarredEntity } from '../../hooks/useStarredEntity.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { FavoriteToggle } from '@backstage/core-components';\n\nconst FavoriteEntity = (props) => {\n  const { toggleStarredEntity, isStarredEntity } = useStarredEntity(\n    props.entity\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const title = isStarredEntity ? t(\"favoriteEntity.removeFromFavorites\") : t(\"favoriteEntity.addToFavorites\");\n  const id = `favorite-${stringifyEntityRef(props.entity).replace(\n    /[^a-zA-Z0-9-_]/g,\n    \"-\"\n  )}`;\n  return /* @__PURE__ */ React.createElement(\n    FavoriteToggle,\n    {\n      title,\n      id,\n      isFavorite: isStarredEntity,\n      onToggle: toggleStarredEntity,\n      ...props\n    }\n  );\n};\n\nexport { FavoriteEntity };\n//# sourceMappingURL=FavoriteEntity.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { EmptyState, CodeSnippet, Link } from '@backstage/core-components';\nimport { useEntity } from '../../hooks/useEntity.esm.js';\nimport '../../hooks/useEntityListProvider.esm.js';\nimport 'react-use/esm/useAsync';\nimport 'lodash/isEqual';\nimport 'lodash/sortBy';\nimport '@backstage/core-plugin-api';\nimport '../../api.esm.js';\nimport '@backstage/catalog-model';\nimport 'react-use/esm/useObservable';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    code: {\n      borderRadius: 6,\n      margin: theme.spacing(2, 0),\n      background: theme.palette.type === \"dark\" ? \"#444\" : theme.palette.common.white\n    }\n  }),\n  { name: \"BackstageMissingAnnotationEmptyState\" }\n);\nfunction generateYamlExample(annotations, entity) {\n  const kind = entity?.kind || \"Component\";\n  const name = entity?.metadata.name || \"example\";\n  const type = entity?.spec?.type || \"website\";\n  const owner = entity?.spec?.owner || \"user:default/guest\";\n  const yamlText = `apiVersion: backstage.io/v1alpha1\nkind: ${kind}\nmetadata:\n  name: ${name}\n  annotations:${annotations.map((ann) => `\n    ${ann}: value`).join(\"\")}\nspec:\n  type: ${type}\n  owner: ${owner}`;\n  let line = 6;\n  const lineNumbers = [];\n  annotations.forEach(() => {\n    lineNumbers.push(line);\n    line++;\n  });\n  return {\n    yamlText,\n    lineNumbers\n  };\n}\nfunction generateDescription(annotations, entityKind = \"Component\") {\n  const isSingular = annotations.length <= 1;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, \"The \", isSingular ? \"annotation\" : \"annotations\", \" \", annotations.map((ann) => /* @__PURE__ */ React.createElement(\"code\", null, ann)).reduce((prev, curr) => /* @__PURE__ */ React.createElement(React.Fragment, null, prev, \", \", curr)), \" \", isSingular ? \"is\" : \"are\", \" missing. You need to add the\", \" \", isSingular ? \"annotation\" : \"annotations\", \" to your \", entityKind, \" if you want to enable this tool.\");\n}\nfunction MissingAnnotationEmptyState(props) {\n  let entity;\n  try {\n    const entityContext = useEntity();\n    entity = entityContext.entity;\n  } catch (err) {\n  }\n  const { annotation, readMoreUrl } = props;\n  const annotations = Array.isArray(annotation) ? annotation : [annotation];\n  const url = readMoreUrl || \"https://backstage.io/docs/features/software-catalog/well-known-annotations\";\n  const classes = useStyles();\n  const entityKind = entity?.kind || \"Component\";\n  const { yamlText, lineNumbers } = generateYamlExample(annotations, entity);\n  return /* @__PURE__ */ React.createElement(\n    EmptyState,\n    {\n      missing: \"field\",\n      title: \"Missing Annotation\",\n      description: generateDescription(annotations, entityKind),\n      action: /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, \"Add the annotation to your \", entityKind, \" YAML as shown in the highlighted example below:\"), /* @__PURE__ */ React.createElement(Box, { className: classes.code }, /* @__PURE__ */ React.createElement(\n        CodeSnippet,\n        {\n          text: yamlText,\n          language: \"yaml\",\n          showLineNumbers: true,\n          highlightedNumbers: lineNumbers,\n          customStyle: { background: \"inherit\", fontSize: \"115%\" }\n        }\n      )), /* @__PURE__ */ React.createElement(Button, { color: \"primary\", component: Link, to: url }, \"Read more\"))\n    }\n  );\n}\n\nexport { MissingAnnotationEmptyState };\n//# sourceMappingURL=MissingAnnotationEmptyState.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { createVersionedContext, createVersionedValueMap, useVersionedContext } from '@backstage/version-bridge';\nimport React from 'react';\n\nconst NewEntityContext = createVersionedContext(\n  \"entity-context\"\n);\nconst AsyncEntityProvider = (props) => {\n  const { children, entity, loading, error, refresh } = props;\n  const value = { entity, loading, error, refresh };\n  return /* @__PURE__ */ React.createElement(NewEntityContext.Provider, { value: createVersionedValueMap({ 1: value }) }, /* @__PURE__ */ React.createElement(\n    AnalyticsContext,\n    {\n      attributes: {\n        ...entity ? { entityRef: stringifyEntityRef(entity) } : void 0\n      }\n    },\n    children\n  ));\n};\nconst EntityProvider = (props) => /* @__PURE__ */ React.createElement(\n  AsyncEntityProvider,\n  {\n    entity: props.entity,\n    loading: !Boolean(props.entity),\n    error: void 0,\n    refresh: void 0,\n    children: props.children\n  }\n);\nfunction useEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  if (!value.entity) {\n    throw new Error(\n      \"useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.\"\n    );\n  }\n  return { entity: value.entity };\n}\nfunction useAsyncEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  const { entity, loading, error, refresh } = value;\n  return { entity, loading, error, refresh };\n}\n\nexport { AsyncEntityProvider, EntityProvider, useAsyncEntity, useEntity };\n//# sourceMappingURL=useEntity.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { useAsyncEntity } from './useEntity.esm.js';\n\nfunction useEntityPermission(permission) {\n  const {\n    entity,\n    loading: loadingEntity,\n    error: entityError\n  } = useAsyncEntity();\n  const {\n    allowed,\n    loading: loadingPermission,\n    error: permissionError\n  } = usePermission({\n    permission,\n    resourceRef: entity ? stringifyEntityRef(entity) : void 0\n  });\n  if (loadingEntity || loadingPermission) {\n    return { loading: true, allowed: false };\n  }\n  if (entityError) {\n    return { loading: false, allowed: false, error: entityError };\n  }\n  return { loading: false, allowed, error: permissionError };\n}\n\nexport { useEntityPermission };\n//# sourceMappingURL=useEntityPermission.esm.js.map\n","import { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { createRouteRef } from '@backstage/core-plugin-api';\nimport { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst entityRouteRef = getOrCreateGlobalSingleton(\n  \"catalog:entity-route-ref\",\n  () => createRouteRef({\n    id: \"catalog:entity\",\n    params: [\"namespace\", \"kind\", \"name\"]\n  })\n);\nfunction entityRouteParams(entity) {\n  return {\n    kind: entity.kind.toLocaleLowerCase(\"en-US\"),\n    namespace: entity.metadata.namespace?.toLocaleLowerCase(\"en-US\") ?? DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\n\nexport { entityRouteParams, entityRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogReactTranslationRef = createTranslationRef({\n  id: \"catalog-react\",\n  messages: {\n    catalogFilter: {\n      title: \"Filters\",\n      buttonTitle: \"Filters\"\n    },\n    entityKindPicker: {\n      title: \"Kind\",\n      errorMessage: \"Failed to load entity kinds\"\n    },\n    entityLifecyclePicker: {\n      title: \"Lifecycle\"\n    },\n    entityNamespacePicker: {\n      title: \"Namespace\"\n    },\n    entityOwnerPicker: {\n      title: \"Owner\"\n    },\n    entityProcessingStatusPicker: {\n      title: \"Processing Status\"\n    },\n    entityTagPicker: {\n      title: \"Tags\"\n    },\n    entityPeekAheadPopover: {\n      title: \"Drill into the entity to see all of the tags.\",\n      emailCardAction: {\n        title: \"Email {{email}}\",\n        subTitle: \"mailto {{email}}\"\n      },\n      entityCardActionsTitle: \"Show details\"\n    },\n    entitySearchBar: {\n      placeholder: \"Search\"\n    },\n    entityTypePicker: {\n      title: \"Type\",\n      errorMessage: \"Failed to load entity types\",\n      optionAllTitle: \"all\"\n    },\n    favoriteEntity: {\n      addToFavorites: \"Add to favorites\",\n      removeFromFavorites: \"Remove from favorites\"\n    },\n    inspectEntityDialog: {\n      title: \"Entity Inspector\",\n      closeButtonTitle: \"Close\",\n      ancestryPage: {\n        title: \"Ancestry\"\n      },\n      colocatedPage: {\n        title: \"Colocated\",\n        description: \"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL).\",\n        alertNoLocation: \"Entity had no location information.\",\n        alertNoEntity: \"There were no other entities on this location.\"\n      },\n      jsonPage: {\n        title: \"Entity as JSON\",\n        description: \"This is the raw entity data as received from the catalog, on JSON form.\"\n      },\n      overviewPage: {\n        title: \"Overview\"\n      },\n      yamlPage: {\n        title: \"Entity as YAML\",\n        description: \"This is the raw entity data as received from the catalog, on YAML form.\"\n      }\n    },\n    unregisterEntityDialog: {\n      title: \"Are you sure you want to unregister this entity?\",\n      cancelButtonTitle: \"Cancel\",\n      deleteButtonTitle: \"Delete Entity\",\n      deleteEntitySuccessMessage: \"Removed entity {{entityName}}\",\n      bootstrapState: {\n        title: 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"{{location}}\"). If you believe this is in error, please contact the {{appTitle}} integrator.',\n        advancedDescription: \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\",\n        advancedOptions: \"Advanced Options\"\n      },\n      onlyDeleteStateTitle: \"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog.\",\n      unregisterState: {\n        title: \"This action will unregister the following entities:\",\n        subTitle: \"Located at the following location:\",\n        description: \"To undo, just re-register the entity in {{appTitle}}.\",\n        unregisterButtonTitle: \"Unregister Location\",\n        advancedOptions: \"Advanced Options\",\n        advancedDescription: \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"\n      },\n      errorStateTitle: \"Internal error: Unknown state\"\n    },\n    userListPicker: {\n      defaultOrgName: \"Company\",\n      personalFilter: {\n        title: \"Personal\",\n        ownedLabel: \"Owned\",\n        starredLabel: \"Starred\"\n      },\n      orgFilterAllLabel: \"All\"\n    }\n  }\n});\n\nexport { catalogReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\n\nfunction getEntityRelations(entity, relationType, filter) {\n  let entityNames = entity?.relations?.filter((r) => r.type === relationType).map((r) => parseEntityRef(r.targetRef)) || [];\n  if (filter?.kind) {\n    entityNames = entityNames.filter(\n      (e) => e.kind.toLocaleLowerCase(\"en-US\") === filter.kind.toLocaleLowerCase(\"en-US\")\n    );\n  }\n  return entityNames;\n}\n\nexport { getEntityRelations };\n//# sourceMappingURL=getEntityRelations.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogTranslationRef = createTranslationRef({\n  id: \"catalog\",\n  messages: {\n    indexPage: {\n      title: `{{orgName}} Catalog`,\n      createButtonTitle: \"Create\",\n      supportButtonContent: \"All your software catalog entities\"\n    },\n    aboutCard: {\n      title: \"About\",\n      refreshButtonTitle: \"Schedule entity refresh\",\n      editButtonTitle: \"Edit Metadata\",\n      createSimilarButtonTitle: \"Create something similar\",\n      refreshScheduledMessage: \"Refresh scheduled\",\n      launchTemplate: \"Launch Template\",\n      viewTechdocs: \"View TechDocs\",\n      viewSource: \"View Source\",\n      descriptionField: {\n        label: \"Description\",\n        value: \"No description\"\n      },\n      ownerField: {\n        label: \"Owner\",\n        value: \"No Owner\"\n      },\n      domainField: {\n        label: \"Domain\",\n        value: \"No Domain\"\n      },\n      systemField: {\n        label: \"System\",\n        value: \"No System\"\n      },\n      parentComponentField: {\n        label: \"Parent Component\",\n        value: \"No Parent Component\"\n      },\n      typeField: {\n        label: \"Type\"\n      },\n      lifecycleField: {\n        label: \"Lifecycle\"\n      },\n      tagsField: {\n        label: \"Tags\",\n        value: \"No Tags\"\n      },\n      targetsField: {\n        label: \"Targets\"\n      }\n    },\n    searchResultItem: {\n      lifecycle: \"Lifecycle\",\n      Owner: \"Owner\"\n    },\n    catalogTable: {\n      warningPanelTitle: \"Could not fetch catalog entities.\",\n      viewActionTitle: \"View\",\n      editActionTitle: \"Edit\",\n      starActionTitle: \"Add to favorites\",\n      unStarActionTitle: \"Remove from favorites\"\n    },\n    dependencyOfComponentsCard: {\n      title: \"Dependency of components\",\n      emptyMessage: \"No component depends on this component\"\n    },\n    dependsOnComponentsCard: {\n      title: \"Depends on components\",\n      emptyMessage: \"No component is a dependency of this component\"\n    },\n    dependsOnResourcesCard: {\n      title: \"Depends on resources\",\n      emptyMessage: \"No resource is a dependency of this component\"\n    },\n    entityContextMenu: {\n      copiedMessage: \"Copied!\",\n      moreButtonTitle: \"More\",\n      inspectMenuTitle: \"Inspect entity\",\n      copyURLMenuTitle: \"Copy entity URL\",\n      unregisterMenuTitle: \"Unregister entity\"\n    },\n    entityLabelsCard: {\n      title: \"Labels\",\n      emptyDescription: \"No labels defined for this entity. You can add labels to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityLabels: {\n      warningPanelTitle: \"Entity not found\",\n      ownerLabel: \"Owner\",\n      lifecycleLabel: \"Lifecycle\"\n    },\n    entityLinksCard: {\n      title: \"Links\",\n      emptyDescription: \"No links defined for this entity. You can add links to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityNotFound: {\n      title: \"Entity was not found\",\n      description: \"Want to help us build this? Check out our Getting Started documentation.\",\n      docButtonTitle: \"DOCS\"\n    },\n    deleteEntity: {\n      dialogTitle: \"Are you sure you want to delete this entity?\",\n      deleteButtonTitle: \"Delete\",\n      cancelButtonTitle: \"Cancel\",\n      description: \"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete.\"\n    },\n    entityProcessingErrorsDescription: \"The error below originates from\",\n    entityRelationWarningDescription: \"This entity has relations to other entities, which can't be found in the catalog.\\n Entities not found are: \",\n    hasComponentsCard: {\n      title: \"Has components\",\n      emptyMessage: \"No component is part of this system\"\n    },\n    hasResourcesCard: {\n      title: \"Has resources\",\n      emptyMessage: \"No resource is part of this system\"\n    },\n    hasSubcomponentsCard: {\n      title: \"Has subcomponents\",\n      emptyMessage: \"No subcomponent is part of this component\"\n    },\n    hasSubdomainsCard: {\n      title: \"Has subdomains\",\n      emptyMessage: \"No subdomain is part of this domain\"\n    },\n    hasSystemsCard: {\n      title: \"Has systems\",\n      emptyMessage: \"No system is part of this domain\"\n    },\n    relatedEntitiesCard: {\n      emptyHelpLinkTitle: \"Learn how to change this\"\n    },\n    systemDiagramCard: {\n      title: \"System Diagram\",\n      description: \"Use pinch & zoo to move around the diagram.\",\n      edgeLabels: {\n        partOf: \"part of\",\n        provides: \"provides\",\n        dependsOn: \"depends on\"\n      }\n    }\n  }\n});\n\nexport { catalogTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { ANNOTATION_ORIGIN_LOCATION, getCompoundEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef } from '../../api.esm.js';\nimport { useCallback } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\n\nfunction useUnregisterEntityDialogState(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getLocationByRef(locationRef);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: { [locationAnnotationFilter]: locationRef },\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(\n      ([location2, colocatedEntities2]) => ({\n        location: location2,\n        colocatedEntities: colocatedEntities2\n      })\n    );\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(\n    async function unregisterLocationFn() {\n      const { location: location2 } = prerequisites.value;\n      await catalogApi.removeLocationById(location2.id);\n    },\n    [catalogApi, prerequisites]\n  );\n  const deleteEntity = useCallback(\n    async function deleteEntityFn() {\n      await catalogApi.removeEntityByUid(uid);\n    },\n    [catalogApi, uid]\n  );\n  if (isBootstrap) {\n    return { type: \"bootstrap\", location: locationRef, deleteEntity };\n  }\n  const { loading, error, value } = prerequisites;\n  if (loading) {\n    return { type: \"loading\" };\n  } else if (error) {\n    return { type: \"error\", error };\n  }\n  const { location, colocatedEntities } = value;\n  if (!location) {\n    return { type: \"only-delete\", deleteEntity };\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getCompoundEntityRef),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nexport { useUnregisterEntityDialogState };\n//# sourceMappingURL=useUnregisterEntityDialogState.esm.js.map\n","import { EntityRefLink } from '../EntityRefLink/EntityRefLink.esm.js';\nimport '@backstage/catalog-model';\nimport React, { useState, useCallback } from 'react';\nimport 'lodash/get';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useUnregisterEntityDialogState } from './useUnregisterEntityDialogState.esm.js';\nimport { useApi, alertApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { assertError } from '@backstage/errors';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  },\n  dialogActions: {\n    display: \"inline-block\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm,\n  onClose\n}) => {\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const onUnregister = useCallback(\n    async function onUnregisterFn() {\n      if (\"unregisterLocation\" in state) {\n        setBusy(true);\n        try {\n          await state.unregisterLocation();\n          onConfirm();\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state]\n  );\n  const onDelete = useCallback(\n    async function onDeleteFn() {\n      if (\"deleteEntity\" in state) {\n        setBusy(true);\n        try {\n          await state.deleteEntity();\n          const entityName = entity.metadata.title ?? entity.metadata.name;\n          onConfirm();\n          alertApi.post({\n            message: t(\"unregisterEntityDialog.deleteEntitySuccessMessage\", {\n              entityName\n            }),\n            severity: \"success\",\n            display: \"transient\"\n          });\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state, entity, t]\n  );\n  const DialogActionsPanel = () => /* @__PURE__ */ React.createElement(DialogActions, { className: classes.dialogActions }, /* @__PURE__ */ React.createElement(Button, { onClick: onClose, color: \"primary\" }, t(\"unregisterEntityDialog.cancelButtonTitle\")));\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error: state.error });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert, { severity: \"info\" }, t(\"unregisterEntityDialog.bootstrapState.title\", {\n      appTitle,\n      location: state.location\n    })), /* @__PURE__ */ React.createElement(Box, { marginTop: 2 }, !showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"text\",\n        size: \"small\",\n        color: \"primary\",\n        className: classes.advancedButton,\n        onClick: () => setShowDelete(true)\n      },\n      t(\"unregisterEntityDialog.bootstrapState.advancedOptions\")\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null)), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.bootstrapState.advancedDescription\")), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      t(\"unregisterEntityDialog.deleteButtonTitle\")\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null))));\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.onlyDeleteStateTitle\")), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      t(\"unregisterEntityDialog.deleteButtonTitle\")\n    ), /* @__PURE__ */ React.createElement(DialogActionsPanel, null));\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.unregisterState.title\")), /* @__PURE__ */ React.createElement(DialogContentText, { component: \"ul\" }, state.colocatedEntities.map((e) => /* @__PURE__ */ React.createElement(\"li\", { key: `${e.kind}:${e.namespace}/${e.name}` }, /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: e })))), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.unregisterState.subTitle\")), /* @__PURE__ */ React.createElement(DialogContentText, { component: \"ul\" }, /* @__PURE__ */ React.createElement(\"li\", null, state.location)), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.unregisterState.description\", {\n      appTitle\n    })), /* @__PURE__ */ React.createElement(Box, { marginTop: 2 }, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onUnregister\n      },\n      t(\"unregisterEntityDialog.unregisterState.unregisterButtonTitle\")\n    ), !showDelete && /* @__PURE__ */ React.createElement(Box, { component: \"span\", marginLeft: 2 }, /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"text\",\n        size: \"small\",\n        color: \"primary\",\n        className: classes.advancedButton,\n        onClick: () => setShowDelete(true)\n      },\n      t(\"unregisterEntityDialog.unregisterState.advancedOptions\")\n    ))), showDelete && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Box, { paddingTop: 4, paddingBottom: 4 }, /* @__PURE__ */ React.createElement(Divider, null)), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"unregisterEntityDialog.unregisterState.advancedDescription\")), /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: busy,\n        onClick: onDelete\n      },\n      t(\"unregisterEntityDialog.deleteButtonTitle\")\n    )));\n  }\n  return /* @__PURE__ */ React.createElement(Alert, { severity: \"error\" }, t(\"unregisterEntityDialog.errorStateTitle\"));\n};\nconst UnregisterEntityDialog = (props) => {\n  const { open, onConfirm, onClose, entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ React.createElement(Dialog, { open, onClose }, /* @__PURE__ */ React.createElement(DialogTitle, { id: \"responsive-dialog-title\" }, t(\"unregisterEntityDialog.title\")), /* @__PURE__ */ React.createElement(DialogContent, null, /* @__PURE__ */ React.createElement(Contents, { entity, onConfirm, onClose })));\n};\n\nexport { UnregisterEntityDialog };\n//# sourceMappingURL=UnregisterEntityDialog.esm.js.map\n","var DependencyGraphTypes;\n((DependencyGraphTypes2) => {\n  ((Direction2) => {\n    Direction2[\"TOP_BOTTOM\"] = \"TB\";\n    Direction2[\"BOTTOM_TOP\"] = \"BT\";\n    Direction2[\"LEFT_RIGHT\"] = \"LR\";\n    Direction2[\"RIGHT_LEFT\"] = \"RL\";\n  })(DependencyGraphTypes2.Direction || (DependencyGraphTypes2.Direction = {}));\n  ((Alignment2) => {\n    Alignment2[\"UP_LEFT\"] = \"UL\";\n    Alignment2[\"UP_RIGHT\"] = \"UR\";\n    Alignment2[\"DOWN_LEFT\"] = \"DL\";\n    Alignment2[\"DOWN_RIGHT\"] = \"DR\";\n  })(DependencyGraphTypes2.Alignment || (DependencyGraphTypes2.Alignment = {}));\n  ((Ranker2) => {\n    Ranker2[\"NETWORK_SIMPLEX\"] = \"network-simplex\";\n    Ranker2[\"TIGHT_TREE\"] = \"tight-tree\";\n    Ranker2[\"LONGEST_PATH\"] = \"longest-path\";\n  })(DependencyGraphTypes2.Ranker || (DependencyGraphTypes2.Ranker = {}));\n  ((LabelPosition2) => {\n    LabelPosition2[\"LEFT\"] = \"l\";\n    LabelPosition2[\"RIGHT\"] = \"r\";\n    LabelPosition2[\"CENTER\"] = \"c\";\n  })(DependencyGraphTypes2.LabelPosition || (DependencyGraphTypes2.LabelPosition = {}));\n})(DependencyGraphTypes || (DependencyGraphTypes = {}));\n\nexport { DependencyGraphTypes };\n//# sourceMappingURL=types.esm.js.map\n","import React__default from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    text: {\n      fill: theme.palette.primary.contrastText\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultNode\" }\n);\nfunction DefaultNode({ node: { id } }) {\n  const classes = useStyles();\n  const [width, setWidth] = React__default.useState(0);\n  const [height, setHeight] = React__default.useState(0);\n  const idRef = React__default.useRef(null);\n  React__default.useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ React__default.createElement(\"g\", null, /* @__PURE__ */ React__default.createElement(\n    \"rect\",\n    {\n      className: classes.node,\n      width: paddedWidth,\n      height: paddedHeight,\n      rx: 10\n    }\n  ), /* @__PURE__ */ React__default.createElement(\n    \"text\",\n    {\n      ref: idRef,\n      className: classes.text,\n      y: paddedHeight / 2,\n      x: paddedWidth / 2,\n      textAnchor: \"middle\",\n      alignmentBaseline: \"middle\"\n    },\n    id\n  ));\n}\n\nexport { DefaultNode };\n//# sourceMappingURL=DefaultNode.esm.js.map\n","const ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nexport { ARROW_MARKER_ID, EDGE_TEST_ID, LABEL_TEST_ID, NODE_TEST_ID };\n//# sourceMappingURL=constants.esm.js.map\n","import React__default from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { DefaultNode } from './DefaultNode.esm.js';\nimport { NODE_TEST_ID } from './constants.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphNode\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ React__default.createElement(DefaultNode, { ...props });\nfunction Node({\n  render = renderDefault,\n  setNode,\n  node\n}) {\n  const { width, height, x = 0, y = 0 } = node;\n  const nodeProps = node;\n  const classes = useStyles();\n  const nodeRef = React__default.useRef(null);\n  React__default.useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ React__default.createElement(\n    \"g\",\n    {\n      ref: nodeRef,\n      \"data-testid\": NODE_TEST_ID,\n      className: classes.node,\n      transform: `translate(${x - width / 2},${y - height / 2})`\n    },\n    render({ node: nodeProps })\n  );\n}\n\nexport { Node };\n//# sourceMappingURL=Node.esm.js.map\n","import React__default from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fill: theme.palette.textContrast\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultLabel\" }\n);\nfunction DefaultLabel({ edge: { label } }) {\n  const classes = useStyles();\n  return /* @__PURE__ */ React__default.createElement(\"text\", { className: classes.text, textAnchor: \"middle\" }, label);\n}\n\nexport { DefaultLabel };\n//# sourceMappingURL=DefaultLabel.esm.js.map\n","import React__default from 'react';\nimport * as d3Shape from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { EDGE_TEST_ID, ARROW_MARKER_ID, LABEL_TEST_ID } from './constants.esm.js';\nimport { DefaultLabel } from './DefaultLabel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    path: {\n      strokeWidth: 1.3,\n      stroke: theme.palette.textSubtle,\n      fill: \"none\",\n      transition: `${theme.transitions.duration.shortest}ms`\n    },\n    label: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphEdge\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ React__default.createElement(DefaultLabel, { ...props });\nfunction Edge({\n  render = renderDefault,\n  setEdge,\n  id,\n  edge,\n  curve,\n  showArrowHeads\n}) {\n  const { x = 0, y = 0, width, height, points } = edge;\n  const labelProps = edge;\n  const classes = useStyles();\n  const labelRef = React__default.useRef(null);\n  React__default.useLayoutEffect(() => {\n    if (labelRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  const createPath = React__default.useMemo(\n    () => d3Shape.line().x((d) => d.x).y((d) => d.y).curve(d3Shape[curve]),\n    [curve]\n  );\n  if (points) {\n    const finitePoints = points.filter(\n      (point) => isFinite(point.x) && isFinite(point.y)\n    );\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, path && /* @__PURE__ */ React__default.createElement(\n    \"path\",\n    {\n      \"data-testid\": EDGE_TEST_ID,\n      className: classes.path,\n      markerEnd: showArrowHeads ? `url(#${ARROW_MARKER_ID})` : void 0,\n      d: path\n    }\n  ), labelProps.label ? /* @__PURE__ */ React__default.createElement(\n    \"g\",\n    {\n      ref: labelRef,\n      \"data-testid\": LABEL_TEST_ID,\n      className: classes.label,\n      transform: `translate(${x},${y})`\n    },\n    render({ edge: labelProps })\n  ) : null);\n}\n\nexport { Edge };\n//# sourceMappingURL=Edge.esm.js.map\n","import React__default from 'react';\nimport * as d3Zoom from 'd3-zoom';\nimport * as d3Selection from 'd3-selection';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport dagre from 'dagre';\nimport debounce from 'lodash/debounce';\nimport { DependencyGraphTypes } from './types.esm.js';\nimport { Node } from './Node.esm.js';\nimport { Edge } from './Edge.esm.js';\nimport { ARROW_MARKER_ID } from './constants.esm.js';\n\nconst WORKSPACE_ID = \"workspace\";\nfunction DependencyGraph(props) {\n  const {\n    edges,\n    nodes,\n    renderNode,\n    direction = DependencyGraphTypes.Direction.TOP_BOTTOM,\n    align,\n    nodeMargin = 50,\n    edgeMargin = 10,\n    rankMargin = 50,\n    paddingX = 0,\n    paddingY = 0,\n    acyclicer,\n    ranker = DependencyGraphTypes.Ranker.NETWORK_SIMPLEX,\n    labelPosition = DependencyGraphTypes.LabelPosition.RIGHT,\n    labelOffset = 10,\n    edgeRanks = 1,\n    edgeWeight = 1,\n    renderLabel,\n    defs,\n    zoom = \"enabled\",\n    curve = \"curveMonotoneX\",\n    showArrowHeads = false,\n    fit = \"grow\",\n    ...svgProps\n  } = props;\n  const theme = useTheme();\n  const [containerWidth, setContainerWidth] = React__default.useState(100);\n  const [containerHeight, setContainerHeight] = React__default.useState(100);\n  const graph = React__default.useRef(new dagre.graphlib.Graph());\n  const [graphWidth, setGraphWidth] = React__default.useState(\n    graph.current.graph()?.width || 0\n  );\n  const [graphHeight, setGraphHeight] = React__default.useState(\n    graph.current.graph()?.height || 0\n  );\n  const [graphNodes, setGraphNodes] = React__default.useState([]);\n  const [graphEdges, setGraphEdges] = React__default.useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const minHeight = Math.min(graphHeight, containerHeight);\n  const scalableHeight = fit === \"grow\" ? maxHeight : minHeight;\n  const containerRef = React__default.useMemo(\n    () => debounce((node) => {\n      if (!node) {\n        return;\n      }\n      const container = d3Selection.select(node);\n      const workspace = d3Selection.select(node.getElementById(WORKSPACE_ID));\n      function enableZoom() {\n        container.call(\n          d3Zoom.zoom().scaleExtent([1, Infinity]).on(\"zoom\", (event) => {\n            event.transform.x = Math.min(\n              0,\n              Math.max(\n                event.transform.x,\n                maxWidth - maxWidth * event.transform.k\n              )\n            );\n            event.transform.y = Math.min(\n              0,\n              Math.max(\n                event.transform.y,\n                maxHeight - maxHeight * event.transform.k\n              )\n            );\n            workspace.attr(\"transform\", event.transform);\n          })\n        );\n      }\n      if (zoom === \"enabled\") {\n        enableZoom();\n      } else if (zoom === \"enable-on-click\") {\n        container.on(\"click\", () => enableZoom());\n      }\n      const { width: newContainerWidth, height: newContainerHeight } = node.getBoundingClientRect();\n      if (containerWidth !== newContainerWidth) {\n        setContainerWidth(newContainerWidth);\n      }\n      if (containerHeight !== newContainerHeight) {\n        setContainerHeight(newContainerHeight);\n      }\n    }, 100),\n    [containerHeight, containerWidth, maxWidth, maxHeight, zoom]\n  );\n  const setNodesAndEdges = React__default.useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some(\n        (edge) => edge.from === e.v && edge.to === e.w\n      );\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode && graph.current.node(existingNode)) {\n        const { width, height, x, y } = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, { ...node, width, height, x, y });\n      } else {\n        graph.current.setNode(node.id, { ...node, width: 0, height: 0 });\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = React__default.useMemo(\n    () => debounce(\n      () => {\n        dagre.layout(graph.current);\n        const { height, width } = graph.current.graph();\n        const newHeight = Math.max(0, height || 0);\n        const newWidth = Math.max(0, width || 0);\n        setGraphWidth(newWidth);\n        setGraphHeight(newHeight);\n        setGraphNodes(graph.current.nodes());\n        setGraphEdges(graph.current.edges());\n      },\n      250,\n      { leading: true }\n    ),\n    []\n  );\n  React__default.useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  function setNode(id, node) {\n    graph.current.setNode(id, node);\n    updateGraph();\n    return graph.current;\n  }\n  function setEdge(id, edge) {\n    graph.current.setEdge(id, edge);\n    updateGraph();\n    return graph.current;\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    \"svg\",\n    {\n      ref: containerRef,\n      ...svgProps,\n      width: \"100%\",\n      height: scalableHeight,\n      viewBox: `0 0 ${maxWidth} ${maxHeight}`\n    },\n    /* @__PURE__ */ React__default.createElement(\"defs\", null, /* @__PURE__ */ React__default.createElement(\n      \"marker\",\n      {\n        id: ARROW_MARKER_ID,\n        viewBox: \"0 0 24 24\",\n        markerWidth: \"14\",\n        markerHeight: \"14\",\n        refX: \"16\",\n        refY: \"12\",\n        orient: \"auto\",\n        markerUnits: \"strokeWidth\"\n      },\n      /* @__PURE__ */ React__default.createElement(\n        \"path\",\n        {\n          fill: theme.palette.textSubtle,\n          d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n        }\n      )\n    ), defs),\n    /* @__PURE__ */ React__default.createElement(\"g\", { id: WORKSPACE_ID }, /* @__PURE__ */ React__default.createElement(\n      \"svg\",\n      {\n        width: graphWidth,\n        height: graphHeight,\n        y: maxHeight / 2 - graphHeight / 2,\n        x: maxWidth / 2 - graphWidth / 2,\n        viewBox: `0 0 ${graphWidth} ${graphHeight}`\n      },\n      graphEdges.map((e) => {\n        const edge = graph.current.edge(e);\n        if (!edge) return null;\n        return /* @__PURE__ */ React__default.createElement(\n          Edge,\n          {\n            key: `${e.v}-${e.w}`,\n            id: e,\n            setEdge,\n            render: renderLabel,\n            edge,\n            curve,\n            showArrowHeads\n          }\n        );\n      }),\n      graphNodes.map((id) => {\n        const node = graph.current.node(id);\n        if (!node) return null;\n        return /* @__PURE__ */ React__default.createElement(\n          Node,\n          {\n            key: id,\n            setNode,\n            render: renderNode,\n            node\n          }\n        );\n      })\n    ))\n  );\n}\n\nexport { DependencyGraph };\n//# sourceMappingURL=DependencyGraph.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\nimport { useApp } from '@backstage/core-plugin-api';\nimport React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DEFAULT_ICON = SvgIcon;\nfunction getKind(kind, entityRef) {\n  if (kind) {\n    return kind.toLocaleLowerCase(\"en-US\");\n  }\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase(\"en-US\");\n    } catch {\n      return void 0;\n    }\n  }\n  return void 0;\n}\nfunction useIcon(kind, entityRef) {\n  const app = useApp();\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\nfunction EntityKindIcon(props) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return /* @__PURE__ */ React.createElement(Icon, { ...otherProps });\n}\n\nexport { EntityKindIcon };\n//# sourceMappingURL=EntityKindIcon.esm.js.map\n","import { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel, Link, DependencyGraph, DependencyGraphTypes } from '@backstage/core-components';\nimport { useApi, useRouteRef, useApp } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport '../../EntityRefLink/EntityRefLink.esm.js';\nimport { humanizeEntityRef } from '../../EntityRefLink/humanize.esm.js';\nimport { entityRouteRef } from '../../../routes.esm.js';\nimport { EntityKindIcon } from './EntityKindIcon.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  node: {\n    fill: theme.palette.grey[300],\n    stroke: theme.palette.grey[300],\n    \"&.primary\": {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.light,\n      stroke: theme.palette.secondary.light\n    }\n  },\n  text: {\n    fill: theme.palette.getContrastText(theme.palette.grey[300]),\n    \"&.primary\": {\n      fill: theme.palette.primary.contrastText\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.contrastText\n    },\n    \"&.focused\": {\n      fontWeight: \"bold\"\n    }\n  },\n  clickable: {\n    cursor: \"pointer\"\n  }\n}));\nfunction useAncestry(root) {\n  const catalogClient = useApi(catalogApiRef);\n  const entityRef = stringifyEntityRef(root);\n  const { loading, error, value } = useAsync(async () => {\n    const response = await catalogClient.getEntityAncestors({ entityRef });\n    const nodes = new Array();\n    const edges = new Array();\n    for (const current of response.items) {\n      const currentRef = stringifyEntityRef(current.entity);\n      const isRootNode = currentRef === response.rootEntityRef;\n      nodes.push({ id: currentRef, root: isRootNode, ...current.entity });\n      for (const parentRef of current.parentEntityRefs) {\n        edges.push({ from: currentRef, to: parentRef });\n      }\n    }\n    return { nodes, edges };\n  }, [entityRef]);\n  return {\n    loading,\n    error,\n    nodes: value?.nodes || [],\n    edges: value?.edges || []\n  };\n}\nfunction CustomNode({ node }) {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const entityRoute = useRouteRef(entityRouteRef);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const app = useApp();\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const hasKindIcon = app.getSystemIcon(\n    `kind:${node.kind.toLocaleLowerCase(\"en-US\")}`\n  );\n  const padding = 10;\n  const iconSize = height;\n  const paddedIconWidth = hasKindIcon ? iconSize + padding : 0;\n  const paddedWidth = paddedIconWidth + width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  const displayTitle = node.metadata.title || (node.kind && node.metadata.name && node.metadata.namespace ? humanizeEntityRef({\n    kind: node.kind,\n    name: node.metadata.name,\n    namespace: node.metadata.namespace || \"\"\n  }) : node.id);\n  const onClick = () => {\n    navigate(\n      entityRoute({\n        kind: node.kind,\n        namespace: node.metadata.namespace || DEFAULT_NAMESPACE,\n        name: node.metadata.name\n      })\n    );\n  };\n  return /* @__PURE__ */ React.createElement(\"g\", { onClick, className: classes.clickable }, /* @__PURE__ */ React.createElement(\n    \"rect\",\n    {\n      className: classNames(\n        classes.node,\n        node.root ? \"secondary\" : \"primary\"\n      ),\n      width: paddedWidth,\n      height: paddedHeight,\n      rx: 10\n    }\n  ), hasKindIcon && /* @__PURE__ */ React.createElement(\n    EntityKindIcon,\n    {\n      kind: node.kind,\n      y: padding,\n      x: padding,\n      width: iconSize,\n      height: iconSize,\n      className: classNames(\n        classes.text,\n        node.root ? \"secondary\" : \"primary\"\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    \"text\",\n    {\n      ref: idRef,\n      className: classNames(\n        classes.text,\n        node.root ? \"secondary\" : \"primary\"\n      ),\n      y: paddedHeight / 2,\n      x: paddedIconWidth + (width + padding * 2) / 2,\n      textAnchor: \"middle\",\n      alignmentBaseline: \"middle\"\n    },\n    displayTitle\n  ));\n}\nfunction AncestryPage(props) {\n  const { loading, error, nodes, edges } = useAncestry(props.entity);\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error });\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, t(\"inspectEntityDialog.ancestryPage.title\")), /* @__PURE__ */ React.createElement(DialogContentText, { gutterBottom: true }, \"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where\", \" \", /* @__PURE__ */ React.createElement(Link, { to: \"https://backstage.io/docs/features/software-catalog/life-of-an-entity\" }, \"processors emitted\"), \" \", \"child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations.\"), /* @__PURE__ */ React.createElement(Box, { mt: 4 }, /* @__PURE__ */ React.createElement(\n    DependencyGraph,\n    {\n      nodes,\n      edges,\n      renderNode: CustomNode,\n      direction: DependencyGraphTypes.Direction.BOTTOM_TOP,\n      zoom: \"enable-on-click\"\n    }\n  )));\n}\n\nexport { AncestryPage };\n//# sourceMappingURL=AncestryPage.esm.js.map\n","import { Link } from '@backstage/core-components';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText$1 from '@material-ui/core/ListItemText';\nimport MuiListSubheader from '@material-ui/core/ListSubheader';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  marginTop: {\n    marginTop: theme.spacing(2)\n  },\n  helpIcon: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.disabled\n  },\n  monospace: {\n    fontFamily: \"monospace\"\n  }\n}));\nfunction ListItemText(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\n    ListItemText$1,\n    {\n      ...props,\n      primaryTypographyProps: { className: classes.monospace },\n      secondaryTypographyProps: { className: classes.monospace }\n    }\n  );\n}\nfunction ListSubheader(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(MuiListSubheader, { className: classes.monospace }, props.children);\n}\nfunction Container(props) {\n  return /* @__PURE__ */ React.createElement(Box, { mt: 2 }, /* @__PURE__ */ React.createElement(Card, { variant: \"outlined\" }, /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\", gutterBottom: true }, props.title, props.helpLink && /* @__PURE__ */ React.createElement(HelpIcon, { to: props.helpLink })), props.children)));\n}\nfunction findLink(value) {\n  if (value.match(/^url:https?:\\/\\//)) {\n    return value.slice(\"url:\".length);\n  }\n  if (value.match(/^https?:\\/\\//)) {\n    return value;\n  }\n  return void 0;\n}\nfunction KeyValueListItem(props) {\n  const [key, value] = props.entry;\n  const link = findLink(value);\n  return /* @__PURE__ */ React.createElement(ListItem, null, props.indent && /* @__PURE__ */ React.createElement(ListItemIcon, null), /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: key,\n      secondary: link ? /* @__PURE__ */ React.createElement(Link, { to: link }, value) : value\n    }\n  ));\n}\nfunction HelpIcon(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(Link, { to: props.to, className: classes.helpIcon }, /* @__PURE__ */ React.createElement(HelpOutlineIcon, { fontSize: \"inherit\" }));\n}\n\nexport { Container, HelpIcon, KeyValueListItem, ListItemText, ListSubheader };\n//# sourceMappingURL=common.esm.js.map\n","import { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, stringifyEntityRef } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport React from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport 'lodash/get';\nimport { KeyValueListItem, ListItemText } from './common.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction useColocated(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const currentEntityRef = stringifyEntityRef(entity);\n  const location = entity.metadata.annotations?.[ANNOTATION_LOCATION];\n  const origin = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const { loading, error, value } = useAsync(async () => {\n    if (!location && !origin) {\n      return [];\n    }\n    const response = await catalogApi.getEntities({\n      filter: [\n        ...location ? [{ [`metadata.annotations.${ANNOTATION_LOCATION}`]: location }] : [],\n        ...origin ? [{ [`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]: origin }] : []\n      ]\n    });\n    return response.items;\n  }, [location, origin]);\n  return {\n    loading,\n    error,\n    location,\n    originLocation: origin,\n    colocatedEntities: value?.filter(\n      (colocated) => stringifyEntityRef(colocated) !== currentEntityRef\n    )\n  };\n}\nfunction EntityList(props) {\n  return /* @__PURE__ */ React.createElement(List, { dense: true }, props.header && /* @__PURE__ */ React.createElement(KeyValueListItem, { key: \"header\", entry: props.header }), props.entities.map((entity) => /* @__PURE__ */ React.createElement(ListItem, { key: stringifyEntityRef(entity) }, /* @__PURE__ */ React.createElement(ListItemText, { primary: /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: entity }) }))));\n}\nfunction Contents(props) {\n  const { entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const { loading, error, location, originLocation, colocatedEntities } = useColocated(entity);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  } else if (error) {\n    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error });\n  }\n  if (!location && !originLocation) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"warning\" }, t(\"inspectEntityDialog.colocatedPage.alertNoLocation\"));\n  } else if (!colocatedEntities?.length) {\n    return /* @__PURE__ */ React.createElement(Alert, { severity: \"info\" }, t(\"inspectEntityDialog.colocatedPage.alertNoEntity\"));\n  }\n  if (location === originLocation) {\n    return /* @__PURE__ */ React.createElement(EntityList, { entities: colocatedEntities });\n  }\n  const atLocation = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_LOCATION] === location\n  );\n  const atOrigin = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION] === originLocation\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, atLocation.length > 0 && /* @__PURE__ */ React.createElement(\n    EntityList,\n    {\n      entities: atLocation,\n      header: [\"At the same location\", location]\n    }\n  ), atOrigin.length > 0 && /* @__PURE__ */ React.createElement(\n    EntityList,\n    {\n      entities: atOrigin,\n      header: [\"At the same origin\", originLocation]\n    }\n  ));\n}\nfunction ColocatedPage(props) {\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, t(\"inspectEntityDialog.colocatedPage.title\")), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"inspectEntityDialog.colocatedPage.description\")), /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(Contents, { entity: props.entity })));\n}\n\nexport { ColocatedPage };\n//# sourceMappingURL=ColocatedPage.esm.js.map\n","function sortKeys(data) {\n  return Object.fromEntries(\n    [...Object.entries(data)].sort((a, b) => a[0] < b[0] ? -1 : 1)\n  );\n}\n\nexport { sortKeys };\n//# sourceMappingURL=util.esm.js.map\n","import { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport React from 'react';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction JsonPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, t(\"inspectEntityDialog.jsonPage.title\")), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"inspectEntityDialog.jsonPage.description\")), /* @__PURE__ */ React.createElement(DialogContentText, null, /* @__PURE__ */ React.createElement(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\" }, /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      text: JSON.stringify(sortKeys(props.entity), void 0, 2),\n      language: \"json\",\n      showCopyCodeButton: true\n    }\n  ))));\n}\n\nexport { JsonPage };\n//# sourceMappingURL=JsonPage.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\nimport React from 'react';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport 'lodash/get';\nimport { Container, ListItemText, ListSubheader, HelpIcon, KeyValueListItem } from './common.esm.js';\nimport { CopyTextButton } from '@backstage/core-components';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction OverviewPage(props) {\n  const classes = useStyles();\n  const {\n    apiVersion,\n    kind,\n    metadata,\n    spec,\n    relations = [],\n    status = {}\n  } = props.entity;\n  const groupedRelations = groupBy(\n    sortBy(relations, (r) => r.targetRef),\n    \"type\"\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const entityRef = stringifyEntityRef(props.entity);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, t(\"inspectEntityDialog.overviewPage.title\")), /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(Container, { title: \"Identity\" }, /* @__PURE__ */ React.createElement(List, { dense: true }, /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"apiVersion\", secondary: apiVersion })), /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"kind\", secondary: kind })), spec?.type && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: \"spec.type\",\n      secondary: spec.type?.toString()\n    }\n  )), metadata.uid && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"uid\", secondary: metadata.uid }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(CopyTextButton, { text: metadata.uid }))), metadata.etag && /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"etag\", secondary: metadata.etag }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(CopyTextButton, { text: metadata.etag }))), /* @__PURE__ */ React.createElement(ListItem, null, /* @__PURE__ */ React.createElement(ListItemText, { primary: \"entityRef\", secondary: entityRef }), /* @__PURE__ */ React.createElement(ListItemSecondaryAction, null, /* @__PURE__ */ React.createElement(CopyTextButton, { text: entityRef }))))), /* @__PURE__ */ React.createElement(Container, { title: \"Metadata\" }, !!Object.keys(metadata.annotations || {}).length && /* @__PURE__ */ React.createElement(\n    List,\n    {\n      dense: true,\n      subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Annotations\", /* @__PURE__ */ React.createElement(HelpIcon, { to: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\" }))\n    },\n    Object.entries(metadata.annotations).map((entry) => /* @__PURE__ */ React.createElement(KeyValueListItem, { key: entry[0], indent: true, entry }))\n  ), !!Object.keys(metadata.labels || {}).length && /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Labels\") }, Object.entries(metadata.labels).map((entry) => /* @__PURE__ */ React.createElement(KeyValueListItem, { key: entry[0], indent: true, entry }))), !!metadata.tags?.length && /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, \"Tags\") }, metadata.tags.map((tag, index) => /* @__PURE__ */ React.createElement(ListItem, { key: `${tag}-${index}` }, /* @__PURE__ */ React.createElement(ListItemIcon, null), /* @__PURE__ */ React.createElement(ListItemText, { primary: tag }))))), !!relations.length && /* @__PURE__ */ React.createElement(\n    Container,\n    {\n      title: \"Relations\",\n      helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-relations\"\n    },\n    Object.entries(groupedRelations).map(\n      ([type, groupRelations], index) => /* @__PURE__ */ React.createElement(\"div\", { key: index }, /* @__PURE__ */ React.createElement(List, { dense: true, subheader: /* @__PURE__ */ React.createElement(ListSubheader, null, type) }, groupRelations.map((group) => /* @__PURE__ */ React.createElement(ListItem, { key: group.targetRef }, /* @__PURE__ */ React.createElement(\n        ListItemText,\n        {\n          primary: /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: group.targetRef })\n        }\n      )))))\n    )\n  ), !!status.items?.length && /* @__PURE__ */ React.createElement(\n    Container,\n    {\n      title: \"Status\",\n      helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-statuses\"\n    },\n    status.items.map((item, index) => /* @__PURE__ */ React.createElement(\"div\", { key: index }, /* @__PURE__ */ React.createElement(Typography, null, item.level, \": \", item.type), /* @__PURE__ */ React.createElement(Box, { ml: 2 }, item.message)))\n  )));\n}\n\nexport { OverviewPage };\n//# sourceMappingURL=OverviewPage.esm.js.map\n","import { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport React from 'react';\nimport YAML from 'yaml';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction YamlPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(DialogContentText, { variant: \"h2\" }, t(\"inspectEntityDialog.yamlPage.title\")), /* @__PURE__ */ React.createElement(DialogContentText, null, t(\"inspectEntityDialog.yamlPage.description\")), /* @__PURE__ */ React.createElement(DialogContentText, null, /* @__PURE__ */ React.createElement(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\" }, /* @__PURE__ */ React.createElement(\n    CodeSnippet,\n    {\n      text: YAML.stringify(sortKeys(props.entity)),\n      language: \"yaml\",\n      showCopyCodeButton: true\n    }\n  ))));\n}\n\nexport { YamlPage };\n//# sourceMappingURL=YamlPage.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useEffect } from 'react';\nimport { AncestryPage } from './components/AncestryPage.esm.js';\nimport { ColocatedPage } from './components/ColocatedPage.esm.js';\nimport { JsonPage } from './components/JsonPage.esm.js';\nimport { OverviewPage } from './components/OverviewPage.esm.js';\nimport { YamlPage } from './components/YamlPage.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  fullHeightDialog: {\n    height: \"calc(100% - 64px)\"\n  },\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    flexShrink: 0\n  },\n  tabContents: {\n    flexGrow: 1,\n    overflowX: \"auto\"\n  }\n}));\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\n    \"div\",\n    {\n      role: \"tabpanel\",\n      hidden: value !== index,\n      id: `vertical-tabpanel-${index}`,\n      \"aria-labelledby\": `vertical-tab-${index}`,\n      className: classes.tabContents,\n      ...other\n    },\n    value === index && /* @__PURE__ */ React.createElement(Box, { pl: 3, pr: 3 }, children)\n  );\n}\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`\n  };\n}\nfunction InspectEntityDialog(props) {\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = React.useState(0);\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  useEffect(() => {\n    setActiveTab(0);\n  }, [props.open]);\n  if (!props.entity) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\n    Dialog,\n    {\n      fullWidth: true,\n      maxWidth: \"xl\",\n      open: props.open,\n      onClose: props.onClose,\n      \"aria-labelledby\": \"entity-inspector-dialog-title\",\n      PaperProps: { className: classes.fullHeightDialog }\n    },\n    /* @__PURE__ */ React.createElement(DialogTitle, { id: \"entity-inspector-dialog-title\" }, t(\"inspectEntityDialog.title\")),\n    /* @__PURE__ */ React.createElement(DialogContent, { dividers: true }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.root }, /* @__PURE__ */ React.createElement(\n      Tabs,\n      {\n        orientation: \"vertical\",\n        variant: \"scrollable\",\n        value: activeTab,\n        onChange: (_, newValue) => setActiveTab(newValue),\n        \"aria-label\": \"Inspector options\",\n        className: classes.tabs\n      },\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Overview\", ...a11yProps(0) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Ancestry\", ...a11yProps(1) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Colocated\", ...a11yProps(2) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Raw JSON\", ...a11yProps(3) }),\n      /* @__PURE__ */ React.createElement(Tab, { label: \"Raw YAML\", ...a11yProps(4) })\n    ), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 0 }, /* @__PURE__ */ React.createElement(OverviewPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 1 }, /* @__PURE__ */ React.createElement(AncestryPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 2 }, /* @__PURE__ */ React.createElement(ColocatedPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 3 }, /* @__PURE__ */ React.createElement(JsonPage, { entity: props.entity })), /* @__PURE__ */ React.createElement(TabPanel, { value: activeTab, index: 4 }, /* @__PURE__ */ React.createElement(YamlPage, { entity: props.entity })))),\n    /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(Button, { onClick: props.onClose, color: \"primary\" }, t(\"inspectEntityDialog.closeButtonTitle\")))\n  );\n}\n\nexport { InspectEntityDialog };\n//# sourceMappingURL=InspectEntityDialog.esm.js.map\n","import React from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction UnregisterEntity(props) {\n  const {\n    unregisterEntityOptions,\n    isUnregisterAllowed,\n    onUnregisterEntity,\n    onClose\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const isBoolean = typeof unregisterEntityOptions?.disableUnregister === \"boolean\";\n  const isDisabled = (!isUnregisterAllowed || (isBoolean ? !!unregisterEntityOptions?.disableUnregister : unregisterEntityOptions?.disableUnregister === \"disable\")) ?? false;\n  let unregisterButton = /* @__PURE__ */ React.createElement(React.Fragment, null);\n  if (unregisterEntityOptions?.disableUnregister !== \"hidden\") {\n    unregisterButton = /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          onUnregisterEntity();\n        },\n        disabled: isDisabled\n      },\n      /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(CancelIcon, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText, { primary: t(\"entityContextMenu.unregisterMenuTitle\") })\n    );\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, unregisterButton);\n}\n\nexport { UnregisterEntity };\n//# sourceMappingURL=UnregisterEntity.esm.js.map\n","import Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport FileCopyTwoToneIcon from '@material-ui/icons/FileCopyTwoTone';\nimport React, { useState, useEffect } from 'react';\nimport { useEntityPermission } from '@backstage/plugin-catalog-react/alpha';\nimport { catalogEntityDeletePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { UnregisterEntity } from './UnregisterEntity.esm.js';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => {\n    return {\n      button: {\n        color: theme.page.fontColor\n      }\n    };\n  },\n  { name: \"PluginCatalogEntityContextMenu\" }\n);\nfunction EntityContextMenu(props) {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    onUnregisterEntity,\n    onInspectEntity\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles();\n  const unregisterPermission = useEntityPermission(\n    catalogEntityDeletePermission\n  );\n  const isAllowed = unregisterPermission.allowed;\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  const alertApi = useApi(alertApiRef);\n  const [copyState, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (!copyState.error && copyState.value) {\n      alertApi.post({\n        message: t(\"entityContextMenu.copiedMessage\"),\n        severity: \"info\",\n        display: \"transient\"\n      });\n    }\n  }, [copyState, alertApi, t]);\n  const extraItems = UNSTABLE_extraContextMenuItems && [\n    ...UNSTABLE_extraContextMenuItems.map((item) => /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        key: item.title,\n        onClick: () => {\n          onClose();\n          item.onClick();\n        }\n      },\n      /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(item.Icon, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText, { primary: item.title })\n    )),\n    /* @__PURE__ */ React.createElement(Divider, { key: \"the divider is here!\" })\n  ];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Tooltip, { title: t(\"entityContextMenu.moreButtonTitle\"), arrow: true }, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": !!anchorEl,\n      role: \"button\",\n      onClick: onOpen,\n      \"data-testid\": \"menu-button\",\n      className: classes.button,\n      id: \"long-menu\"\n    },\n    /* @__PURE__ */ React.createElement(MoreVert, null)\n  )), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      open: Boolean(anchorEl),\n      onClose,\n      anchorEl,\n      anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n      transformOrigin: { vertical: \"top\", horizontal: \"right\" },\n      \"aria-labelledby\": \"long-menu\"\n    },\n    /* @__PURE__ */ React.createElement(MenuList, { autoFocusItem: Boolean(anchorEl) }, extraItems, /* @__PURE__ */ React.createElement(\n      UnregisterEntity,\n      {\n        unregisterEntityOptions: UNSTABLE_contextMenuOptions,\n        isUnregisterAllowed: isAllowed,\n        onUnregisterEntity,\n        onClose\n      }\n    ), /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          onInspectEntity();\n        }\n      },\n      /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(BugReportIcon, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText, { primary: t(\"entityContextMenu.inspectMenuTitle\") })\n    ), /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          copyToClipboard(window.location.toString());\n        }\n      },\n      /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(FileCopyTwoToneIcon, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText, { primary: t(\"entityContextMenu.copyURLMenuTitle\") })\n    ))\n  ));\n}\n\nexport { EntityContextMenu };\n//# sourceMappingURL=EntityContextMenu.esm.js.map\n","import { DEFAULT_NAMESPACE, RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { Page, Header, Progress, RoutedTabs, Content, WarningPanel, Link, HeaderLabel } from '@backstage/core-components';\nimport { attachComponentData, useRouteRefParams, useElementFilter, useRouteRef } from '@backstage/core-plugin-api';\nimport { entityRouteRef, useAsyncEntity, UnregisterEntityDialog, InspectEntityDialog, EntityDisplayName, FavoriteEntity, getEntityRelations, EntityRefLinks } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport Alert from '@material-ui/lab/Alert';\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { EntityContextMenu } from '../EntityContextMenu/EntityContextMenu.esm.js';\nimport { rootRouteRef, unregisterRedirectRouteRef } from '../../routes.esm.js';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst dataKey = \"plugin.catalog.entityLayoutRoute\";\nconst Route = () => null;\nattachComponentData(Route, dataKey, true);\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction EntityLayoutTitle(props) {\n  const { entity, title } = props;\n  return /* @__PURE__ */ React.createElement(Box, { display: \"inline-flex\", alignItems: \"center\", height: \"1em\", maxWidth: \"100%\" }, /* @__PURE__ */ React.createElement(\n    Box,\n    {\n      component: \"span\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\"\n    },\n    entity ? /* @__PURE__ */ React.createElement(EntityDisplayName, { entityRef: entity, hideIcon: true }) : title\n  ), entity && /* @__PURE__ */ React.createElement(FavoriteEntity, { entity }));\n}\nfunction headerProps(paramKind, paramNamespace, paramName, entity) {\n  const kind = paramKind ?? entity?.kind ?? \"\";\n  const namespace = paramNamespace ?? entity?.metadata.namespace ?? \"\";\n  const name = entity?.metadata.title ?? paramName ?? entity?.metadata.name ?? \"\";\n  return {\n    headerTitle: `${name}${namespace && namespace !== DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n}\nfunction EntityLabels(props) {\n  const { entity } = props;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(\n    HeaderLabel,\n    {\n      label: t(\"entityLabels.ownerLabel\"),\n      contentTypograpyRootComponent: \"p\",\n      value: /* @__PURE__ */ React.createElement(\n        EntityRefLinks,\n        {\n          entityRefs: ownedByRelations,\n          defaultKind: \"Group\",\n          color: \"inherit\"\n        }\n      )\n    }\n  ), entity.spec?.lifecycle && /* @__PURE__ */ React.createElement(\n    HeaderLabel,\n    {\n      label: t(\"entityLabels.lifecycleLabel\"),\n      value: entity.spec.lifecycle?.toString()\n    }\n  ));\n}\nconst EntityLayout = (props) => {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    children,\n    NotFoundComponent\n  } = props;\n  const { kind, namespace, name } = useRouteRefParams(entityRouteRef);\n  const { entity, loading, error } = useAsyncEntity();\n  const location = useLocation();\n  const routes = useElementFilter(\n    children,\n    (elements) => elements.selectByComponentData({\n      key: dataKey,\n      withStrictError: \"Child of EntityLayout must be an EntityLayout.Route\"\n    }).getElements().flatMap(({ props: elementProps }) => {\n      if (!entity) {\n        return [];\n      } else if (elementProps.if && !elementProps.if(entity)) {\n        return [];\n      }\n      return [\n        {\n          path: elementProps.path,\n          title: elementProps.title,\n          children: elementProps.children,\n          tabProps: elementProps.tabProps\n        }\n      ];\n    }),\n    [entity]\n  );\n  const { headerTitle, headerType } = headerProps(\n    kind,\n    namespace,\n    name,\n    entity\n  );\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const [inspectionDialogOpen, setInspectionDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const catalogRoute = useRouteRef(rootRouteRef);\n  const unregisterRedirectRoute = useRouteRef(unregisterRedirectRouteRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    setInspectionDialogOpen(false);\n    navigate(\n      unregisterRedirectRoute ? unregisterRedirectRoute() : catalogRoute()\n    );\n  };\n  useEffect(() => {\n    setConfirmationDialogOpen(false);\n    setInspectionDialogOpen(false);\n  }, [location.pathname]);\n  return /* @__PURE__ */ React.createElement(Page, { themeId: entity?.spec?.type?.toString() ?? \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: /* @__PURE__ */ React.createElement(EntityLayoutTitle, { title: headerTitle, entity }),\n      pageTitleOverride: headerTitle,\n      type: headerType\n    },\n    entity && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(EntityLabels, { entity }), /* @__PURE__ */ React.createElement(\n      EntityContextMenu,\n      {\n        UNSTABLE_extraContextMenuItems,\n        UNSTABLE_contextMenuOptions,\n        onUnregisterEntity: () => setConfirmationDialogOpen(true),\n        onInspectEntity: () => setInspectionDialogOpen(true)\n      }\n    ))\n  ), loading && /* @__PURE__ */ React.createElement(Progress, null), entity && /* @__PURE__ */ React.createElement(RoutedTabs, { routes }), error && /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Alert, { severity: \"error\" }, error.toString())), !loading && !error && !entity && /* @__PURE__ */ React.createElement(Content, null, NotFoundComponent ? NotFoundComponent : /* @__PURE__ */ React.createElement(WarningPanel, { title: t(\"entityLabels.warningPanelTitle\") }, \"There is no \", kind, \" with the requested\", \" \", /* @__PURE__ */ React.createElement(Link, { to: \"https://backstage.io/docs/features/software-catalog/references\" }, \"kind, namespace, and name\"), \".\")), /* @__PURE__ */ React.createElement(\n    UnregisterEntityDialog,\n    {\n      open: confirmationDialogOpen,\n      entity,\n      onConfirm: cleanUpAfterRemoval,\n      onClose: () => setConfirmationDialogOpen(false)\n    }\n  ), /* @__PURE__ */ React.createElement(\n    InspectEntityDialog,\n    {\n      open: inspectionDialogOpen,\n      entity,\n      onClose: () => setInspectionDialogOpen(false)\n    }\n  ));\n};\nEntityLayout.Route = Route;\n\nexport { EntityLayout };\n//# sourceMappingURL=EntityLayout.esm.js.map\n","import { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport React, { useState } from 'react';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { assertError } from '@backstage/errors';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction DeleteEntityDialog(props) {\n  const { open, onClose, onConfirm, entity } = props;\n  const [busy, setBusy] = useState(false);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const onDelete = async () => {\n    setBusy(true);\n    try {\n      const uid = entity.metadata.uid;\n      await catalogApi.removeEntityByUid(uid);\n      onConfirm();\n    } catch (err) {\n      assertError(err);\n      alertApi.post({ message: err.message });\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Dialog, { open, onClose }, /* @__PURE__ */ React.createElement(DialogTitle, { id: \"responsive-dialog-title\" }, t(\"deleteEntity.dialogTitle\")), /* @__PURE__ */ React.createElement(DialogActions, null, /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: busy,\n      onClick: onDelete\n    },\n    t(\"deleteEntity.deleteButtonTitle\")\n  ), /* @__PURE__ */ React.createElement(Button, { onClick: onClose, color: \"primary\" }, t(\"deleteEntity.cancelButtonTitle\"))));\n}\n\nexport { DeleteEntityDialog };\n//# sourceMappingURL=DeleteEntityDialog.esm.js.map\n","import { useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { DeleteEntityDialog } from './DeleteEntityDialog.esm.js';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes.esm.js';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction isOrphan(entity) {\n  return entity?.metadata?.annotations?.[\"backstage.io/orphan\"] === \"true\";\n}\nfunction EntityOrphanWarning() {\n  const navigate = useNavigate();\n  const catalogLink = useRouteRef(rootRouteRef);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const { entity } = useEntity();\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(catalogLink());\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert, { severity: \"warning\", onClick: () => setConfirmationDialogOpen(true) }, t(\"deleteEntity.description\")), /* @__PURE__ */ React.createElement(\n    DeleteEntityDialog,\n    {\n      open: confirmationDialogOpen,\n      entity,\n      onConfirm: cleanUpAfterRemoval,\n      onClose: () => setConfirmationDialogOpen(false)\n    }\n  ));\n}\n\nexport { EntityOrphanWarning, isOrphan };\n//# sourceMappingURL=EntityOrphanWarning.esm.js.map\n","const ENTITY_STATUS_CATALOG_PROCESSING_TYPE = \"backstage.io/catalog-processing\";\n\nexport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE };\n//# sourceMappingURL=status.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef, useEntity, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport React from 'react';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE } from '@backstage/catalog-client';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst errorFilter = (i) => i.error && i.level === \"error\" && i.type === ENTITY_STATUS_CATALOG_PROCESSING_TYPE;\nasync function getOwnAndAncestorsErrors(entityRef, catalogApi) {\n  const ancestors = await catalogApi.getEntityAncestors({ entityRef });\n  const items = ancestors.items.map((item) => {\n    const statuses = item.entity.status?.items ?? [];\n    const errors = statuses.filter(errorFilter).map((e) => e.error).filter((e) => Boolean(e));\n    return { errors, entity: item.entity };\n  }).filter((item) => item.errors.length > 0);\n  return { items };\n}\nasync function hasCatalogProcessingErrors(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const errors = await getOwnAndAncestorsErrors(\n    stringifyEntityRef(entity),\n    catalogApi\n  );\n  return errors.items.length > 0;\n}\nfunction EntityProcessingErrorsPanel() {\n  const { entity } = useEntity();\n  const entityRef = stringifyEntityRef(entity);\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getOwnAndAncestorsErrors(entityRef, catalogApi);\n  }, [entityRef, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Box, { mb: 1 }, /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error }));\n  }\n  if (loading || !value) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, value.items.map((ancestorError, index) => /* @__PURE__ */ React.createElement(Box, { key: index, mb: 1 }, stringifyEntityRef(entity) !== stringifyEntityRef(ancestorError.entity) && /* @__PURE__ */ React.createElement(Box, { p: 1 }, t(\"entityProcessingErrorsDescription\"), \" \", /* @__PURE__ */ React.createElement(EntityRefLink, { entityRef: ancestorError.entity })), ancestorError.errors.map((e, i) => /* @__PURE__ */ React.createElement(ResponseErrorPanel, { key: i, error: e })))));\n}\n\nexport { EntityProcessingErrorsPanel, hasCatalogProcessingErrors };\n//# sourceMappingURL=EntityProcessingErrorsPanel.esm.js.map\n","import { catalogApiRef, useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport React from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport Box from '@material-ui/core/Box';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nasync function getRelationWarnings(entity, catalogApi) {\n  const entityRefRelations = entity.relations?.map(\n    (relation) => relation.targetRef\n  );\n  if (!entityRefRelations || entityRefRelations?.length < 1 || entityRefRelations.length > 1e3) {\n    return [];\n  }\n  const relatedEntities = await catalogApi.getEntitiesByRefs({\n    entityRefs: entityRefRelations,\n    fields: [\"kind\", \"metadata.name\", \"metadata.namespace\"]\n  });\n  return entityRefRelations.filter(\n    (_, index) => relatedEntities.items[index] === void 0\n  );\n}\nasync function hasRelationWarnings(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const relatedEntitiesMissing = await getRelationWarnings(entity, catalogApi);\n  return relatedEntitiesMissing.length > 0;\n}\nfunction EntityRelationWarning() {\n  const { entity } = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getRelationWarnings(entity, catalogApi);\n  }, [entity, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ React.createElement(Box, { mb: 1 }, /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error }));\n  }\n  if (loading || !value || value.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Alert, { severity: \"warning\", style: { whiteSpace: \"pre-line\" } }, t(\"entityRelationWarningDescription\"), \" \", value.join(\", \")));\n}\n\nexport { EntityRelationWarning, hasRelationWarnings };\n//# sourceMappingURL=EntityRelationWarning.esm.js.map\n","import { useAsyncEntity } from '@backstage/plugin-catalog-react';\nimport React from 'react';\nimport { attachComponentData, useApiHolder, useElementFilter } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst ENTITY_SWITCH_KEY = \"core.backstage.entitySwitch\";\nconst EntitySwitchCaseComponent = (_props) => null;\nattachComponentData(EntitySwitchCaseComponent, ENTITY_SWITCH_KEY, true);\nconst EntitySwitch = (props) => {\n  const { entity, loading } = useAsyncEntity();\n  const apis = useApiHolder();\n  const results = useElementFilter(\n    props.children,\n    (collection) => collection.selectByComponentData({\n      key: ENTITY_SWITCH_KEY,\n      withStrictError: \"Child of EntitySwitch is not an EntitySwitch.Case\"\n    }).getElements().flatMap((element) => {\n      if (loading && !entity) {\n        return [];\n      }\n      const { if: condition, children: elementsChildren } = element.props;\n      if (!entity) {\n        return [\n          {\n            if: condition === void 0,\n            children: elementsChildren\n          }\n        ];\n      }\n      return [\n        {\n          if: condition?.(entity, { apis }),\n          children: elementsChildren\n        }\n      ];\n    }),\n    [apis, entity, loading]\n  );\n  const hasAsyncCases = results.some(\n    (r) => typeof r.if === \"object\" && \"then\" in r.if\n  );\n  if (hasAsyncCases) {\n    return /* @__PURE__ */ React.createElement(\n      AsyncEntitySwitch,\n      {\n        results,\n        renderMultipleMatches: props.renderMultipleMatches\n      }\n    );\n  }\n  if (props.renderMultipleMatches === \"all\") {\n    const children = results.filter((r) => r.if).map((r) => r.children);\n    if (children.length === 0) {\n      return getDefaultChildren(results);\n    }\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n  }\n  return results.find((r) => r.if)?.children ?? getDefaultChildren(results);\n};\nfunction AsyncEntitySwitch({\n  results,\n  renderMultipleMatches\n}) {\n  const { loading, value } = useAsync(async () => {\n    const promises = results.map(\n      async ({ if: condition, children: output }) => {\n        try {\n          if (await condition) {\n            return output;\n          }\n        } catch {\n        }\n        return null;\n      }\n    );\n    if (renderMultipleMatches === \"all\") {\n      const children = (await Promise.all(promises)).filter(Boolean);\n      if (children.length === 0) {\n        return getDefaultChildren(results);\n      }\n      return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n    }\n    return (await Promise.all(promises)).find(Boolean) ?? getDefaultChildren(results);\n  }, [results]);\n  if (loading || !value) {\n    return null;\n  }\n  return value;\n}\nfunction getDefaultChildren(results) {\n  return results.filter((r) => r.if === void 0)[0]?.children ?? null;\n}\nEntitySwitch.Case = EntitySwitchCaseComponent;\n\nexport { EntitySwitch };\n//# sourceMappingURL=EntitySwitch.esm.js.map\n","function strCmp(a, b) {\n  return Boolean(\n    a && typeof a === \"string\" && a?.toLocaleLowerCase(\"en-US\") === b?.toLocaleLowerCase(\"en-US\")\n  );\n}\nfunction strCmpAll(value, cmpValues) {\n  return typeof cmpValues === \"string\" ? strCmp(value, cmpValues) : cmpValues.length === 0 || cmpValues.some((cmpVal) => strCmp(value, cmpVal));\n}\nfunction isKind(kinds) {\n  return isEntityWith({ kind: kinds });\n}\nfunction isComponentType(types) {\n  return isEntityWith({ kind: \"component\", type: types });\n}\nfunction isResourceType(types) {\n  return isEntityWith({ kind: \"resource\", type: types });\n}\nfunction isApiType(types) {\n  return isEntityWith({ kind: \"api\", type: types });\n}\nfunction isEntityWith(predicate) {\n  return (entity) => {\n    if (predicate.kind && !strCmpAll(entity.kind, predicate.kind)) {\n      return false;\n    }\n    if (predicate.type && !strCmpAll(entity.spec?.type, predicate.type)) {\n      return false;\n    }\n    return true;\n  };\n}\nfunction isNamespace(namespaces) {\n  return (entity) => strCmpAll(entity.metadata?.namespace, namespaces);\n}\n\nexport { isApiType, isComponentType, isEntityWith, isKind, isNamespace, isResourceType };\n//# sourceMappingURL=conditions.esm.js.map\n","function isQueryEntitiesInitialRequest(request) {\n  return !request.cursor;\n}\n\nexport { isQueryEntitiesInitialRequest };\n//# sourceMappingURL=utils.esm.js.map\n","const pluginId = \"catalog\";\n\nexport { pluginId };\n//# sourceMappingURL=pluginId.esm.js.map\n","import crossFetch from 'cross-fetch';\nimport { pluginId } from '../pluginId.esm.js';\nimport * as parser from 'uri-template';\n\nclass DefaultApiClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi || { fetch: crossFetch };\n  }\n  /**\n   * Validate a given location.\n   * @param analyzeLocationRequest\n   */\n  async analyzeLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/analyze-location`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Create a location for a given target.\n   * @param createLocationRequest\n   * @param dryRun\n   */\n  async createLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations{?dryRun}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Delete a single entity by UID.\n   * @param uid\n   */\n  async deleteEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Delete a location by id.\n   * @param id\n   */\n  async deleteLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Get all entities matching a given filter.\n   * @param fields Restrict to just these fields in the response.\n   * @param limit Number of records to return in the response.\n   * @param filter Filter for just the entities defined by this filter.\n   * @param offset Number of records to skip in the query page.\n   * @param after Pointer to the previous page of results.\n   * @param order\n   */\n  async getEntities(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities{?fields,limit,filter*,offset,after,order*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Search for entities by a given query.\n   * @param fields Restrict to just these fields in the response.\n   * @param limit Number of records to return in the response.\n   * @param orderField The fields to sort returned results by.\n   * @param cursor Cursor to a set page of results.\n   * @param filter Filter for just the entities defined by this filter.\n   * @param fullTextFilterTerm Text search term.\n   * @param fullTextFilterFields A comma separated list of fields to sort returned results by.\n   */\n  async getEntitiesByQuery(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-query{?fields,limit,offset,orderField*,cursor,filter*,fullTextFilterTerm,fullTextFilterFields}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a batch set of entities given an array of entityRefs.\n   * @param getEntitiesByRefsRequest\n   */\n  async getEntitiesByRefs(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-refs/{?filter*}`;\n    const uri = parser.parse(uriTemplate).expand({ ...request.query });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Get an entity's ancestry by entity ref.\n   * @param kind\n   * @param namespace\n   * @param name\n   */\n  async getEntityAncestryByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}/ancestry`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get an entity by an entity ref.\n   * @param kind\n   * @param namespace\n   * @param name\n   */\n  async getEntityByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a single entity by the UID.\n   * @param uid\n   */\n  async getEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all entity facets that match the given filters.\n   * @param facet\n   * @param filter Filter for just the entities defined by this filter.\n   */\n  async getEntityFacets(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entity-facets{?facet*,filter*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a location by id.\n   * @param id\n   */\n  async getLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a location for entity.\n   * @param kind\n   * @param namespace\n   * @param name\n   */\n  async getLocationByEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/by-entity/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all locations\n   */\n  async getLocations(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Refresh the entity related to entityRef.\n   * @param refreshEntityRequest\n   */\n  async refreshEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/refresh`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Validate that a passed in entity has no errors in schema.\n   * @param validateEntityRequest\n   */\n  async validateEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/validate-entity`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n}\n\nexport { DefaultApiClient };\n//# sourceMappingURL=DefaultApi.client.esm.js.map\n","import { parseEntityRef, stringifyLocationRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport { CATALOG_FILTER_EXISTS } from './types/api.esm.js';\nimport { isQueryEntitiesInitialRequest } from './utils.esm.js';\nimport { DefaultApiClient } from './generated/apis/DefaultApi.client.esm.js';\n\nclass CatalogClient {\n  apiClient;\n  constructor(options) {\n    this.apiClient = new DefaultApiClient(options);\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityAncestors}\n   */\n  async getEntityAncestors(request, options) {\n    return await this.requestRequired(\n      await this.apiClient.getEntityAncestryByName(\n        { path: parseEntityRef(request.entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationById}\n   */\n  async getLocationById(id, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByEntity}\n   */\n  async getLocationByEntity(entityRef, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocationByEntity(\n        { path: parseEntityRef(entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntities}\n   */\n  async getEntities(request, options) {\n    const {\n      filter = [],\n      fields = [],\n      order,\n      offset,\n      limit,\n      after\n    } = request ?? {};\n    const encodedOrder = [];\n    if (order) {\n      for (const directive of [order].flat()) {\n        if (directive) {\n          encodedOrder.push(`${directive.order}:${directive.field}`);\n        }\n      }\n    }\n    const entities = await this.requestRequired(\n      await this.apiClient.getEntities(\n        {\n          query: {\n            fields,\n            limit,\n            filter: this.getFilterValue(filter),\n            offset,\n            after,\n            order: order ? encodedOrder : void 0\n          }\n        },\n        options\n      )\n    );\n    return { items: entities };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntitiesByRefs}\n   */\n  async getEntitiesByRefs(request, options) {\n    const response = await this.apiClient.getEntitiesByRefs(\n      {\n        body: {\n          entityRefs: request.entityRefs,\n          fields: request.fields\n        },\n        query: {\n          filter: this.getFilterValue(request.filter)\n        }\n      },\n      options\n    );\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { items } = await response.json();\n    return { items: items.map((i) => i ?? void 0) };\n  }\n  /**\n   * {@inheritdoc CatalogApi.queryEntities}\n   */\n  async queryEntities(request = {}, options) {\n    const params = {};\n    if (isQueryEntitiesInitialRequest(request)) {\n      const {\n        fields = [],\n        filter,\n        limit,\n        offset,\n        orderFields,\n        fullTextFilter\n      } = request;\n      params.filter = this.getFilterValue(filter);\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (offset !== void 0) {\n        params.offset = offset;\n      }\n      if (orderFields !== void 0) {\n        params.orderField = (Array.isArray(orderFields) ? orderFields : [orderFields]).map(({ field, order }) => `${field},${order}`);\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n      const normalizedFullTextFilterTerm = fullTextFilter?.term?.trim();\n      if (normalizedFullTextFilterTerm) {\n        params.fullTextFilterTerm = normalizedFullTextFilterTerm;\n      }\n      if (fullTextFilter?.fields?.length) {\n        params.fullTextFilterFields = fullTextFilter.fields;\n      }\n    } else {\n      const { fields = [], limit, cursor } = request;\n      params.cursor = cursor;\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n    }\n    return this.apiClient.getEntitiesByQuery({ query: params }, options).then((r) => r.json());\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityByRef}\n   */\n  async getEntityByRef(entityRef, options) {\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        {\n          path: parseEntityRef(entityRef)\n        },\n        options\n      )\n    );\n  }\n  // NOTE(freben): When we deprecate getEntityByName from the interface, we may\n  // still want to leave this implementation in place for quite some time\n  // longer, to minimize the risk for breakages. Suggested date for removal:\n  // August 2022\n  /**\n   * @deprecated Use getEntityByRef instead\n   */\n  async getEntityByName(compoundName, options) {\n    const { kind, namespace = \"default\", name } = compoundName;\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        { path: { kind, namespace, name } },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.refreshEntity}\n   */\n  async refreshEntity(entityRef, options) {\n    const response = await this.apiClient.refreshEntity(\n      { body: { entityRef } },\n      options\n    );\n    if (response.status !== 200) {\n      throw new Error(await response.text());\n    }\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityFacets}\n   */\n  async getEntityFacets(request, options) {\n    const { filter = [], facets } = request;\n    return await this.requestOptional(\n      await this.apiClient.getEntityFacets(\n        {\n          query: { facet: facets, filter: this.getFilterValue(filter) }\n        },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.addLocation}\n   */\n  async addLocation(request, options) {\n    const { type = \"url\", target, dryRun } = request;\n    const response = await this.apiClient.createLocation(\n      {\n        body: { type, target },\n        query: { dryRun: dryRun ? \"true\" : void 0 }\n      },\n      options\n    );\n    if (response.status !== 201) {\n      throw new Error(await response.text());\n    }\n    const { location, entities, exists } = await response.json();\n    if (!location) {\n      throw new Error(`Location wasn't added: ${target}`);\n    }\n    return {\n      location,\n      entities,\n      exists\n    };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByRef}\n   */\n  async getLocationByRef(locationRef, options) {\n    const all = await this.requestRequired(\n      await this.apiClient.getLocations({}, options)\n    );\n    return all.map((r) => r.data).find((l) => locationRef === stringifyLocationRef(l));\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeLocationById}\n   */\n  async removeLocationById(id, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeEntityByUid}\n   */\n  async removeEntityByUid(uid, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteEntityByUid({ path: { uid } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.validateEntity}\n   */\n  async validateEntity(entity, locationRef, options) {\n    const response = await this.apiClient.validateEntity(\n      { body: { entity, location: locationRef } },\n      options\n    );\n    if (response.ok) {\n      return {\n        valid: true\n      };\n    }\n    if (response.status !== 400) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { errors = [] } = await response.json();\n    return {\n      valid: false,\n      errors\n    };\n  }\n  //\n  // Private methods\n  //\n  async requestIgnored(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  async requestRequired(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  async requestOptional(response) {\n    if (!response.ok) {\n      if (response.status === 404) {\n        return void 0;\n      }\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  getFilterValue(filter = []) {\n    const filters = [];\n    for (const filterItem of [filter].flat()) {\n      const filterParts = [];\n      for (const [key, value] of Object.entries(filterItem)) {\n        for (const v of [value].flat()) {\n          if (v === CATALOG_FILTER_EXISTS) {\n            filterParts.push(key);\n          } else if (typeof v === \"string\") {\n            filterParts.push(`${key}=${v}`);\n          }\n        }\n      }\n      if (filterParts.length) {\n        filters.push(filterParts.join(\",\"));\n      }\n    }\n    return filters;\n  }\n}\n\nexport { CatalogClient };\n//# sourceMappingURL=CatalogClient.esm.js.map\n","function durationToMilliseconds(duration) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0,\n    milliseconds = 0\n  } = duration;\n  const totalDays = years * 365 + months * 30 + weeks * 7 + days;\n  const totalHours = totalDays * 24 + hours;\n  const totalMinutes = totalHours * 60 + minutes;\n  const totalSeconds = totalMinutes * 60 + seconds;\n  const totalMilliseconds = totalSeconds * 1e3 + milliseconds;\n  return totalMilliseconds;\n}\n\nexport { durationToMilliseconds };\n//# sourceMappingURL=index.esm.js.map\n","import { defaultEntityPresentation } from '@backstage/plugin-catalog-react';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport FeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonIcon from '@material-ui/icons/Person';\nimport StorageIcon from '@material-ui/icons/Storage';\n\nconst DEFAULT_CACHE_TTL = { seconds: 10 };\nconst DEFAULT_BATCH_DELAY = { milliseconds: 50 };\nconst DEFAULT_ICONS = {\n  api: ExtensionIcon,\n  component: MemoryIcon,\n  system: CategoryIcon,\n  resource: StorageIcon,\n  domain: ApartmentIcon,\n  location: LocationOnIcon,\n  user: PersonIcon,\n  group: PeopleIcon,\n  template: FeaturedPlayListIcon\n};\nfunction createDefaultRenderer(options) {\n  return {\n    async: options.async,\n    render: ({ entityRef, entity, context }) => {\n      const presentation = defaultEntityPresentation(\n        entity || entityRef,\n        context\n      );\n      return {\n        snapshot: presentation,\n        loadEntity: options.async\n      };\n    }\n  };\n}\n\nexport { DEFAULT_BATCH_DELAY, DEFAULT_CACHE_TTL, DEFAULT_ICONS, createDefaultRenderer };\n//# sourceMappingURL=defaults.esm.js.map\n","import { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { durationToMilliseconds } from '@backstage/types';\nimport DataLoader from 'dataloader';\nimport ExpiryMap from 'expiry-map';\nimport ObservableImpl from 'zen-observable';\nimport { createDefaultRenderer, DEFAULT_CACHE_TTL, DEFAULT_BATCH_DELAY, DEFAULT_ICONS } from './defaults.esm.js';\n\nclass DefaultEntityPresentationApi {\n  /**\n   * Creates a new presentation API that does not reach out to the catalog.\n   */\n  static createLocal() {\n    return new DefaultEntityPresentationApi({\n      renderer: createDefaultRenderer({ async: false })\n    });\n  }\n  /**\n   * Creates a new presentation API that calls out to the catalog as needed to\n   * get additional information about entities.\n   */\n  static create(options) {\n    return new DefaultEntityPresentationApi(options);\n  }\n  // This cache holds on to all entity data ever loaded, no matter how old. Each\n  // entry is tagged with a timestamp of when it was inserted. We use this map\n  // to be able to always render SOME data even though the information is old.\n  // Entities change very rarely, so it's likely that the rendered information\n  // was perfectly fine in the first place.\n  #cache;\n  #cacheTtlMs;\n  #loader;\n  #kindIcons;\n  // lowercased kinds\n  #renderer;\n  constructor(options) {\n    const cacheTtl = options.cacheTtl ?? DEFAULT_CACHE_TTL;\n    const batchDelay = options.batchDelay ?? DEFAULT_BATCH_DELAY;\n    const renderer = options.renderer ?? createDefaultRenderer({ async: true });\n    const kindIcons = {};\n    Object.entries(DEFAULT_ICONS).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    Object.entries(options.kindIcons ?? {}).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    if (renderer.async) {\n      if (!options.catalogApi) {\n        throw new TypeError(`Asynchronous rendering requires a catalog API`);\n      }\n      this.#loader = this.#createLoader({\n        cacheTtl,\n        batchDelay,\n        renderer,\n        catalogApi: options.catalogApi\n      });\n    }\n    this.#cacheTtlMs = durationToMilliseconds(cacheTtl);\n    this.#cache = /* @__PURE__ */ new Map();\n    this.#kindIcons = kindIcons;\n    this.#renderer = renderer;\n  }\n  /** {@inheritdoc @backstage/plugin-catalog-react#EntityPresentationApi.forEntity} */\n  forEntity(entityOrRef, context) {\n    const { entityRef, kind, entity, needsLoad } = this.#getEntityForInitialRender(entityOrRef);\n    const render = (options) => {\n      const { snapshot } = this.#renderer.render({\n        entityRef,\n        loading: options.loading,\n        entity: options.entity,\n        context: context || {}\n      });\n      return {\n        ...snapshot,\n        entityRef,\n        Icon: this.#maybeFallbackIcon(snapshot.Icon, kind)\n      };\n    };\n    let initialSnapshot;\n    try {\n      initialSnapshot = render({\n        loading: needsLoad,\n        entity\n      });\n    } catch {\n      initialSnapshot = {\n        primaryTitle: entityRef,\n        entityRef\n      };\n    }\n    if (!needsLoad) {\n      return {\n        snapshot: initialSnapshot,\n        promise: Promise.resolve(initialSnapshot)\n      };\n    }\n    const maybeUpdatedSnapshot = Promise.resolve().then(() => {\n      return this.#loader?.load(entityRef);\n    }).then((newEntity) => {\n      return render({\n        loading: false,\n        entity: newEntity ?? entity\n      });\n    }).catch(() => {\n      return void 0;\n    });\n    const observable = new ObservableImpl(\n      (subscriber) => {\n        let aborted = false;\n        maybeUpdatedSnapshot.then((updatedSnapshot) => {\n          if (updatedSnapshot) {\n            subscriber.next(updatedSnapshot);\n          }\n        }).finally(() => {\n          if (!aborted) {\n            subscriber.complete();\n          }\n        });\n        return () => {\n          aborted = true;\n        };\n      }\n    );\n    const promise = maybeUpdatedSnapshot.then((updatedSnapshot) => {\n      return updatedSnapshot ?? initialSnapshot;\n    });\n    return {\n      snapshot: initialSnapshot,\n      update$: observable,\n      promise\n    };\n  }\n  #getEntityForInitialRender(entityOrRef) {\n    if (typeof entityOrRef !== \"string\") {\n      return {\n        entity: entityOrRef,\n        kind: entityOrRef.kind,\n        entityRef: stringifyEntityRef(entityOrRef),\n        needsLoad: false\n      };\n    }\n    const cached = this.#cache.get(entityOrRef);\n    const cachedEntity = cached?.entity;\n    const cacheNeedsUpdate = !cached || Date.now() - cached.updatedAt > this.#cacheTtlMs;\n    const needsLoad = cacheNeedsUpdate && this.#renderer.async !== false && this.#loader !== void 0;\n    return {\n      entity: cachedEntity,\n      kind: parseEntityRef(entityOrRef).kind,\n      entityRef: entityOrRef,\n      needsLoad\n    };\n  }\n  #createLoader(options) {\n    const cacheTtlMs = durationToMilliseconds(options.cacheTtl);\n    const batchDelayMs = durationToMilliseconds(options.batchDelay);\n    return new DataLoader(\n      async (entityRefs) => {\n        const { items } = await options.catalogApi.getEntitiesByRefs({\n          entityRefs,\n          fields: [\n            \"kind\",\n            \"metadata.name\",\n            \"metadata.namespace\",\n            \"metadata.title\",\n            \"metadata.description\",\n            \"spec.profile.displayName\",\n            \"spec.type\"\n          ]\n        });\n        const now = Date.now();\n        entityRefs.forEach((entityRef, index) => {\n          this.#cache.set(entityRef, {\n            updatedAt: now,\n            entity: items[index]\n          });\n        });\n        return items;\n      },\n      {\n        name: \"DefaultEntityPresentationApi\",\n        // This cache is the one that the data loader uses internally for\n        // memoizing requests; essentially what it achieves is that multiple\n        // requests for the same entity ref will be batched up into a single\n        // request and then the resulting promises are held on to. We put an\n        // expiring map here, which makes it so that it re-fetches data with the\n        // expiry cadence of that map. Otherwise it would only fetch a given ref\n        // once and then never try again. This cache does therefore not fulfill\n        // the same purpose as the one that is in the root of the class.\n        cacheMap: new ExpiryMap(cacheTtlMs),\n        maxBatchSize: 100,\n        batchScheduleFn: batchDelayMs ? (cb) => setTimeout(cb, batchDelayMs) : void 0\n      }\n    );\n  }\n  #maybeFallbackIcon(renderedIcon, kind) {\n    if (renderedIcon) {\n      return renderedIcon;\n    } else if (renderedIcon === false) {\n      return false;\n    }\n    return this.#kindIcons[kind.toLocaleLowerCase(\"en-US\")];\n  }\n}\n\nexport { DefaultEntityPresentationApi };\n//# sourceMappingURL=DefaultEntityPresentationApi.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { isArray, isString } from 'lodash';\n\nasync function performMigrationToTheNewBucket({\n  storageApi\n}) {\n  const source = storageApi.forBucket(\"settings\");\n  const target = storageApi.forBucket(\"starredEntities\");\n  const oldStarredEntities = source.snapshot(\"starredEntities\").value;\n  if (!isArray(oldStarredEntities)) {\n    return;\n  }\n  const targetEntities = new Set(\n    target.snapshot(\"entityRefs\").value ?? []\n  );\n  oldStarredEntities.filter(isString).map((old) => old.split(\":\")).filter((split) => split.length === 4 && split[0] === \"entity\").map(\n    ([_, kind, namespace, name]) => stringifyEntityRef({ kind, namespace, name })\n  ).forEach((e) => targetEntities.add(e));\n  await target.set(\"entityRefs\", Array.from(targetEntities));\n  await source.remove(\"starredEntities\");\n}\n\nexport { performMigrationToTheNewBucket };\n//# sourceMappingURL=migration.esm.js.map\n","import ObservableImpl from 'zen-observable';\nimport { performMigrationToTheNewBucket } from './migration.esm.js';\n\nclass DefaultStarredEntitiesApi {\n  settingsStore;\n  starredEntities;\n  constructor(opts) {\n    performMigrationToTheNewBucket(opts).then();\n    this.settingsStore = opts.storageApi.forBucket(\"starredEntities\");\n    this.starredEntities = new Set(\n      this.settingsStore.snapshot(\"entityRefs\").value ?? []\n    );\n    this.settingsStore.observe$(\"entityRefs\").subscribe({\n      next: (next) => {\n        this.starredEntities = new Set(next.value ?? []);\n        this.notifyChanges();\n      }\n    });\n  }\n  async toggleStarred(entityRef) {\n    if (this.starredEntities.has(entityRef)) {\n      this.starredEntities.delete(entityRef);\n    } else {\n      this.starredEntities.add(entityRef);\n    }\n    await this.settingsStore.set(\n      \"entityRefs\",\n      Array.from(this.starredEntities)\n    );\n  }\n  starredEntitie$() {\n    return this.observable;\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    subscriber.next(new Set(this.starredEntities));\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  notifyChanges() {\n    for (const subscription of this.subscribers) {\n      subscription.next(new Set(this.starredEntities));\n    }\n  }\n}\n\nexport { DefaultStarredEntitiesApi };\n//# sourceMappingURL=DefaultStarredEntitiesApi.esm.js.map\n","import { CatalogClient } from '@backstage/catalog-client';\nimport { catalogApiRef, starredEntitiesApiRef, entityPresentationApiRef, entityRouteRef } from '@backstage/plugin-catalog-react';\nimport { rootRouteRef, createComponentRouteRef, viewTechDocRouteRef, createFromTemplateRouteRef, unregisterRedirectRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, storageApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\nimport { DefaultEntityPresentationApi } from './apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js';\nimport { DefaultStarredEntitiesApi } from './apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js';\n\nconst catalogPlugin = createPlugin({\n  id: \"catalog\",\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ discoveryApi, fetchApi }) => new CatalogClient({ discoveryApi, fetchApi })\n    }),\n    createApiFactory({\n      api: starredEntitiesApiRef,\n      deps: { storageApi: storageApiRef },\n      factory: ({ storageApi }) => new DefaultStarredEntitiesApi({ storageApi })\n    }),\n    createApiFactory({\n      api: entityPresentationApiRef,\n      deps: { catalogApi: catalogApiRef },\n      factory: ({ catalogApi }) => DefaultEntityPresentationApi.create({ catalogApi })\n    })\n  ],\n  routes: {\n    catalogIndex: rootRouteRef,\n    catalogEntity: entityRouteRef\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef,\n    createFromTemplate: createFromTemplateRouteRef,\n    unregisterRedirect: unregisterRedirectRouteRef\n  }\n});\nconst CatalogIndexPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogIndexPage\",\n    component: () => import('./components/CatalogPage/index.esm.js').then((m) => m.CatalogPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst CatalogEntityPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogEntityPage\",\n    component: () => import('./components/CatalogEntityPage/index.esm.js').then((m) => m.CatalogEntityPage),\n    mountPoint: entityRouteRef\n  })\n);\nconst EntityAboutCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityAboutCard\",\n    component: {\n      lazy: () => import('./components/AboutCard/index.esm.js').then((m) => m.AboutCard)\n    }\n  })\n);\nconst EntityLinksCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLinksCard\",\n    component: {\n      lazy: () => import('./components/EntityLinksCard/index.esm.js').then((m) => m.EntityLinksCard)\n    }\n  })\n);\nconst EntityLabelsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLabelsCard\",\n    component: {\n      lazy: () => import('./components/EntityLabelsCard/index.esm.js').then((m) => m.EntityLabelsCard)\n    }\n  })\n);\nconst EntityHasSystemsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSystemsCard\",\n    component: {\n      lazy: () => import('./components/HasSystemsCard/index.esm.js').then((m) => m.HasSystemsCard)\n    }\n  })\n);\nconst EntityHasComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasComponentsCard\",\n    component: {\n      lazy: () => import('./components/HasComponentsCard/index.esm.js').then((m) => m.HasComponentsCard)\n    }\n  })\n);\nconst EntityHasSubcomponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubcomponentsCard\",\n    component: {\n      lazy: () => import('./components/HasSubcomponentsCard/index.esm.js').then(\n        (m) => m.HasSubcomponentsCard\n      )\n    }\n  })\n);\nconst EntityHasSubdomainsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubdomainsCard\",\n    component: {\n      lazy: () => import('./components/HasSubdomainsCard/index.esm.js').then((m) => m.HasSubdomainsCard)\n    }\n  })\n);\nconst EntityHasResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasResourcesCard\",\n    component: {\n      lazy: () => import('./components/HasResourcesCard/index.esm.js').then((m) => m.HasResourcesCard)\n    }\n  })\n);\nconst EntityDependsOnComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependsOnComponentsCard/index.esm.js').then(\n        (m) => m.DependsOnComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependencyOfComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependencyOfComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependencyOfComponentsCard/index.esm.js').then(\n        (m) => m.DependencyOfComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependsOnResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnResourcesCard\",\n    component: {\n      lazy: () => import('./components/DependsOnResourcesCard/index.esm.js').then(\n        (m) => m.DependsOnResourcesCard\n      )\n    }\n  })\n);\nconst RelatedEntitiesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"RelatedEntitiesCard\",\n    component: {\n      lazy: () => import('./components/RelatedEntitiesCard/index.esm.js').then(\n        (m) => m.RelatedEntitiesCard\n      )\n    }\n  })\n);\nconst CatalogSearchResultListItem = catalogPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"CatalogSearchResultListItem\",\n    component: () => import('./components/CatalogSearchResultListItem/index.esm.js').then(\n      (m) => m.CatalogSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"software-catalog\"\n  })\n);\n\nexport { CatalogEntityPage, CatalogIndexPage, CatalogSearchResultListItem, EntityAboutCard, EntityDependencyOfComponentsCard, EntityDependsOnComponentsCard, EntityDependsOnResourcesCard, EntityHasComponentsCard, EntityHasResourcesCard, EntityHasSubcomponentsCard, EntityHasSubdomainsCard, EntityHasSystemsCard, EntityLabelsCard, EntityLinksCard, RelatedEntitiesCard, catalogPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createExternalRouteRef, createRouteRef } from '@backstage/core-plugin-api';\n\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true,\n  defaultTarget: \"scaffolder.createComponent\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst createFromTemplateRouteRef = createExternalRouteRef({\n  id: \"create-from-template\",\n  optional: true,\n  params: [\"namespace\", \"templateName\"],\n  defaultTarget: \"scaffolder.selectedTemplate\"\n});\nconst unregisterRedirectRouteRef = createExternalRouteRef({\n  id: \"catalog:unregister-redirect\",\n  optional: true\n});\nconst rootRouteRef = createRouteRef({\n  id: \"catalog\"\n});\n\nexport { createComponentRouteRef, createFromTemplateRouteRef, rootRouteRef, unregisterRedirectRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createPlugin, createComponentExtension } from '@backstage/core-plugin-api';\nimport { catalogIndexRouteRef } from './routes.esm.js';\n\nconst orgPlugin = createPlugin({\n  id: \"org\",\n  externalRoutes: {\n    catalogIndex: catalogIndexRouteRef\n  }\n});\nconst EntityGroupProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGroupProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.GroupProfileCard)\n    }\n  })\n);\nconst EntityMembersListCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityMembersListCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.MembersListCard)\n    }\n  })\n);\nconst EntityOwnershipCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityOwnershipCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.OwnershipCard)\n    }\n  })\n);\nconst EntityUserProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityUserProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.UserProfileCard)\n    }\n  })\n);\n\nexport { EntityGroupProfileCard, EntityMembersListCard, EntityOwnershipCard, EntityUserProfileCard, orgPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogIndexRouteRef = createExternalRouteRef({\n  id: \"catalog-index\",\n  optional: true,\n  defaultTarget: \"catalog.catalogIndex\"\n});\n\nexport { catalogIndexRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","function createPermission({\n  name,\n  attributes,\n  resourceType\n}) {\n  if (resourceType) {\n    return {\n      type: \"resource\",\n      name,\n      attributes,\n      resourceType\n    };\n  }\n  return {\n    type: \"basic\",\n    name,\n    attributes\n  };\n}\n\nexport { createPermission };\n//# sourceMappingURL=createPermission.esm.js.map\n","function isPermission(permission, comparedPermission) {\n  return permission.name === comparedPermission.name;\n}\nfunction isResourcePermission(permission, resourceType) {\n  if (!(\"resourceType\" in permission)) {\n    return false;\n  }\n  return !resourceType || permission.resourceType === resourceType;\n}\nfunction isCreatePermission(permission) {\n  return permission.attributes.action === \"create\";\n}\nfunction isReadPermission(permission) {\n  return permission.attributes.action === \"read\";\n}\nfunction isUpdatePermission(permission) {\n  return permission.attributes.action === \"update\";\n}\nfunction isDeletePermission(permission) {\n  return permission.attributes.action === \"delete\";\n}\nfunction toPermissionEvaluator(permissionAuthorizer) {\n  return {\n    authorize: async (requests, options) => {\n      const response = await permissionAuthorizer.authorize(requests, options);\n      return response;\n    },\n    authorizeConditional(requests, options) {\n      const parsedRequests = requests;\n      return permissionAuthorizer.authorize(parsedRequests, options);\n    }\n  };\n}\n\nexport { isCreatePermission, isDeletePermission, isPermission, isReadPermission, isResourcePermission, isUpdatePermission, toPermissionEvaluator };\n//# sourceMappingURL=util.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst permissionApiRef = createApiRef({\n  id: \"plugin.permission.api\"\n});\n\nexport { permissionApiRef };\n//# sourceMappingURL=PermissionApi.esm.js.map\n","var AuthorizeResult = /* @__PURE__ */ ((AuthorizeResult2) => {\n  AuthorizeResult2[\"DENY\"] = \"DENY\";\n  AuthorizeResult2[\"ALLOW\"] = \"ALLOW\";\n  AuthorizeResult2[\"CONDITIONAL\"] = \"CONDITIONAL\";\n  return AuthorizeResult2;\n})(AuthorizeResult || {});\n\nexport { AuthorizeResult };\n//# sourceMappingURL=api.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { permissionApiRef } from '../apis/PermissionApi.esm.js';\nimport { isResourcePermission, AuthorizeResult } from '@backstage/plugin-permission-common';\nimport useSWR from 'swr';\n\nfunction usePermission(input) {\n  const permissionApi = useApi(permissionApiRef);\n  const { data, error } = useSWR(input, async (args) => {\n    if (isResourcePermission(args.permission) && !args.resourceRef) {\n      return AuthorizeResult.DENY;\n    }\n    const { result } = await permissionApi.authorize(args);\n    return result;\n  });\n  if (error) {\n    return { error, loading: false, allowed: false };\n  }\n  if (data === void 0) {\n    return { loading: true, allowed: false };\n  }\n  return { loading: false, allowed: data === AuthorizeResult.ALLOW };\n}\n\nexport { usePermission };\n//# sourceMappingURL=usePermission.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst scaffolderApiRef = createApiRef({\n  id: \"plugin.scaffolder.service\"\n});\n\nexport { scaffolderApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","const FIELD_EXTENSION_WRAPPER_KEY = \"scaffolder.extensions.wrapper.v1\";\nconst FIELD_EXTENSION_KEY = \"scaffolder.extensions.field.v1\";\n\nexport { FIELD_EXTENSION_KEY, FIELD_EXTENSION_WRAPPER_KEY };\n//# sourceMappingURL=keys.esm.js.map\n","import { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport React, { useState, useContext, useCallback } from 'react';\n\nconst SecretsContext = createVersionedContext(\"secrets-context\");\nconst SecretsContextProvider = (props) => {\n  const { initialSecrets = {} } = props;\n  const [secrets, setSecrets] = useState({\n    ...initialSecrets\n  });\n  return /* @__PURE__ */ React.createElement(\n    SecretsContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: { secrets, setSecrets } })\n    },\n    props.children\n  );\n};\nconst useTemplateSecrets = () => {\n  const value = useContext(SecretsContext)?.atVersion(1);\n  if (!value) {\n    throw new Error(\n      \"useTemplateSecrets must be used within a SecretsContextProvider\"\n    );\n  }\n  const { setSecrets: updateSecrets, secrets = {} } = value;\n  const setSecrets = useCallback(\n    (input) => {\n      updateSecrets((currentSecrets) => ({ ...currentSecrets, ...input }));\n    },\n    [updateSecrets]\n  );\n  return { setSecrets, secrets };\n};\n\nexport { SecretsContextProvider, useTemplateSecrets };\n//# sourceMappingURL=SecretsContext.esm.js.map\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityNamePickerSchema } from './schema.esm.js';\n\nconst EntityNamePicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    required,\n    schema: {\n      title = t(\"fields.entityNamePicker.title\"),\n      description = t(\"fields.entityNamePicker.description\")\n    },\n    rawErrors,\n    formData,\n    uiSchema: { \"ui:autofocus\": autoFocus },\n    idSchema,\n    placeholder\n  } = props;\n  return /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      id: idSchema?.$id,\n      label: title,\n      placeholder,\n      helperText: description,\n      required,\n      value: formData ?? \"\",\n      onChange: ({ target: { value } }) => onChange(value),\n      margin: \"normal\",\n      error: rawErrors?.length > 0 && !formData,\n      inputProps: { autoFocus },\n      FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n    }\n  );\n};\n\nexport { EntityNamePicker };\n//# sourceMappingURL=EntityNamePicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst EntityNamePickerFieldSchema = makeFieldSchemaFromZod(z.string());\nconst EntityNamePickerSchema = EntityNamePickerFieldSchema.schema;\n\nexport { EntityNamePickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { KubernetesValidatorFunctions } from '@backstage/catalog-model';\n\nconst entityNamePickerValidation = (value, validation) => {\n  if (!KubernetesValidatorFunctions.isValidObjectName(value)) {\n    validation.addError(\n      \"Must start and end with an alphanumeric character, and contain only alphanumeric characters, hyphens, underscores, and periods. Maximum length is 63 characters.\"\n    );\n  }\n};\n\nexport { entityNamePickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport React, { useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityPickerSchema } from './schema.esm.js';\n\nconst EntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    schema: {\n      title = t(\"fields.entityPicker.title\"),\n      description = t(\"fields.entityPicker.description\")\n    },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const fields = [\n      \"metadata.name\",\n      \"metadata.namespace\",\n      \"metadata.title\",\n      \"kind\"\n    ];\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter, fields } : { filter: void 0, fields }\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const getLabel = useCallback(\n    (freeSoloValue) => {\n      try {\n        const parsedRef = parseEntityRef(freeSoloValue, {\n          defaultKind,\n          defaultNamespace\n        });\n        return stringifyEntityRef(parsedRef);\n      } catch (err) {\n        return freeSoloValue;\n      }\n    },\n    [defaultKind, defaultNamespace]\n  );\n  const onSelect = useCallback(\n    (_, ref, reason) => {\n      if (typeof ref !== \"string\") {\n        onChange(ref ? stringifyEntityRef(ref) : void 0);\n      } else {\n        if (reason === \"blur\" || reason === \"create-option\") {\n          let entityRef = ref;\n          try {\n            entityRef = stringifyEntityRef(\n              parseEntityRef(ref, {\n                defaultKind,\n                defaultNamespace\n              })\n            );\n          } catch (err) {\n          }\n          if (formData !== ref || allowArbitraryValues) {\n            onChange(entityRef);\n          }\n        }\n      }\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  const selectedEntity = entities?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) ?? (allowArbitraryValues && formData ? getLabel(formData) : \"\");\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.catalogEntities.length === 1 && selectedEntity === \"\") {\n      onChange(stringifyEntityRef(entities.catalogEntities[0]));\n    }\n  }, [entities, onChange, selectedEntity, required, allowArbitraryValues]);\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !formData\n    },\n    /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        disabled: required && !allowArbitraryValues && entities?.catalogEntities.length === 1,\n        id: idSchema?.$id,\n        value: selectedEntity,\n        loading,\n        onChange: onSelect,\n        options: entities?.catalogEntities || [],\n        getOptionLabel: (option) => (\n          // option can be a string due to freeSolo.\n          typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n        ),\n        autoSelect: true,\n        freeSolo: allowArbitraryValues,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: title,\n            margin: \"dense\",\n            helperText: description,\n            FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n            variant: \"outlined\",\n            required,\n            InputProps: params.InputProps\n          }\n        ),\n        renderOption: (option) => /* @__PURE__ */ React.createElement(EntityDisplayName, { entityRef: option }),\n        filterOptions: createFilterOptions({\n          stringify: (option) => entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n        }),\n        ListboxComponent: VirtualizedListbox\n      }\n    )\n  );\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || allowedKinds && { kind: allowedKinds };\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { EntityPicker };\n//# sourceMappingURL=EntityPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst entityQueryFilterExpressionSchema = z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst EntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from\"\n    ),\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst EntityPickerSchema = EntityPickerFieldSchema.schema;\n\nexport { EntityPickerFieldSchema, EntityPickerSchema, entityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { KubernetesValidatorFunctions } from './KubernetesValidatorFunctions.esm.js';\n\nconst defaultValidators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: (value) => {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9:+#]+(\\-[a-z0-9:+#]+)*$/.test(value);\n  }\n};\nfunction makeValidator(overrides = {}) {\n  return {\n    ...defaultValidators,\n    ...overrides\n  };\n}\n\nexport { makeValidator };\n//# sourceMappingURL=makeValidator.esm.js.map\n","import React, { useState } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { makeValidator } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityTagsPickerSchema } from './schema.esm.js';\n\nconst EntityTagsPicker = (props) => {\n  const { formData, onChange, uiSchema } = props;\n  const catalogApi = useApi(catalogApiRef);\n  const [tagOptions, setTagOptions] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [inputError, setInputError] = useState(false);\n  const tagValidator = makeValidator().isValidTag;\n  const kinds = uiSchema[\"ui:options\"]?.kinds;\n  const showCounts = uiSchema[\"ui:options\"]?.showCounts;\n  const helperText = uiSchema[\"ui:options\"]?.helperText;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { loading, value: existingTags } = useAsync(async () => {\n    const facet = \"metadata.tags\";\n    const tagsRequest = { facets: [facet] };\n    if (kinds) {\n      tagsRequest.filter = { kind: kinds };\n    }\n    const { facets } = await catalogApi.getEntityFacets(tagsRequest);\n    const tagFacets = Object.fromEntries(\n      facets[facet].map(({ value, count }) => [value, count])\n    );\n    setTagOptions(\n      Object.keys(tagFacets).sort(\n        (a, b) => showCounts ? tagFacets[b] - tagFacets[a] : a.localeCompare(b)\n      )\n    );\n    return tagFacets;\n  });\n  const setTags = (_, values) => {\n    let hasError = false;\n    let addDuplicate = false;\n    const currentTags = formData || [];\n    if (values?.length && currentTags.length < values.length) {\n      const newTag = values[values.length - 1] = values[values.length - 1].toLocaleLowerCase(\"en-US\").trim();\n      hasError = !tagValidator(newTag);\n      addDuplicate = currentTags.indexOf(newTag) !== -1;\n    }\n    setInputError(hasError);\n    setInputValue(!hasError ? \"\" : inputValue);\n    if (!hasError && !addDuplicate) {\n      onChange(values || []);\n    }\n  };\n  useEffectOnce(() => onChange(formData || []));\n  return /* @__PURE__ */ React.createElement(FormControl, { margin: \"normal\" }, /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      multiple: true,\n      freeSolo: true,\n      filterSelectedOptions: true,\n      onChange: setTags,\n      value: formData || [],\n      inputValue,\n      loading,\n      options: tagOptions,\n      ChipProps: { size: \"small\" },\n      renderOption: (option) => showCounts ? `${option} (${existingTags?.[option]})` : option,\n      renderInput: (params) => /* @__PURE__ */ React.createElement(\n        TextField,\n        {\n          ...params,\n          label: t(\"fields.entityTagsPicker.title\"),\n          onChange: (e) => setInputValue(e.target.value),\n          error: inputError,\n          helperText: helperText ?? t(\"fields.entityTagsPicker.description\"),\n          FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n        }\n      )\n    }\n  ));\n};\n\nexport { EntityTagsPicker };\n//# sourceMappingURL=EntityTagsPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst EntityTagsPickerFieldSchema = makeFieldSchemaFromZod(\n  z.array(z.string()),\n  z.object({\n    kinds: z.array(z.string()).optional().describe(\"List of kinds of entities to derive tags from\"),\n    showCounts: z.boolean().optional().describe(\"Whether to show usage counts per tag\"),\n    helperText: z.string().optional().describe(\"Helper text to display\")\n  })\n);\nconst EntityTagsPickerSchema = EntityTagsPickerFieldSchema.schema;\n\nexport { EntityTagsPickerFieldSchema, EntityTagsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nexport { MultiEntityPickerSchema } from './schema.esm.js';\n\nconst MultiEntityPicker = (props) => {\n  const {\n    onChange,\n    schema: { title = \"Entity\", description = \"An entity from the catalog\" },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const [noOfItemsSelected, setNoOfItemsSelected] = useState(0);\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter } : void 0\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { entities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const maxItems = props.schema.maxItems;\n  const onSelect = useCallback(\n    (_, refs, reason) => {\n      const values = refs.map((ref) => {\n        if (typeof ref !== \"string\") {\n          return ref ? stringifyEntityRef(ref) : void 0;\n        }\n        if (reason === \"blur\" || reason === \"create-option\") {\n          let entityRef = ref;\n          try {\n            entityRef = stringifyEntityRef(\n              parseEntityRef(ref, {\n                defaultKind,\n                defaultNamespace\n              })\n            );\n          } catch (err) {\n          }\n          if (formData?.includes(ref) || allowArbitraryValues) {\n            return entityRef;\n          }\n        }\n        return void 0;\n      }).filter((ref) => ref !== void 0);\n      setNoOfItemsSelected(values.length);\n      onChange(values);\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.entities?.length === 1) {\n      onChange([stringifyEntityRef(entities?.entities[0])]);\n    }\n  }, [entities, onChange, required, allowArbitraryValues]);\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !formData\n    },\n    /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        multiple: true,\n        filterSelectedOptions: true,\n        disabled: required && !allowArbitraryValues && entities?.entities?.length === 1,\n        id: idSchema?.$id,\n        defaultValue: formData,\n        loading,\n        onChange: onSelect,\n        options: entities?.entities || [],\n        renderOption: (option) => /* @__PURE__ */ React.createElement(EntityDisplayName, { entityRef: option }),\n        getOptionLabel: (option) => (\n          // option can be a string due to freeSolo.\n          typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n        ),\n        getOptionDisabled: (_options) => maxItems ? noOfItemsSelected >= maxItems : false,\n        autoSelect: true,\n        freeSolo: allowArbitraryValues,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: title,\n            margin: \"dense\",\n            helperText: description,\n            FormHelperTextProps: {\n              margin: \"dense\",\n              style: { marginLeft: 0 }\n            },\n            variant: \"outlined\",\n            required,\n            InputProps: {\n              ...params.InputProps,\n              required: formData?.length === 0 && required\n            }\n          }\n        ),\n        ListboxComponent: VirtualizedListbox\n      }\n    )\n  );\n};\nconst validateMultiEntityPickerValidation = (values, validation) => {\n  values.forEach((value) => {\n    try {\n      parseEntityRef(value);\n    } catch {\n      validation.addError(`${value} is not a valid entity ref`);\n    }\n  });\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter;\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { MultiEntityPicker, validateMultiEntityPickerValidation };\n//# sourceMappingURL=MultiEntityPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst entityQueryFilterExpressionSchema = z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst MultiEntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.array(z.string()),\n  z.object({\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst MultiEntityPickerSchema = MultiEntityPickerFieldSchema.schema;\n\nexport { MultiEntityPickerFieldSchema, MultiEntityPickerSchema, entityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import React, { useEffect } from 'react';\nimport { useApi, identityApiRef, errorApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nexport { MyGroupsPickerSchema } from './schema.esm.js';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport { NotFoundError } from '@backstage/errors';\nimport useAsync from 'react-use/esm/useAsync';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst MyGroupsPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.myGroupsPicker.title\"),\n      description = t(\"fields.myGroupsPicker.description\")\n    },\n    required,\n    rawErrors,\n    onChange,\n    formData\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const errorApi = useApi(errorApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: groups, loading } = useAsync(async () => {\n    const { userEntityRef } = await identityApi.getBackstageIdentity();\n    if (!userEntityRef) {\n      errorApi.post(new NotFoundError(\"No user entity ref found\"));\n      return { catalogEntities: [], entityRefToPresentation: /* @__PURE__ */ new Map() };\n    }\n    const { items } = await catalogApi.getEntities({\n      filter: {\n        kind: \"Group\",\n        [\"relations.hasMember\"]: [userEntityRef]\n      }\n    });\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const updateChange = (_, value) => {\n    onChange(value ? stringifyEntityRef(value) : \"\");\n  };\n  const selectedEntity = groups?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) || null;\n  useEffect(() => {\n    if (required && groups?.catalogEntities.length === 1 && !selectedEntity) {\n      onChange(stringifyEntityRef(groups.catalogEntities[0]));\n    }\n  }, [groups, onChange, selectedEntity, required]);\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0\n    },\n    /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        disabled: required && groups?.catalogEntities.length === 1,\n        id: \"OwnershipEntityRefPicker-dropdown\",\n        options: groups?.catalogEntities || [],\n        value: selectedEntity,\n        loading,\n        onChange: updateChange,\n        getOptionLabel: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle,\n        autoSelect: true,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: title,\n            margin: \"dense\",\n            helperText: description,\n            FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n            variant: \"outlined\",\n            required,\n            InputProps: params.InputProps\n          }\n        ),\n        renderOption: (option) => /* @__PURE__ */ React.createElement(EntityDisplayName, { entityRef: option }),\n        filterOptions: createFilterOptions({\n          stringify: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n        }),\n        ListboxComponent: VirtualizedListbox\n      }\n    )\n  );\n};\n\nexport { MyGroupsPicker };\n//# sourceMappingURL=MyGroupsPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst MyGroupsPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    title: z.string().default(\"Group\").describe(\"Group\"),\n    description: z.string().default(\"A group you are part of\").describe(\"The group to which the entity belongs\")\n  })\n);\nconst MyGroupsPickerSchema = MyGroupsPickerFieldSchema.schema;\n\nexport { MyGroupsPickerFieldSchema, MyGroupsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { useApi, identityApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport React from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { OwnedEntityPickerSchema } from './schema.esm.js';\n\nconst OwnedEntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownedEntityPicker.title\"),\n      description = t(\"fields.ownedEntityPicker.description\")\n    },\n    uiSchema,\n    required\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const { loading, value: identityRefs } = useAsync(async () => {\n    const identity = await identityApi.getBackstageIdentity();\n    return identity.ownershipEntityRefs;\n  });\n  if (loading)\n    return /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        loading,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: title,\n            margin: \"dense\",\n            helperText: description,\n            FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n            variant: \"outlined\",\n            required,\n            InputProps: params.InputProps\n          }\n        ),\n        options: []\n      }\n    );\n  const entityPickerUISchema = buildEntityPickerUISchema(\n    uiSchema,\n    identityRefs\n  );\n  return /* @__PURE__ */ React.createElement(EntityPicker, { ...props, uiSchema: entityPickerUISchema });\n};\nfunction buildEntityPickerUISchema(uiSchema, identityRefs) {\n  const uiOptions = uiSchema?.[\"ui:options\"] || {};\n  const { allowedKinds, ...extraOptions } = uiOptions;\n  const catalogFilter = asArray(uiOptions.catalogFilter).map((e) => ({\n    ...e,\n    ...allowedKinds ? { kind: allowedKinds } : {},\n    [`relations.${RELATION_OWNED_BY}`]: identityRefs || []\n  }));\n  return {\n    \"ui:options\": {\n      ...extraOptions,\n      catalogFilter\n    }\n  };\n}\nfunction asArray(catalogFilter) {\n  if (catalogFilter) {\n    return Array.isArray(catalogFilter) ? catalogFilter : [catalogFilter];\n  }\n  return [{}];\n}\n\nexport { OwnedEntityPicker };\n//# sourceMappingURL=OwnedEntityPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\nimport { entityQueryFilterExpressionSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnedEntityPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    allowedKinds: z.array(z.string()).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from\"\n    ),\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst OwnedEntityPickerSchema = OwnedEntityPickerFieldSchema.schema;\n\nexport { OwnedEntityPickerFieldSchema, OwnedEntityPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import React from 'react';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { OwnerPickerSchema } from './schema.esm.js';\n\nconst OwnerPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownerPicker.title\"),\n      description = t(\"fields.ownerPicker.description\")\n    },\n    uiSchema,\n    ...restProps\n  } = props;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace;\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || {\n    kind: allowedKinds || [\"Group\", \"User\"]\n  };\n  const ownerUiSchema = {\n    ...uiSchema,\n    \"ui:options\": {\n      catalogFilter,\n      defaultKind: \"Group\",\n      allowArbitraryValues: uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true,\n      ...defaultNamespace !== void 0 ? { defaultNamespace } : {}\n    }\n  };\n  return /* @__PURE__ */ React.createElement(\n    EntityPicker,\n    {\n      ...restProps,\n      schema: { title, description },\n      uiSchema: ownerUiSchema\n    }\n  );\n};\n\nexport { OwnerPicker };\n//# sourceMappingURL=OwnerPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\nimport { entityQueryFilterExpressionSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnerPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).default([\"Group\", \"User\"]).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from. Defaults to Group and User\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n);\nconst OwnerPickerSchema = OwnerPickerFieldSchema.schema;\n\nexport { OwnerPickerFieldSchema, OwnerPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport React, { useState, useCallback } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useApi } from '@backstage/core-plugin-api';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\nconst BitbucketRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  accessToken,\n  required\n}) => {\n  const { host, workspace, repository, branch } = state;\n  const [availableBranches, setAvailableBranches] = useState([]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableBranches = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !workspace || !repository || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableBranches([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"branches\",\n      context: { workspace, repository },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableBranches(results.map((r) => r.title));\n    }).catch(() => {\n      setAvailableBranches([]);\n    });\n  }, [host, workspace, repository, accessToken, scaffolderApi]);\n  useDebounce(updateAvailableBranches, 500, [updateAvailableBranches]);\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch\n    },\n    /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        value: branch,\n        onChange: (_, newValue) => {\n          onChange({ branch: newValue || \"\" });\n        },\n        options: availableBranches,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, { ...params, label: \"Branch\", required }),\n        freeSolo: true,\n        autoSelect: true\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, \"The branch of the repository\")\n  );\n};\n\nexport { BitbucketRepoBranchPicker };\n//# sourceMappingURL=BitbucketRepoBranchPicker.esm.js.map\n","import FormControl from '@material-ui/core/FormControl';\nimport React from 'react';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\n\nconst DefaultRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  required\n}) => {\n  const { branch } = state;\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch\n    },\n    /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"branchInput\",\n        label: \"Branch\",\n        onChange: (e) => onChange({ branch: e.target.value }),\n        value: branch\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, \"The branch of the repository\")\n  );\n};\n\nexport { DefaultRepoBranchPicker };\n//# sourceMappingURL=DefaultRepoBranchPicker.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { BitbucketRepoBranchPicker } from './BitbucketRepoBranchPicker.esm.js';\nimport { DefaultRepoBranchPicker } from './DefaultRepoBranchPicker.esm.js';\n\nconst RepoBranchPicker = (props) => {\n  const {\n    uiSchema,\n    onChange,\n    rawErrors,\n    formData,\n    schema,\n    formContext,\n    required\n  } = props;\n  const {\n    formData: { repoUrl }\n  } = formContext;\n  const [state, setState] = useState({\n    branch: formData || \"\"\n  });\n  const { host, branch } = state;\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey]) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n    },\n    500,\n    [host, uiSchema]\n  );\n  useEffect(() => {\n    if (repoUrl) {\n      const url = new URL(`https://${repoUrl}`);\n      setState((prevState) => ({\n        ...prevState,\n        host: url.host,\n        workspace: url.searchParams.get(\"workspace\") || \"\",\n        repository: url.searchParams.get(\"repo\") || \"\"\n      }));\n    }\n  }, [repoUrl]);\n  useEffect(() => {\n    onChange(branch);\n  }, [branch, onChange]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  const hostType = (host && integrationApi.byHost(host)?.type) ?? null;\n  const renderRepoBranchPicker = () => {\n    switch (hostType) {\n      case \"bitbucket\":\n        return /* @__PURE__ */ React.createElement(\n          BitbucketRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey],\n            required\n          }\n        );\n      default:\n        return /* @__PURE__ */ React.createElement(\n          DefaultRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            required\n          }\n        );\n    }\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, schema.title && /* @__PURE__ */ React.createElement(Box, { my: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\" }, schema.title), /* @__PURE__ */ React.createElement(Divider, null)), schema.description && /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, schema.description), renderRepoBranchPicker());\n};\n\nexport { RepoBranchPicker };\n//# sourceMappingURL=RepoBranchPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchemaFromZod } from '../utils.esm.js';\n\nconst RepoBranchPickerFieldSchema = makeFieldSchemaFromZod(\n  z.string(),\n  z.object({\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n);\nconst RepoBranchPickerSchema = RepoBranchPickerFieldSchema.schema;\n\nexport { RepoBranchPickerFieldSchema, RepoBranchPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GithubRepoPicker = (props) => {\n  const { allowedOwners = [], rawErrors, state, onChange } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner } = state;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner\n    },\n    allowedOwners?.length ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.githubRepoPicker.owner.title\"),\n        onChange: (s) => onChange({ owner: String(Array.isArray(s) ? s[0] : s) }),\n        disabled: allowedOwners.length === 1,\n        selected: owner,\n        items: ownerItems\n      }\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.githubRepoPicker.owner.description\"))) : /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"ownerInput\",\n        label: t(\"fields.githubRepoPicker.owner.inputTitle\"),\n        onChange: (e) => onChange({ owner: e.target.value }),\n        helperText: t(\"fields.githubRepoPicker.owner.description\"),\n        value: owner\n      }\n    )\n  ));\n};\n\nexport { GithubRepoPicker };\n//# sourceMappingURL=GithubRepoPicker.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GiteaRepoPicker = (props) => {\n  const { allowedOwners = [], state, onChange, rawErrors } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner } = state;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner\n    },\n    allowedOwners?.length ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.giteaRepoPicker.owner.title\"),\n        onChange: (selected) => onChange({\n          owner: String(\n            Array.isArray(selected) ? selected[0] : selected\n          )\n        }),\n        disabled: allowedOwners.length === 1,\n        selected: owner,\n        items: ownerItems\n      }\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.giteaRepoPicker.owner.description\"))) : /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"ownerInput\",\n        label: t(\"fields.giteaRepoPicker.owner.inputTitle\"),\n        onChange: (e) => onChange({ owner: e.target.value }),\n        helperText: t(\"fields.giteaRepoPicker.owner.description\"),\n        value: owner\n      }\n    ))\n  ));\n};\n\nexport { GiteaRepoPicker };\n//# sourceMappingURL=GiteaRepoPicker.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GitlabRepoPicker = (props) => {\n  const { allowedOwners = [], state, onChange, rawErrors } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner } = state;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner\n    },\n    allowedOwners?.length ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.gitlabRepoPicker.owner.title\"),\n        onChange: (selected) => onChange({\n          owner: String(\n            Array.isArray(selected) ? selected[0] : selected\n          )\n        }),\n        disabled: allowedOwners.length === 1,\n        selected: owner,\n        items: ownerItems\n      }\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.gitlabRepoPicker.owner.description\"))) : /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"ownerInput\",\n        label: t(\"fields.gitlabRepoPicker.owner.inputTitle\"),\n        onChange: (e) => onChange({ owner: e.target.value }),\n        helperText: t(\"fields.gitlabRepoPicker.owner.description\"),\n        value: owner\n      }\n    )\n  ));\n};\n\nexport { GitlabRepoPicker };\n//# sourceMappingURL=GitlabRepoPicker.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst AzureRepoPicker = (props) => {\n  const {\n    allowedOrganizations = [],\n    allowedProject = [],\n    rawErrors,\n    state,\n    onChange\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const organizationItems = allowedOrganizations ? allowedOrganizations.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const projectItems = allowedProject ? allowedProject.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { organization, project } = state;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !organization\n    },\n    allowedOrganizations?.length ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.azureRepoPicker.organization.title\"),\n        onChange: (s) => onChange({ organization: String(Array.isArray(s) ? s[0] : s) }),\n        disabled: allowedOrganizations.length === 1,\n        selected: organization,\n        items: organizationItems\n      }\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.azureRepoPicker.organization.description\"))) : /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"orgInput\",\n        label: t(\"fields.azureRepoPicker.organization.title\"),\n        onChange: (e) => onChange({ organization: e.target.value }),\n        helperText: t(\"fields.azureRepoPicker.organization.description\"),\n        value: organization\n      }\n    )\n  ), /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !project\n    },\n    allowedProject?.length ? /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.azureRepoPicker.project.title\"),\n        onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n        disabled: allowedProject.length === 1,\n        selected: project,\n        items: projectItems\n      }\n    ), /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.azureRepoPicker.project.description\"))) : /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"projectInput\",\n        label: t(\"fields.azureRepoPicker.project.title\"),\n        onChange: (e) => onChange({ project: e.target.value }),\n        value: project,\n        helperText: t(\"fields.azureRepoPicker.project.description\")\n      }\n    )\n  ));\n};\n\nexport { AzureRepoPicker };\n//# sourceMappingURL=AzureRepoPicker.esm.js.map\n","import React, { useEffect, useState, useCallback } from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { Select } from '@backstage/core-components';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst BitbucketRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    allowedProjects = [],\n    onChange,\n    rawErrors,\n    state,\n    accessToken\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { host, workspace, project } = state;\n  const ownerItems = allowedOwners ? allowedOwners?.map((i) => ({ label: i, value: i })) : [];\n  const projectItems = allowedProjects ? allowedProjects?.map((i) => ({ label: i, value: i })) : [];\n  useEffect(() => {\n    if (host === \"bitbucket.org\" && allowedOwners.length) {\n      onChange({ workspace: allowedOwners[0] });\n    }\n  }, [allowedOwners, host, onChange]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [availableWorkspaces, setAvailableWorkspaces] = useState([]);\n  const [availableProjects, setAvailableProjects] = useState([]);\n  const updateAvailableWorkspaces = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableWorkspaces([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"workspaces\",\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableWorkspaces(results.map((r) => r.title));\n    }).catch(() => {\n      setAvailableWorkspaces([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableWorkspaces, 500, [updateAvailableWorkspaces]);\n  const updateAvailableProjects = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace) {\n      setAvailableProjects([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"projects\",\n      context: { workspace },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableProjects(results.map((r) => r.title));\n    }).catch(() => {\n      setAvailableProjects([]);\n    });\n  }, [scaffolderApi, accessToken, host, workspace]);\n  useDebounce(updateAvailableProjects, 500, [updateAvailableProjects]);\n  const updateAvailableRepositories = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace || !project) {\n      onChange({ availableRepos: [] });\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositories\",\n      context: { workspace, project },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      onChange({ availableRepos: results.map((r) => r.title) });\n    }).catch(() => {\n      onChange({ availableRepos: [] });\n    });\n  }, [scaffolderApi, accessToken, host, workspace, project, onChange]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, host === \"bitbucket.org\" && /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !workspace\n    },\n    allowedOwners?.length ? /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.bitbucketRepoPicker.workspaces.title\"),\n        onChange: (s) => onChange({ workspace: String(Array.isArray(s) ? s[0] : s) }),\n        disabled: allowedOwners.length === 1,\n        selected: workspace,\n        items: ownerItems\n      }\n    ) : /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        value: workspace,\n        onChange: (_, newValue) => {\n          onChange({ workspace: newValue || \"\" });\n        },\n        options: availableWorkspaces,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: t(\"fields.bitbucketRepoPicker.workspaces.inputTitle\"),\n            required: true\n          }\n        ),\n        freeSolo: true,\n        autoSelect: true\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.bitbucketRepoPicker.workspaces.description\"))\n  ), /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !project\n    },\n    allowedProjects?.length ? /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.bitbucketRepoPicker.project.title\"),\n        onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n        disabled: allowedProjects.length === 1,\n        selected: project,\n        items: projectItems\n      }\n    ) : /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        value: project,\n        onChange: (_, newValue) => {\n          onChange({ project: newValue || \"\" });\n        },\n        options: availableProjects,\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: t(\"fields.bitbucketRepoPicker.project.inputTitle\"),\n            required: true\n          }\n        ),\n        freeSolo: true,\n        autoSelect: true\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.bitbucketRepoPicker.project.description\"))\n  ));\n};\n\nexport { BitbucketRepoPicker };\n//# sourceMappingURL=BitbucketRepoPicker.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GerritRepoPicker = (props) => {\n  const { onChange, rawErrors, state } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { workspace, owner } = state;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(FormControl, { margin: \"normal\", error: rawErrors?.length > 0 && !workspace }, /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      id: \"ownerInput\",\n      label: t(\"fields.gerritRepoPicker.owner.title\"),\n      onChange: (e) => onChange({ owner: e.target.value }),\n      helperText: t(\"fields.gerritRepoPicker.owner.description\"),\n      value: owner\n    }\n  )), /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !workspace\n    },\n    /* @__PURE__ */ React.createElement(\n      TextField,\n      {\n        id: \"parentInput\",\n        label: t(\"fields.gerritRepoPicker.parent.title\"),\n        onChange: (e) => onChange({ workspace: e.target.value }),\n        value: workspace,\n        helperText: t(\"fields.gerritRepoPicker.parent.description\")\n      }\n    )\n  ));\n};\n\nexport { GerritRepoPicker };\n//# sourceMappingURL=GerritRepoPicker.esm.js.map\n","import React, { useEffect } from 'react';\nimport { Progress, Select } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerHost = (props) => {\n  const { host, hosts, onChange, rawErrors } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { value: { integrations } = { integrations: [] }, loading } = useAsync(\n    async () => {\n      return await scaffolderApi.getIntegrationsList({\n        allowedHosts: hosts ?? []\n      });\n    }\n  );\n  useEffect(() => {\n    if (!host) {\n      if (hosts?.length) {\n        onChange(hosts[0]);\n      } else if (integrations?.length) {\n        onChange(integrations[0].host);\n      }\n    }\n  }, [hosts, host, onChange, integrations]);\n  const hostsOptions = integrations ? integrations.filter((i) => hosts?.length ? hosts?.includes(i.host) : true).map((i) => ({ label: i.title, value: i.host })) : [{ label: \"Loading...\", value: \"loading\" }];\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !host\n    },\n    /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        disabled: hosts?.length === 1,\n        label: t(\"fields.repoUrlPicker.host.title\"),\n        onChange: (s) => onChange(String(Array.isArray(s) ? s[0] : s)),\n        selected: host,\n        items: hostsOptions,\n        \"data-testid\": \"host-select\"\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.repoUrlPicker.host.description\"))\n  ));\n};\n\nexport { RepoUrlPickerHost };\n//# sourceMappingURL=RepoUrlPickerHost.esm.js.map\n","import React, { useEffect } from 'react';\nimport { Select } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerRepoName = (props) => {\n  const { repoName, allowedRepos, onChange, rawErrors, availableRepos } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  useEffect(() => {\n    if (!repoName) {\n      if (allowedRepos?.length) {\n        onChange(allowedRepos[0]);\n      }\n    }\n  }, [allowedRepos, repoName, onChange]);\n  const repoItems = allowedRepos ? allowedRepos.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !repoName\n    },\n    allowedRepos?.length ? /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        native: true,\n        label: t(\"fields.repoUrlPicker.repository.title\"),\n        onChange: (selected) => onChange(String(Array.isArray(selected) ? selected[0] : selected)),\n        disabled: allowedRepos.length === 1,\n        selected: repoName,\n        items: repoItems\n      }\n    ) : /* @__PURE__ */ React.createElement(\n      Autocomplete,\n      {\n        value: repoName,\n        onInputChange: (_, newValue) => {\n          onChange(newValue || \"\");\n        },\n        options: availableRepos || [],\n        renderInput: (params) => /* @__PURE__ */ React.createElement(\n          TextField,\n          {\n            ...params,\n            label: t(\"fields.repoUrlPicker.repository.inputTitle\"),\n            required: true\n          }\n        ),\n        freeSolo: true,\n        autoSelect: true\n      }\n    ),\n    /* @__PURE__ */ React.createElement(FormHelperText, null, t(\"fields.repoUrlPicker.repository.description\"))\n  ));\n};\n\nexport { RepoUrlPickerRepoName };\n//# sourceMappingURL=RepoUrlPickerRepoName.esm.js.map\n","function serializeRepoPickerUrl(data) {\n  if (!data.host) {\n    return void 0;\n  }\n  const params = new URLSearchParams();\n  if (data.owner) {\n    params.set(\"owner\", data.owner);\n  }\n  if (data.repoName) {\n    params.set(\"repo\", data.repoName);\n  }\n  if (data.organization) {\n    params.set(\"organization\", data.organization);\n  }\n  if (data.workspace) {\n    params.set(\"workspace\", data.workspace);\n  }\n  if (data.project) {\n    params.set(\"project\", data.project);\n  }\n  return `${data.host}?${params.toString()}`;\n}\nfunction parseRepoPickerUrl(url) {\n  let host = \"\";\n  let owner = \"\";\n  let repoName = \"\";\n  let organization = \"\";\n  let workspace = \"\";\n  let project = \"\";\n  try {\n    if (url) {\n      const parsed = new URL(`https://${url}`);\n      host = parsed.host;\n      owner = parsed.searchParams.get(\"owner\") || \"\";\n      repoName = parsed.searchParams.get(\"repo\") || \"\";\n      organization = parsed.searchParams.get(\"organization\") || \"\";\n      workspace = parsed.searchParams.get(\"workspace\") || \"\";\n      project = parsed.searchParams.get(\"project\") || \"\";\n    }\n  } catch {\n  }\n  return { host, owner, repoName, organization, workspace, project };\n}\n\nexport { parseRepoPickerUrl, serializeRepoPickerUrl };\n//# sourceMappingURL=utils.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport { GithubRepoPicker } from './GithubRepoPicker.esm.js';\nimport { GiteaRepoPicker } from './GiteaRepoPicker.esm.js';\nimport { GitlabRepoPicker } from './GitlabRepoPicker.esm.js';\nimport { AzureRepoPicker } from './AzureRepoPicker.esm.js';\nimport { BitbucketRepoPicker } from './BitbucketRepoPicker.esm.js';\nimport { GerritRepoPicker } from './GerritRepoPicker.esm.js';\nimport { RepoUrlPickerHost } from './RepoUrlPickerHost.esm.js';\nimport { RepoUrlPickerRepoName } from './RepoUrlPickerRepoName.esm.js';\nimport { parseRepoPickerUrl, serializeRepoPickerUrl } from './utils.esm.js';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nexport { RepoUrlPickerSchema } from './schema.esm.js';\n\nconst RepoUrlPicker = (props) => {\n  const { uiSchema, onChange, rawErrors, formData, schema } = props;\n  const [state, setState] = useState(\n    parseRepoPickerUrl(formData)\n  );\n  const [credentialsHost, setCredentialsHost] = useState(\n    void 0\n  );\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  const allowedHosts = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedHosts ?? [],\n    [uiSchema]\n  );\n  const allowedOrganizations = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOrganizations ?? [],\n    [uiSchema]\n  );\n  const allowedOwners = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOwners ?? [],\n    [uiSchema]\n  );\n  const allowedProjects = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedProjects ?? [],\n    [uiSchema]\n  );\n  const allowedRepos = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedRepos ?? [],\n    [uiSchema]\n  );\n  const { owner, organization, project, repoName } = state;\n  useEffect(() => {\n    onChange(serializeRepoPickerUrl(state));\n  }, [state, onChange]);\n  useEffect(() => {\n    if (allowedOrganizations.length > 0 && !organization) {\n      setState((prevState) => ({\n        ...prevState,\n        organization: allowedOrganizations[0]\n      }));\n    }\n  }, [setState, allowedOrganizations, organization]);\n  useEffect(() => {\n    if (allowedOwners.length > 0 && !owner) {\n      setState((prevState) => ({\n        ...prevState,\n        owner: allowedOwners[0]\n      }));\n    }\n  }, [setState, allowedOwners, owner]);\n  useEffect(() => {\n    if (allowedProjects.length > 0 && !project) {\n      setState((prevState) => ({\n        ...prevState,\n        project: allowedProjects[0]\n      }));\n    }\n  }, [setState, allowedProjects, project]);\n  useEffect(() => {\n    if (allowedRepos.length > 0 && !repoName) {\n      setState((prevState) => ({ ...prevState, repoName: allowedRepos[0] }));\n    }\n  }, [setState, allowedRepos, repoName]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !state.host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey] && credentialsHost === state.host) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${state.host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n      setCredentialsHost(state.host);\n    },\n    500,\n    [state, uiSchema]\n  );\n  const hostType = (state.host && integrationApi.byHost(state.host)?.type) ?? null;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, schema.title && /* @__PURE__ */ React.createElement(Box, { my: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h5\" }, schema.title), /* @__PURE__ */ React.createElement(Divider, null)), schema.description && /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, schema.description), /* @__PURE__ */ React.createElement(\n    RepoUrlPickerHost,\n    {\n      host: state.host,\n      hosts: allowedHosts,\n      onChange: (host) => setState((prevState) => ({ ...prevState, host })),\n      rawErrors\n    }\n  ), hostType === \"github\" && /* @__PURE__ */ React.createElement(\n    GithubRepoPicker,\n    {\n      allowedOwners,\n      onChange: updateLocalState,\n      rawErrors,\n      state\n    }\n  ), hostType === \"gitea\" && /* @__PURE__ */ React.createElement(\n    GiteaRepoPicker,\n    {\n      allowedOwners,\n      allowedRepos,\n      rawErrors,\n      state,\n      onChange: updateLocalState\n    }\n  ), hostType === \"gitlab\" && /* @__PURE__ */ React.createElement(\n    GitlabRepoPicker,\n    {\n      allowedOwners,\n      rawErrors,\n      state,\n      onChange: updateLocalState\n    }\n  ), hostType === \"bitbucket\" && /* @__PURE__ */ React.createElement(\n    BitbucketRepoPicker,\n    {\n      allowedOwners,\n      allowedProjects,\n      rawErrors,\n      state,\n      onChange: updateLocalState,\n      accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n    }\n  ), hostType === \"azure\" && /* @__PURE__ */ React.createElement(\n    AzureRepoPicker,\n    {\n      allowedOrganizations,\n      allowedProject: allowedProjects,\n      rawErrors,\n      state,\n      onChange: updateLocalState\n    }\n  ), hostType === \"gerrit\" && /* @__PURE__ */ React.createElement(\n    GerritRepoPicker,\n    {\n      rawErrors,\n      state,\n      onChange: updateLocalState\n    }\n  ), /* @__PURE__ */ React.createElement(\n    RepoUrlPickerRepoName,\n    {\n      repoName: state.repoName,\n      allowedRepos,\n      onChange: (repo) => setState((prevState) => ({ ...prevState, repoName: repo })),\n      rawErrors,\n      availableRepos: state.availableRepos\n    }\n  ));\n};\n\nexport { RepoUrlPicker };\n//# sourceMappingURL=RepoUrlPicker.esm.js.map\n","import zodToJsonSchema from 'zod-to-json-schema';\nimport { z } from 'zod';\n\nfunction makeFieldSchema(options) {\n  const { output, uiOptions } = options;\n  return {\n    TProps: void 0,\n    schema: {\n      returnValue: zodToJsonSchema(output(z)),\n      uiOptions: uiOptions && zodToJsonSchema(uiOptions(z))\n    },\n    // These will be removed - just here for backwards compat whilst we're moving across\n    type: void 0,\n    uiOptionsType: void 0\n  };\n}\n\nexport { makeFieldSchema };\n//# sourceMappingURL=utils.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst RepoUrlPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    allowedHosts: z.array(z.string()).optional().describe(\"List of allowed SCM platform hosts\"),\n    allowedOrganizations: z.array(z.string()).optional().describe(\"List of allowed organizations in the given SCM platform\"),\n    allowedOwners: z.array(z.string()).optional().describe(\"List of allowed owners in the given SCM platform\"),\n    allowedProjects: z.array(z.string()).optional().describe(\"List of allowed projects in the given SCM platform\"),\n    allowedRepos: z.array(z.string()).optional().describe(\"List of allowed repos in the given SCM platform\"),\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n});\nconst RepoUrlPickerSchema = RepoUrlPickerFieldSchema.schema;\n\nexport { RepoUrlPickerFieldSchema, RepoUrlPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\n\nconst repoPickerValidation = (value, validation, context) => {\n  try {\n    const { host, searchParams } = new URL(`https://${value}`);\n    const integrationApi = context.apiHolder.get(scmIntegrationsApiRef);\n    if (!host) {\n      validation.addError(\n        \"Incomplete repository location provided, host not provided\"\n      );\n    } else {\n      if (integrationApi?.byHost(host)?.type === \"bitbucket\") {\n        if (host === \"bitbucket.org\" && !searchParams.get(\"workspace\")) {\n          validation.addError(\n            \"Incomplete repository location provided, workspace not provided\"\n          );\n        }\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type === \"azure\") {\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type !== \"gerrit\") {\n        if (!searchParams.get(\"owner\")) {\n          validation.addError(\n            \"Incomplete repository location provided, owner not provided\"\n          );\n        }\n      }\n      if (!searchParams.get(\"repo\")) {\n        validation.addError(\n          \"Incomplete repository location provided, repo not provided\"\n        );\n      }\n    }\n  } catch {\n    validation.addError(\"Unable to parse the Repository URL\");\n  }\n};\n\nexport { repoPickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import React from 'react';\nimport { FixedSizeList } from 'react-window';\n\nconst renderRow = (props) => {\n  const { data, index, style } = props;\n  return React.cloneElement(data[index], { style });\n};\nconst OuterElementContext = React.createContext({});\nconst OuterElementType = React.forwardRef(\n  (props, ref) => {\n    const outerProps = React.useContext(OuterElementContext);\n    return /* @__PURE__ */ React.createElement(\"div\", { ref, ...props, ...outerProps });\n  }\n);\nconst VirtualizedListbox = React.forwardRef((props, ref) => {\n  const { children, ...other } = props;\n  const itemData = React.Children.toArray(children);\n  const itemCount = itemData.length;\n  const itemSize = 36;\n  const itemsToShow = Math.min(10, itemCount) + 0.5;\n  const height = itemsToShow * itemSize;\n  return /* @__PURE__ */ React.createElement(\"div\", { ref }, /* @__PURE__ */ React.createElement(OuterElementContext.Provider, { value: other }, /* @__PURE__ */ React.createElement(\n    FixedSizeList,\n    {\n      height,\n      itemData,\n      itemCount,\n      itemSize,\n      outerElementType: OuterElementType,\n      width: \"100%\"\n    },\n    renderRow\n  )));\n});\n\nexport { VirtualizedListbox };\n//# sourceMappingURL=VirtualizedListbox.esm.js.map\n","import zodToJsonSchema from 'zod-to-json-schema';\n\nfunction makeFieldSchemaFromZod(returnSchema, uiOptionsSchema) {\n  return {\n    schema: {\n      returnValue: zodToJsonSchema(returnSchema),\n      uiOptions: uiOptionsSchema ? zodToJsonSchema(uiOptionsSchema) : void 0\n    },\n    type: null,\n    uiOptionsType: null,\n    TProps: void 0\n  };\n}\n\nexport { makeFieldSchemaFromZod };\n//# sourceMappingURL=utils.esm.js.map\n","import { attachComponentData } from '@backstage/core-plugin-api';\nimport { FIELD_EXTENSION_WRAPPER_KEY, FIELD_EXTENSION_KEY } from './keys.esm.js';\n\nfunction createScaffolderFieldExtension(options) {\n  return {\n    expose() {\n      const FieldExtensionDataHolder = () => null;\n      attachComponentData(\n        FieldExtensionDataHolder,\n        FIELD_EXTENSION_KEY,\n        options\n      );\n      return FieldExtensionDataHolder;\n    }\n  };\n}\nconst ScaffolderFieldExtensions = () => null;\nattachComponentData(\n  ScaffolderFieldExtensions,\n  FIELD_EXTENSION_WRAPPER_KEY,\n  true\n);\n\nexport { ScaffolderFieldExtensions, createScaffolderFieldExtension };\n//# sourceMappingURL=index.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport qs from 'qs';\nimport ObservableImpl from 'zen-observable';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\n\nclass ScaffolderClient {\n  discoveryApi;\n  scmIntegrationsApi;\n  fetchApi;\n  identityApi;\n  useLongPollingLogs;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi ?? { fetch };\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.useLongPollingLogs = options.useLongPollingLogs ?? false;\n    this.identityApi = options.identityApi;\n  }\n  async listTasks(options) {\n    if (!this.identityApi) {\n      throw new Error(\n        \"IdentityApi is not available in the ScaffolderClient, please pass through the IdentityApi to the ScaffolderClient constructor in order to use the listTasks method\"\n      );\n    }\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const { userEntityRef } = await this.identityApi.getBackstageIdentity();\n    const query = qs.stringify({\n      createdBy: options.filterByOwnership === \"owned\" ? userEntityRef : void 0,\n      limit: options.limit,\n      offset: options.offset\n    });\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/tasks?${query}`);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async getIntegrationsList(options) {\n    const integrations = [\n      ...this.scmIntegrationsApi.azure.list(),\n      ...this.scmIntegrationsApi.bitbucket.list().filter(\n        (item) => !this.scmIntegrationsApi.bitbucketCloud.byHost(item.config.host) && !this.scmIntegrationsApi.bitbucketServer.byHost(item.config.host)\n      ),\n      ...this.scmIntegrationsApi.bitbucketCloud.list(),\n      ...this.scmIntegrationsApi.bitbucketServer.list(),\n      ...this.scmIntegrationsApi.gerrit.list(),\n      ...this.scmIntegrationsApi.gitea.list(),\n      ...this.scmIntegrationsApi.github.list(),\n      ...this.scmIntegrationsApi.gitlab.list()\n    ].map((c) => ({ type: c.type, title: c.title, host: c.config.host })).filter((c) => options.allowedHosts.includes(c.host));\n    return {\n      integrations\n    };\n  }\n  async getTemplateParameterSchema(templateRef) {\n    const { namespace, kind, name } = parseEntityRef(templateRef, {\n      defaultKind: \"template\"\n    });\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const templatePath = [namespace, kind, name].map((s) => encodeURIComponent(s)).join(\"/\");\n    const url = `${baseUrl}/v2/templates/${templatePath}/parameter-schema`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const schema = await response.json();\n    return schema;\n  }\n  async scaffold(options) {\n    const { templateRef, values, secrets = {} } = options;\n    const url = `${await this.discoveryApi.getBaseUrl(\"scaffolder\")}/v2/tasks`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        templateRef,\n        values: { ...values },\n        secrets\n      })\n    });\n    if (response.status !== 201) {\n      const status = `${response.status} ${response.statusText}`;\n      const body = await response.text();\n      throw new Error(`Backend request failed, ${status} ${body.trim()}`);\n    }\n    const { id } = await response.json();\n    return { taskId: id };\n  }\n  async getTask(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  streamLogs(options) {\n    if (this.useLongPollingLogs) {\n      return this.streamLogsPolling(options);\n    }\n    return this.streamLogsEventStream(options);\n  }\n  async dryRun(options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/dry-run`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        template: options.template,\n        values: options.values,\n        secrets: options.secrets,\n        directoryContents: options.directoryContents\n      })\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  streamLogsEventStream({\n    isTaskRecoverable,\n    taskId,\n    after\n  }) {\n    return new ObservableImpl((subscriber) => {\n      const params = new URLSearchParams();\n      if (after !== void 0) {\n        params.set(\"after\", String(Number(after)));\n      }\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then(\n        (baseUrl) => {\n          const url = `${baseUrl}/v2/tasks/${encodeURIComponent(\n            taskId\n          )}/eventstream`;\n          const processEvent = (event) => {\n            if (event.data) {\n              try {\n                subscriber.next(JSON.parse(event.data));\n              } catch (ex) {\n                subscriber.error(ex);\n              }\n            }\n          };\n          const ctrl = new AbortController();\n          void fetchEventSource(url, {\n            fetch: this.fetchApi.fetch,\n            signal: ctrl.signal,\n            onmessage(e) {\n              if (e.event === \"log\") {\n                processEvent(e);\n                return;\n              } else if (e.event === \"completion\" && !isTaskRecoverable) {\n                processEvent(e);\n                subscriber.complete();\n                ctrl.abort();\n                return;\n              }\n              processEvent(e);\n            },\n            onerror(err) {\n              subscriber.error(err);\n            }\n          });\n        },\n        (error) => {\n          subscriber.error(error);\n        }\n      );\n    });\n  }\n  streamLogsPolling({\n    taskId,\n    after: inputAfter\n  }) {\n    let after = inputAfter;\n    return new ObservableImpl((subscriber) => {\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then(async (baseUrl) => {\n        while (!subscriber.closed) {\n          const url = `${baseUrl}/v2/tasks/${encodeURIComponent(\n            taskId\n          )}/events?${qs.stringify({ after })}`;\n          const response = await this.fetchApi.fetch(url);\n          if (!response.ok) {\n            await new Promise((resolve) => setTimeout(resolve, 1e3));\n            continue;\n          }\n          const logs = await response.json();\n          for (const event of logs) {\n            after = Number(event.id);\n            subscriber.next(event);\n            if (event.type === \"completion\") {\n              subscriber.complete();\n              return;\n            }\n          }\n        }\n      });\n    });\n  }\n  async listActions() {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const response = await this.fetchApi.fetch(`${baseUrl}/v2/actions`);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async cancelTask(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/cancel`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async retry(taskId) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/tasks/${encodeURIComponent(taskId)}/retry`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async autocomplete({\n    token,\n    resource,\n    provider,\n    context\n  }) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"scaffolder\");\n    const url = `${baseUrl}/v2/autocomplete/${provider}/${resource}`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        token,\n        context: context ?? {}\n      })\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { results } = await response.json();\n    return { results };\n  }\n}\n\nexport { ScaffolderClient };\n//# sourceMappingURL=api.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { scaffolderApiRef, createScaffolderFieldExtension } from '@backstage/plugin-scaffolder-react';\nimport { ScaffolderClient } from './api.esm.js';\nimport { EntityPicker } from './components/fields/EntityPicker/EntityPicker.esm.js';\nimport { entityNamePickerValidation } from './components/fields/EntityNamePicker/validation.esm.js';\nimport { EntityNamePicker } from './components/fields/EntityNamePicker/EntityNamePicker.esm.js';\nimport { OwnerPicker } from './components/fields/OwnerPicker/OwnerPicker.esm.js';\nimport { MultiEntityPicker, validateMultiEntityPickerValidation } from './components/fields/MultiEntityPicker/MultiEntityPicker.esm.js';\nimport { RepoUrlPickerSchema } from './components/fields/RepoUrlPicker/schema.esm.js';\nimport { repoPickerValidation } from './components/fields/RepoUrlPicker/validation.esm.js';\nimport { RepoUrlPicker } from './components/fields/RepoUrlPicker/RepoUrlPicker.esm.js';\nimport { createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, identityApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { OwnedEntityPicker } from './components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js';\nimport { EntityTagsPicker } from './components/fields/EntityTagsPicker/EntityTagsPicker.esm.js';\nimport { rootRouteRef, selectedTemplateRouteRef, scaffolderTaskRouteRef, actionsRouteRef, scaffolderListTaskRouteRef, editRouteRef, editorRouteRef, customFieldsRouteRef, templateFormRouteRef, registerComponentRouteRef, viewTechDocRouteRef } from './routes.esm.js';\nimport { MyGroupsPicker } from './components/fields/MyGroupsPicker/MyGroupsPicker.esm.js';\nimport { RepoBranchPicker } from './components/fields/RepoBranchPicker/RepoBranchPicker.esm.js';\nimport { RepoBranchPickerSchema } from './components/fields/RepoBranchPicker/schema.esm.js';\nimport { EntityPickerSchema } from './components/fields/EntityPicker/schema.esm.js';\nimport { EntityNamePickerSchema } from './components/fields/EntityNamePicker/schema.esm.js';\nimport { MultiEntityPickerSchema } from './components/fields/MultiEntityPicker/schema.esm.js';\nimport { OwnerPickerSchema } from './components/fields/OwnerPicker/schema.esm.js';\nimport { MyGroupsPickerSchema } from './components/fields/MyGroupsPicker/schema.esm.js';\nimport { OwnedEntityPickerSchema } from './components/fields/OwnedEntityPicker/schema.esm.js';\nimport { EntityTagsPickerSchema } from './components/fields/EntityTagsPicker/schema.esm.js';\n\nconst scaffolderPlugin = createPlugin({\n  id: \"scaffolder\",\n  apis: [\n    createApiFactory({\n      api: scaffolderApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        fetchApi: fetchApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({ discoveryApi, scmIntegrationsApi, fetchApi, identityApi }) => new ScaffolderClient({\n        discoveryApi,\n        scmIntegrationsApi,\n        fetchApi,\n        identityApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    selectedTemplate: selectedTemplateRouteRef,\n    ongoingTask: scaffolderTaskRouteRef,\n    actions: actionsRouteRef,\n    listTasks: scaffolderListTaskRouteRef,\n    edit: editRouteRef,\n    editor: editorRouteRef,\n    customFields: customFieldsRouteRef,\n    templateForm: templateFormRouteRef\n  },\n  externalRoutes: {\n    registerComponent: registerComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef\n  }\n});\nconst EntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityPicker,\n    name: \"EntityPicker\",\n    schema: EntityPickerSchema\n  })\n);\nconst EntityNamePickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityNamePicker,\n    name: \"EntityNamePicker\",\n    validation: entityNamePickerValidation,\n    schema: EntityNamePickerSchema\n  })\n);\nconst MultiEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MultiEntityPicker,\n    name: \"MultiEntityPicker\",\n    schema: MultiEntityPickerSchema,\n    validation: validateMultiEntityPickerValidation\n  })\n);\nconst RepoUrlPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoUrlPicker,\n    name: \"RepoUrlPicker\",\n    validation: repoPickerValidation,\n    schema: RepoUrlPickerSchema\n  })\n);\nconst OwnerPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnerPicker,\n    name: \"OwnerPicker\",\n    schema: OwnerPickerSchema\n  })\n);\nconst MyGroupsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MyGroupsPicker,\n    name: \"MyGroupsPicker\",\n    schema: MyGroupsPickerSchema\n  })\n);\nconst ScaffolderPage = scaffolderPlugin.provide(\n  createRoutableExtension({\n    name: \"ScaffolderPage\",\n    component: () => import('./components/Router/index.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst OwnedEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnedEntityPicker,\n    name: \"OwnedEntityPicker\",\n    schema: OwnedEntityPickerSchema\n  })\n);\nconst EntityTagsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityTagsPicker,\n    name: \"EntityTagsPicker\",\n    schema: EntityTagsPickerSchema\n  })\n);\nconst RepoBranchPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoBranchPicker,\n    name: \"RepoBranchPicker\",\n    schema: RepoBranchPickerSchema\n  })\n);\n\nexport { EntityNamePickerFieldExtension, EntityPickerFieldExtension, EntityTagsPickerFieldExtension, MultiEntityPickerFieldExtension, MyGroupsPickerFieldExtension, OwnedEntityPickerFieldExtension, OwnerPickerFieldExtension, RepoBranchPickerFieldExtension, RepoUrlPickerFieldExtension, ScaffolderPage, scaffolderPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createExternalRouteRef, createRouteRef, createSubRouteRef } from '@backstage/core-plugin-api';\n\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst rootRouteRef = createRouteRef({\n  id: \"scaffolder\"\n});\ncreateSubRouteRef({\n  id: \"scaffolder/legacy/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:templateName\"\n});\nconst selectedTemplateRouteRef = createSubRouteRef({\n  id: \"scaffolder/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:namespace/:templateName\"\n});\nconst scaffolderTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/task\",\n  parent: rootRouteRef,\n  path: \"/tasks/:taskId\"\n});\nconst scaffolderListTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/list-tasks\",\n  parent: rootRouteRef,\n  path: \"/tasks\"\n});\nconst actionsRouteRef = createSubRouteRef({\n  id: \"scaffolder/actions\",\n  parent: rootRouteRef,\n  path: \"/actions\"\n});\nconst editRouteRef = createSubRouteRef({\n  id: \"scaffolder/edit\",\n  parent: rootRouteRef,\n  path: \"/edit\"\n});\nconst editorRouteRef = createSubRouteRef({\n  id: \"scaffolder/editor\",\n  parent: rootRouteRef,\n  path: \"/template\"\n});\nconst customFieldsRouteRef = createSubRouteRef({\n  id: \"scaffolder/customFields\",\n  parent: rootRouteRef,\n  path: \"/custom-fields\"\n});\nconst templateFormRouteRef = createSubRouteRef({\n  id: \"scaffolder/editorForm\",\n  parent: rootRouteRef,\n  path: \"/template-form\"\n});\n\nexport { actionsRouteRef, customFieldsRouteRef, editRouteRef, editorRouteRef, registerComponentRouteRef, rootRouteRef, scaffolderListTaskRouteRef, scaffolderTaskRouteRef, selectedTemplateRouteRef, templateFormRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst scaffolderTranslationRef = createTranslationRef({\n  id: \"scaffolder\",\n  messages: {\n    actionsPage: {\n      title: \"Installed actions\",\n      pageTitle: \"Create a New Component\",\n      subtitle: \"This is the collection of all installed actions\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no actions installed or there was an issue communicating with backend.\"\n        },\n        searchFieldPlaceholder: \"Search for an action\",\n        tableCell: {\n          name: \"Name\",\n          title: \"Title\",\n          description: \"Description\",\n          type: \"Type\"\n        },\n        noRowsDescription: \"No schema defined\"\n      },\n      action: {\n        input: \"Input\",\n        output: \"Output\",\n        examples: \"Examples\"\n      }\n    },\n    fields: {\n      entityNamePicker: {\n        title: \"Name\",\n        description: \"Unique name of the component\"\n      },\n      entityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      entityTagsPicker: {\n        title: \"Tags\",\n        description: \"Add any relevant tags, hit 'Enter' to add new tags. Valid format: [a-z0-9+#] separated by [-], at most 63 characters\"\n      },\n      myGroupsPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownedEntityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownerPicker: {\n        title: \"Owner\",\n        description: \"The owner of the component\"\n      },\n      azureRepoPicker: {\n        organization: {\n          title: \"Organization\",\n          description: \"The Organization that this repo will belong to\"\n        },\n        project: {\n          title: \"Project\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      bitbucketRepoPicker: {\n        workspaces: {\n          title: \"Allowed Workspaces\",\n          inputTitle: \"Workspaces\",\n          description: \"The Workspace that this repo will belong to\"\n        },\n        project: {\n          title: \"Allowed Projects\",\n          inputTitle: \"Projects\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      gerritRepoPicker: {\n        owner: {\n          title: \"Owner\",\n          description: \"The owner of the project (optional)\"\n        },\n        parent: {\n          title: \"Parent\",\n          description: \"The project parent that the repo will belong to\"\n        }\n      },\n      giteaRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"Gitea namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      githubRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"The organization, user or project that this repo will belong to\"\n        }\n      },\n      gitlabRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"GitLab namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      repoUrlPicker: {\n        host: {\n          title: \"Host\",\n          description: \"The host where the repository will be created\"\n        },\n        repository: {\n          title: \"Repositories Available\",\n          inputTitle: \"Repository\",\n          description: \"The name of the repository\"\n        }\n      }\n    },\n    listTaskPage: {\n      title: \"List template tasks\",\n      pageTitle: \"Templates Tasks\",\n      subtitle: \"All tasks that have been started\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no tasks or there was an issue communicating with backend.\"\n        },\n        tableTitle: \"Tasks\",\n        tableCell: {\n          taskID: \"Task ID\",\n          template: \"Template\",\n          created: \"Created\",\n          owner: \"Owner\",\n          status: \"Status\"\n        }\n      }\n    },\n    ownerListPicker: {\n      title: \"Task Owner\",\n      options: {\n        owned: \"Owned\",\n        all: \"All\"\n      }\n    },\n    ongoingTask: {\n      title: \"Run of\",\n      pageTitle: {\n        hasTemplateName: \"Run of {{templateName}}\",\n        noTemplateName: \"Scaffolder Run\"\n      },\n      subtitle: \"Task {{taskId}}\",\n      cancelButtonTitle: \"Cancel\",\n      retryButtonTitle: \"Retry\",\n      startOverButtonTitle: \"Start Over\",\n      hideLogsButtonTitle: \"Hide Logs\",\n      showLogsButtonTitle: \"Show Logs\",\n      contextMenu: {\n        hideLogs: \"Hide Logs\",\n        showLogs: \"Show Logs\",\n        hideButtonBar: \"Hide Button Bar\",\n        retry: \"Retry\",\n        showButtonBar: \"Show Button Bar\",\n        startOver: \"Start Over\",\n        cancel: \"Cancel\"\n      }\n    },\n    templateEditorForm: {\n      stepper: {\n        emptyText: \"There are no spec parameters in the template to preview.\"\n      }\n    },\n    templateTypePicker: {\n      title: \"Categories\"\n    },\n    templateIntroPage: {\n      title: \"Manage Templates\",\n      subtitle: \"Edit, preview, and try out templates, forms, and custom fields\"\n    },\n    templateFormPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates forms\"\n    },\n    templateCustomFieldPage: {\n      title: \"Custom Field Explorer\",\n      subtitle: \"Edit, preview, and try out custom fields\"\n    },\n    templateEditorPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\",\n      dryRunResults: {\n        title: \"Dry-run results\"\n      },\n      dryRunResultsList: {\n        title: \"Result {{resultId}}\",\n        downloadButtonTitle: \"Download as .zip\",\n        deleteButtonTitle: \"Delete result\"\n      },\n      dryRunResultsView: {\n        tab: {\n          files: \"Files\",\n          log: \"Log\",\n          output: \"Output\"\n        }\n      },\n      taskStatusStepper: {\n        skippedStepTitle: \"Skipped\"\n      },\n      customFieldExplorer: {\n        selectFieldLabel: \"Choose Custom Field Extension\",\n        fieldForm: {\n          title: \"Field Options\",\n          applyButtonTitle: \"Apply\"\n        },\n        fieldPreview: {\n          title: \"Field Preview\"\n        },\n        preview: {\n          title: \"Template Spec\"\n        }\n      },\n      templateEditorBrowser: {\n        closeConfirmMessage: \"Are you sure? Unsaved changes will be lost\",\n        saveIconTooltip: \"Save all files\",\n        reloadIconTooltip: \"Reload directory\",\n        closeIconTooltip: \"Close directory\"\n      },\n      templateEditorIntro: {\n        title: \"Get started by choosing one of the options below\",\n        loadLocal: {\n          title: \"Load Template Directory\",\n          description: \"Load a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers\"\n        },\n        createLocal: {\n          title: \"Create New Template\",\n          description: \"Create a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers\"\n        },\n        formEditor: {\n          title: \"Template Form Playground\",\n          description: \"Preview and edit a template form, either using a sample template or by loading a template from the catalog.\"\n        },\n        fieldExplorer: {\n          title: \"Custom Field Explorer\",\n          description: \"View and play around with available installed custom field extensions.\"\n        }\n      },\n      templateEditorTextArea: {\n        saveIconTooltip: \"Save file\",\n        refreshIconTooltip: \"Reload file\",\n        emptyStateParagraph: \"Please select an action on the file menu.\"\n      },\n      templateFormPreviewer: {\n        title: \"Load Existing Template\"\n      }\n    },\n    templateListPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      templateGroups: {\n        defaultTitle: \"Templates\",\n        otherTitle: \"Other Templates\"\n      },\n      contentHeader: {\n        registerExistingButtonTitle: \"Register Existing Component\",\n        supportButtonTitle: \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\"\n      },\n      additionalLinksForEntity: {\n        viewTechDocsTitle: \"View TechDocs\"\n      }\n    },\n    templateWizardPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      pageContextMenu: {\n        editConfigurationTitle: \"Edit Configuration\"\n      }\n    },\n    templateEditorToolbar: {\n      customFieldExplorerTooltip: \"Custom Fields Explorer\",\n      installedActionsDocumentationTooltip: \"Installed Actions Documentation\",\n      addToCatalogButton: \"Publish\",\n      addToCatalogDialogTitle: \"Publish changes\",\n      addToCatalogDialogContent: {\n        stepsIntroduction: \"Follow the instructions below to create or update a template:\",\n        stepsListItems: \"Save the template files in a local directory\\nCreate a pull request to a new or existing git repository\\nIf the template already exists, the changes will be reflected in the software catalog once the pull request gets merged\\nBut if you are creating a new template, follow the documentation linked below to register the new template repository in software catalog\"\n      },\n      addToCatalogDialogActions: {\n        documentationButton: \"Go to the documentation\",\n        documentationUrl: \"https://backstage.io/docs/features/software-templates/adding-templates/\"\n      }\n    },\n    templateEditorToolbarFileMenu: {\n      button: \"File\",\n      options: {\n        openDirectory: \"Open template directory\",\n        createDirectory: \"Create template directory\",\n        closeEditor: \"Close template editor\"\n      }\n    },\n    templateEditorToolbarTemplatesMenu: {\n      button: \"Templates\"\n    }\n  }\n});\n\nexport { scaffolderTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst searchApiRef = createApiRef({\n  id: \"plugin.search.queryservice\"\n});\nclass MockSearchApi {\n  constructor(mockedResults) {\n    this.mockedResults = mockedResults;\n  }\n  query() {\n    return Promise.resolve(this.mockedResults || { results: [] });\n  }\n}\n\nexport { MockSearchApi, searchApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import React, { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  () => ({\n    highlight: {}\n  }),\n  { name: \"BackstageHighlightedSearchResultText\" }\n);\nconst HighlightedSearchResultText = (props) => {\n  const { text, preTag, postTag } = props;\n  const classes = useStyles();\n  const terms = useMemo(\n    () => text.split(new RegExp(`(${preTag}.+?${postTag})`)),\n    [postTag, preTag, text]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, terms.map(\n    (t, idx) => t.includes(preTag) ? /* @__PURE__ */ React.createElement(\"mark\", { className: classes.highlight, key: idx }, t.replace(new RegExp(`${preTag}|${postTag}`, \"g\"), \"\")) : t\n  ));\n};\n\nexport { HighlightedSearchResultText };\n//# sourceMappingURL=HighlightedSearchResultText.esm.js.map\n","import { useApi, configApiRef, useApp, AnalyticsContext } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DefaultSearchIcon from '@material-ui/icons/Search';\nimport React, { forwardRef, useState, useRef, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { SearchContextProvider, useSearch } from '../../context/SearchContext.esm.js';\n\nconst SearchBarBase = forwardRef((props, ref) => {\n  const {\n    onChange,\n    onKeyDown = () => {\n    },\n    onClear = () => {\n    },\n    onSubmit = () => {\n    },\n    debounceTime = 200,\n    clearButton = true,\n    fullWidth = true,\n    value: defaultValue,\n    label,\n    placeholder,\n    inputProps = {},\n    InputProps = {},\n    endAdornment,\n    ...rest\n  } = props;\n  const configApi = useApi(configApiRef);\n  const [value, setValue] = useState(\"\");\n  const forwardedValueRef = useRef(\"\");\n  useEffect(() => {\n    setValue((prevValue) => {\n      if (prevValue === forwardedValueRef.current) {\n        return String(defaultValue);\n      }\n      return prevValue;\n    });\n  }, [defaultValue, forwardedValueRef]);\n  useDebounce(\n    () => {\n      forwardedValueRef.current = value;\n      onChange(value);\n    },\n    debounceTime,\n    [value]\n  );\n  const handleChange = useCallback(\n    (e) => {\n      setValue(e.target.value);\n    },\n    [setValue]\n  );\n  const handleKeyDown = useCallback(\n    (e) => {\n      if (onKeyDown) onKeyDown(e);\n      if (onSubmit && e.key === \"Enter\") {\n        onSubmit();\n      }\n    },\n    [onKeyDown, onSubmit]\n  );\n  const handleClear = useCallback(() => {\n    forwardedValueRef.current = \"\";\n    onChange(\"\");\n    setValue(\"\");\n    if (onClear) {\n      onClear();\n    }\n  }, [onChange, onClear]);\n  const ariaLabel = label ? void 0 : \"Search\";\n  const inputPlaceholder = placeholder ?? `Search in ${configApi.getOptionalString(\"app.title\") || \"Backstage\"}`;\n  const SearchIcon = useApp().getSystemIcon(\"search\") || DefaultSearchIcon;\n  const startAdornment = /* @__PURE__ */ React.createElement(InputAdornment, { position: \"start\" }, /* @__PURE__ */ React.createElement(IconButton, { \"aria-label\": \"Query\", size: \"small\", disabled: true }, /* @__PURE__ */ React.createElement(SearchIcon, null)));\n  const clearButtonEndAdornment = /* @__PURE__ */ React.createElement(InputAdornment, { position: \"end\" }, /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      \"aria-label\": \"Clear\",\n      size: \"small\",\n      onClick: handleClear,\n      onKeyDown: (event) => {\n        if (event.key === \"Enter\") {\n          event.stopPropagation();\n        }\n      }\n    },\n    \"Clear\"\n  ));\n  return /* @__PURE__ */ React.createElement(SearchContextProvider, { inheritParentContextIfAvailable: true }, /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      id: \"search-bar-text-field\",\n      \"data-testid\": \"search-bar-next\",\n      variant: \"outlined\",\n      margin: \"normal\",\n      inputRef: ref,\n      value,\n      label,\n      placeholder: inputPlaceholder,\n      InputProps: {\n        startAdornment,\n        endAdornment: clearButton ? clearButtonEndAdornment : endAdornment,\n        ...InputProps\n      },\n      inputProps: {\n        \"aria-label\": ariaLabel,\n        ...inputProps\n      },\n      fullWidth,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      ...rest\n    }\n  ));\n});\nconst SearchBar = forwardRef((props, ref) => {\n  const { value: initialValue = \"\", onChange, ...rest } = props;\n  const { term, setTerm } = useSearch();\n  useEffect(() => {\n    if (initialValue) {\n      setTerm(String(initialValue));\n    }\n  }, [initialValue, setTerm]);\n  const handleChange = useCallback(\n    (newValue) => {\n      if (onChange) {\n        onChange(newValue);\n      } else {\n        setTerm(newValue);\n      }\n    },\n    [onChange, setTerm]\n  );\n  return /* @__PURE__ */ React.createElement(SearchContextProvider, { inheritParentContextIfAvailable: true }, /* @__PURE__ */ React.createElement(\n    AnalyticsContext,\n    {\n      attributes: { pluginId: \"search\", extension: \"SearchBar\" }\n    },\n    /* @__PURE__ */ React.createElement(\n      SearchBarBase,\n      {\n        ...rest,\n        ref,\n        value: term,\n        onChange: handleChange\n      }\n    )\n  ));\n});\n\nexport { SearchBar, SearchBarBase };\n//# sourceMappingURL=SearchBar.esm.js.map\n","import { useRef, useEffect } from 'react';\nimport useAsyncFn from 'react-use/esm/useAsyncFn';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useSearch } from '../../context/SearchContext.esm.js';\n\nconst useAsyncFilterValues = (fn, inputValue, defaultValues = [], debounce = 250) => {\n  const valuesMemo = useRef({});\n  const definiteFn = fn || (() => Promise.resolve([]));\n  const [state, callback] = useAsyncFn(definiteFn, [inputValue], {\n    loading: true\n  });\n  useDebounce(\n    () => {\n      if (valuesMemo.current[inputValue] === void 0) {\n        valuesMemo.current[inputValue] = callback(inputValue).then((values) => {\n          valuesMemo.current[inputValue] = values;\n          return values;\n        });\n      }\n    },\n    debounce,\n    [callback, inputValue]\n  );\n  if (defaultValues.length) {\n    return {\n      loading: false,\n      value: defaultValues\n    };\n  }\n  const possibleValue = valuesMemo.current[inputValue];\n  if (Array.isArray(possibleValue)) {\n    return {\n      loading: false,\n      value: possibleValue\n    };\n  }\n  return state;\n};\nconst useDefaultFilterValue = (name, defaultValue) => {\n  const { setFilters } = useSearch();\n  useEffect(() => {\n    if (defaultValue && [defaultValue].flat().length > 0) {\n      setFilters((prevFilters) => ({\n        ...prevFilters,\n        [name]: defaultValue\n      }));\n    }\n  }, []);\n};\n\nexport { useAsyncFilterValues, useDefaultFilterValue };\n//# sourceMappingURL=hooks.esm.js.map\n","import React, { useState } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\n\nconst AutocompleteFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    name,\n    values: givenValues,\n    valuesDebounceMs,\n    label,\n    filterSelectedOptions,\n    limitTags,\n    multiple\n  } = props;\n  const [inputValue, setInputValue] = useState(\"\");\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values, loading } = useAsyncFilterValues(\n    asyncValues,\n    inputValue,\n    defaultValues,\n    valuesDebounceMs\n  );\n  const { filters, setFilters } = useSearch();\n  const filterValue = filters[name] || (multiple ? [] : null);\n  const handleChange = (_, newValue) => {\n    setFilters((prevState) => {\n      const { [name]: filter, ...others } = prevState;\n      if (newValue) {\n        return { ...others, [name]: newValue };\n      }\n      return { ...others };\n    });\n  };\n  const renderInput = (params) => /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      ...params,\n      name: \"search\",\n      variant: \"outlined\",\n      label,\n      fullWidth: true\n    }\n  );\n  const renderTags = (tagValue, getTagProps) => tagValue.map((option, index) => /* @__PURE__ */ React.createElement(Chip, { label: option, color: \"primary\", ...getTagProps({ index }) }));\n  return /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      filterSelectedOptions,\n      limitTags,\n      multiple,\n      className,\n      id: `${multiple ? \"multi-\" : \"\"}select-filter-${name}--select`,\n      options: values || [],\n      loading,\n      value: filterValue,\n      onChange: handleChange,\n      onInputChange: (_, newValue) => setInputValue(newValue),\n      renderInput,\n      renderTags\n    }\n  );\n};\n\nexport { AutocompleteFilter };\n//# sourceMappingURL=SearchFilter.Autocomplete.esm.js.map\n","import React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { AutocompleteFilter } from './SearchFilter.Autocomplete.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\n\nconst useStyles = makeStyles({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  checkboxWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  textWrapper: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\"\n  }\n});\nconst CheckboxFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label,\n    name,\n    values: givenValues = [],\n    valuesDebounceMs\n  } = props;\n  const classes = useStyles();\n  const { filters, setFilters } = useSearch();\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const handleChange = (e) => {\n    const {\n      target: { value, checked }\n    } = e;\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      const rest = (filter || []).filter((i) => i !== value);\n      const items = checked ? [...rest, value] : rest;\n      return items.length ? { ...others, [name]: items } : others;\n    });\n  };\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      className,\n      disabled: loading,\n      fullWidth: true,\n      \"data-testid\": \"search-checkboxfilter-next\"\n    },\n    label ? /* @__PURE__ */ React.createElement(FormLabel, { className: classes.label }, label) : null,\n    values.map((value) => /* @__PURE__ */ React.createElement(\n      FormControlLabel,\n      {\n        key: value,\n        classes: {\n          root: classes.checkboxWrapper,\n          label: classes.textWrapper\n        },\n        label: value,\n        control: /* @__PURE__ */ React.createElement(\n          Checkbox,\n          {\n            color: \"primary\",\n            inputProps: { \"aria-labelledby\": value },\n            value,\n            name: value,\n            onChange: handleChange,\n            checked: (filters[name] ?? []).includes(value)\n          }\n        )\n      }\n    ))\n  );\n};\nconst SelectFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label,\n    name,\n    values: givenValues,\n    valuesDebounceMs\n  } = props;\n  const classes = useStyles();\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues;\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const { filters, setFilters } = useSearch();\n  const handleChange = (e) => {\n    const {\n      target: { value }\n    } = e;\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      return value ? { ...others, [name]: value } : others;\n    });\n  };\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      disabled: loading,\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-selectfilter-next\"\n    },\n    label ? /* @__PURE__ */ React.createElement(InputLabel, { className: classes.label, margin: \"dense\" }, label) : null,\n    /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        variant: \"outlined\",\n        value: filters[name] || \"\",\n        onChange: handleChange\n      },\n      /* @__PURE__ */ React.createElement(MenuItem, { value: \"\" }, /* @__PURE__ */ React.createElement(\"em\", null, \"All\")),\n      values.map((value) => /* @__PURE__ */ React.createElement(MenuItem, { key: value, value }, /* @__PURE__ */ React.createElement(Typography, { variant: \"inherit\", noWrap: true }, value)))\n    )\n  );\n};\nconst SearchFilter = (props) => {\n  const { component: Element, ...elementProps } = props;\n  return /* @__PURE__ */ React.createElement(Element, { ...elementProps });\n};\nSearchFilter.Checkbox = (props) => /* @__PURE__ */ React.createElement(SearchFilter, { ...props, component: CheckboxFilter });\nSearchFilter.Select = (props) => /* @__PURE__ */ React.createElement(SearchFilter, { ...props, component: SelectFilter });\nSearchFilter.Autocomplete = (props) => /* @__PURE__ */ React.createElement(SearchFilter, { ...props, component: AutocompleteFilter });\n\nexport { CheckboxFilter, SearchFilter, SelectFilter };\n//# sourceMappingURL=SearchFilter.esm.js.map\n","import React, { useMemo, useCallback } from 'react';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { useSearch } from '../../context/SearchContext.esm.js';\n\nconst encodePageCursor = (pageCursor) => {\n  return Buffer.from(pageCursor.toString(), \"utf-8\").toString(\"base64\");\n};\nconst decodePageCursor = (pageCursor) => {\n  if (!pageCursor) return 0;\n  return Number(Buffer.from(pageCursor, \"base64\").toString(\"utf-8\"));\n};\nconst SearchPaginationBase = (props) => {\n  const {\n    total: count = -1,\n    cursor: pageCursor,\n    hasNextPage,\n    onCursorChange: onPageCursorChange,\n    limit: rowsPerPage = 25,\n    limitLabel: labelRowsPerPage = \"Results per page:\",\n    limitText: labelDisplayedRows = ({ from, to }) => count > 0 ? `of ${count}` : `${from}-${to}`,\n    limitOptions: rowsPerPageOptions,\n    onLimitChange: onPageLimitChange,\n    ...rest\n  } = props;\n  const page = useMemo(() => decodePageCursor(pageCursor), [pageCursor]);\n  const handlePageChange = useCallback(\n    (_, newValue) => {\n      onPageCursorChange?.(encodePageCursor(newValue));\n    },\n    [onPageCursorChange]\n  );\n  const handleRowsPerPageChange = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      onPageLimitChange?.(parseInt(newValue, 10));\n    },\n    [onPageLimitChange]\n  );\n  return /* @__PURE__ */ React.createElement(\n    TablePagination,\n    {\n      ...rest,\n      component: \"div\",\n      count,\n      page,\n      nextIconButtonProps: {\n        ...hasNextPage !== void 0 && { disabled: !hasNextPage }\n      },\n      onPageChange: handlePageChange,\n      rowsPerPage,\n      labelRowsPerPage,\n      labelDisplayedRows,\n      rowsPerPageOptions,\n      onRowsPerPageChange: handleRowsPerPageChange\n    }\n  );\n};\nconst SearchPagination = (props) => {\n  const { pageLimit, setPageLimit, pageCursor, setPageCursor, fetchNextPage } = useSearch();\n  const handlePageLimitChange = useCallback(\n    (newPageLimit) => {\n      setPageLimit(newPageLimit);\n      setPageCursor(void 0);\n    },\n    [setPageLimit, setPageCursor]\n  );\n  return /* @__PURE__ */ React.createElement(\n    SearchPaginationBase,\n    {\n      ...props,\n      hasNextPage: !!fetchNextPage,\n      limit: pageLimit,\n      onLimitChange: handlePageLimitChange,\n      cursor: pageCursor,\n      onCursorChange: setPageCursor\n    }\n  );\n};\n\nexport { SearchPagination, SearchPaginationBase };\n//# sourceMappingURL=SearchPagination.esm.js.map\n","import React from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { isFunction } from 'lodash';\nimport { Progress, ResponseErrorPanel, EmptyState } from '@backstage/core-components';\nimport { useApi, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../../api.esm.js';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { SearchResultListItemExtensions } from '../../extensions.esm.js';\n\nconst SearchResultContext = (props) => {\n  const { children } = props;\n  const context = useSearch();\n  const { result: state, ...query } = context;\n  return children(state, query);\n};\nconst SearchResultApi = (props) => {\n  const { query, children } = props;\n  const searchApi = useApi(searchApiRef);\n  const state = useAsync(() => {\n    const { term = \"\", types = [], filters = {}, ...rest } = query;\n    return searchApi.query({ ...rest, term, types, filters });\n  }, [query]);\n  return children(state, query);\n};\nconst SearchResultState = (props) => {\n  const { query, children } = props;\n  return query ? /* @__PURE__ */ React.createElement(SearchResultApi, { query }, children) : /* @__PURE__ */ React.createElement(SearchResultContext, null, children);\n};\nconst SearchResultComponent = (props) => {\n  const {\n    query,\n    children,\n    noResultsComponent = /* @__PURE__ */ React.createElement(EmptyState, { missing: \"data\", title: \"Sorry, no results were found\" }),\n    ...rest\n  } = props;\n  return /* @__PURE__ */ React.createElement(SearchResultState, { query }, ({ loading, error, value }) => {\n    if (loading) {\n      return /* @__PURE__ */ React.createElement(Progress, null);\n    }\n    if (error) {\n      return /* @__PURE__ */ React.createElement(\n        ResponseErrorPanel,\n        {\n          title: \"Error encountered while fetching search results\",\n          error\n        }\n      );\n    }\n    if (!value?.results.length) {\n      return noResultsComponent;\n    }\n    if (isFunction(children)) {\n      return children(value);\n    }\n    return /* @__PURE__ */ React.createElement(SearchResultListItemExtensions, { ...rest, results: value.results }, children);\n  });\n};\nconst SearchResult = (props) => /* @__PURE__ */ React.createElement(\n  AnalyticsContext,\n  {\n    attributes: {\n      pluginId: \"search\",\n      extension: \"SearchResult\"\n    }\n  },\n  /* @__PURE__ */ React.createElement(SearchResultComponent, { ...props })\n);\n\nexport { SearchResult, SearchResultApi, SearchResultComponent, SearchResultContext, SearchResultState };\n//# sourceMappingURL=SearchResult.esm.js.map\n","import { isEqual } from 'lodash';\nimport React, { useContext, useState, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport usePrevious from 'react-use/esm/usePrevious';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../api.esm.js';\n\nconst SearchContext = createVersionedContext(\"search-context\");\nconst useSearch = () => {\n  const context = useContext(SearchContext);\n  if (!context) {\n    throw new Error(\"useSearch must be used within a SearchContextProvider\");\n  }\n  const value = context.atVersion(1);\n  if (!value) {\n    throw new Error(\"No SearchContext v1 found\");\n  }\n  return value;\n};\nconst useSearchContextCheck = () => {\n  const context = useContext(SearchContext);\n  return context !== void 0;\n};\nconst defaultInitialSearchState = {\n  term: \"\",\n  types: [],\n  filters: {},\n  pageLimit: void 0,\n  pageCursor: void 0\n};\nconst useSearchContextValue = (initialValue = defaultInitialSearchState) => {\n  const searchApi = useApi(searchApiRef);\n  const analytics = useAnalytics();\n  const [term, setTerm] = useState(initialValue.term);\n  const [types, setTypes] = useState(initialValue.types);\n  const [filters, setFilters] = useState(initialValue.filters);\n  const [pageLimit, setPageLimit] = useState(\n    initialValue.pageLimit\n  );\n  const [pageCursor, setPageCursor] = useState(\n    initialValue.pageCursor\n  );\n  const prevTerm = usePrevious(term);\n  const prevFilters = usePrevious(filters);\n  const result = useAsync(async () => {\n    const resultSet = await searchApi.query({\n      term,\n      types,\n      filters,\n      pageLimit,\n      pageCursor\n    });\n    if (term) {\n      analytics.captureEvent(\"search\", term, {\n        value: result.value?.numberOfResults ?? void 0\n      });\n    }\n    return resultSet;\n  }, [term, types, filters, pageLimit, pageCursor]);\n  const hasNextPage = !result.loading && !result.error && result.value?.nextPageCursor;\n  const hasPreviousPage = !result.loading && !result.error && result.value?.previousPageCursor;\n  const fetchNextPage = useCallback(() => {\n    setPageCursor(result.value?.nextPageCursor);\n  }, [result.value?.nextPageCursor]);\n  const fetchPreviousPage = useCallback(() => {\n    setPageCursor(result.value?.previousPageCursor);\n  }, [result.value?.previousPageCursor]);\n  useEffect(() => {\n    if (prevTerm !== void 0 && term !== prevTerm) {\n      setPageCursor(void 0);\n    }\n  }, [term, prevTerm, setPageCursor]);\n  useEffect(() => {\n    if (prevFilters !== void 0 && !isEqual(filters, prevFilters)) {\n      setPageCursor(void 0);\n    }\n  }, [filters, prevFilters, setPageCursor]);\n  const value = {\n    result,\n    term,\n    setTerm,\n    types,\n    setTypes,\n    filters,\n    setFilters,\n    pageLimit,\n    setPageLimit,\n    pageCursor,\n    setPageCursor,\n    fetchNextPage: hasNextPage ? fetchNextPage : void 0,\n    fetchPreviousPage: hasPreviousPage ? fetchPreviousPage : void 0\n  };\n  return value;\n};\nconst LocalSearchContext = (props) => {\n  const { initialState, children } = props;\n  const value = useSearchContextValue(initialState);\n  return /* @__PURE__ */ React.createElement(\n    AnalyticsContext,\n    {\n      attributes: { searchTypes: value.types.sort().join(\",\") }\n    },\n    /* @__PURE__ */ React.createElement(SearchContext.Provider, { value: createVersionedValueMap({ 1: value }) }, children)\n  );\n};\nconst SearchContextProvider = (props) => {\n  const { initialState, inheritParentContextIfAvailable, children } = props;\n  const hasParentContext = useSearchContextCheck();\n  const configApi = useApi(configApiRef);\n  const propsInitialSearchState = initialState ?? {};\n  const configInitialSearchState = configApi.has(\"search.query.pageLimit\") ? { pageLimit: configApi.getNumber(\"search.query.pageLimit\") } : {};\n  const searchContextInitialState = {\n    ...defaultInitialSearchState,\n    ...propsInitialSearchState,\n    ...configInitialSearchState\n  };\n  return hasParentContext && inheritParentContextIfAvailable ? /* @__PURE__ */ React.createElement(React.Fragment, null, children) : /* @__PURE__ */ React.createElement(LocalSearchContext, { initialState: searchContextInitialState }, children);\n};\n\nexport { SearchContextProvider, useSearch, useSearchContextCheck };\n//# sourceMappingURL=SearchContext.esm.js.map\n","import React from 'react';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { HighlightedSearchResultText } from '../HighlightedSearchResultText/HighlightedSearchResultText.esm.js';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '@backstage/core-components';\n\nconst DefaultResultListItemComponent = ({\n  result,\n  highlight,\n  icon,\n  secondaryAction,\n  lineClamp = 5\n}) => {\n  if (!result) return null;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, icon && /* @__PURE__ */ React.createElement(ListItemIcon, null, icon), /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primaryTypographyProps: { variant: \"h6\" },\n      primary: /* @__PURE__ */ React.createElement(Link, { noTrack: true, to: result.location }, highlight?.fields.title ? /* @__PURE__ */ React.createElement(\n        HighlightedSearchResultText,\n        {\n          text: highlight?.fields.title || \"\",\n          preTag: highlight?.preTag || \"\",\n          postTag: highlight?.postTag || \"\"\n        }\n      ) : result.title),\n      secondary: /* @__PURE__ */ React.createElement(\n        Typography,\n        {\n          component: \"span\",\n          style: {\n            display: \"-webkit-box\",\n            WebkitBoxOrient: \"vertical\",\n            WebkitLineClamp: lineClamp,\n            overflow: \"hidden\"\n          },\n          color: \"textSecondary\",\n          variant: \"body2\"\n        },\n        highlight?.fields.text ? /* @__PURE__ */ React.createElement(\n          HighlightedSearchResultText,\n          {\n            text: highlight.fields.text,\n            preTag: highlight.preTag,\n            postTag: highlight.postTag\n          }\n        ) : result.text\n      )\n    }\n  ), secondaryAction && /* @__PURE__ */ React.createElement(Box, { alignItems: \"flex-end\" }, secondaryAction));\n};\nconst HigherOrderDefaultResultListItem = (props) => {\n  return /* @__PURE__ */ React.createElement(\n    AnalyticsContext,\n    {\n      attributes: {\n        pluginId: \"search\",\n        extension: \"DefaultResultListItem\"\n      }\n    },\n    /* @__PURE__ */ React.createElement(DefaultResultListItemComponent, { ...props })\n  );\n};\n\nexport { HigherOrderDefaultResultListItem as DefaultResultListItem, DefaultResultListItemComponent };\n//# sourceMappingURL=DefaultResultListItem.esm.js.map\n","import React, { useCallback, createElement, Fragment, isValidElement, cloneElement } from 'react';\nimport { useAnalytics, createReactExtension, useElementFilter, getComponentData } from '@backstage/core-plugin-api';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { DefaultResultListItem as HigherOrderDefaultResultListItem } from './components/DefaultResultListItem/DefaultResultListItem.esm.js';\n\nconst SEARCH_RESULT_LIST_ITEM_EXTENSION = \"search.results.list.items.extensions.v1\";\nconst findSearchResultListItemExtensionElement = (elements, result) => {\n  for (const element of elements) {\n    if (!isValidElement(element)) continue;\n    const predicate = getComponentData(\n      element,\n      SEARCH_RESULT_LIST_ITEM_EXTENSION\n    );\n    if (!predicate?.(result)) continue;\n    return cloneElement(element, {\n      rank: result.rank,\n      highlight: result.highlight,\n      result: result.document,\n      // Use props in situations where a consumer is manually rendering the extension\n      ...element.props\n    });\n  }\n  return null;\n};\nconst SearchResultListItemExtension = (props) => {\n  const {\n    rank,\n    result,\n    noTrack,\n    children,\n    alignItems = \"flex-start\",\n    ...rest\n  } = props;\n  const analytics = useAnalytics();\n  const handleClickCapture = useCallback(() => {\n    if (noTrack) return;\n    if (!result) return;\n    analytics.captureEvent(\"discover\", result.title, {\n      attributes: { to: result.location },\n      value: rank\n    });\n  }, [rank, result, noTrack, analytics]);\n  return /* @__PURE__ */ React.createElement(\n    ListItem,\n    {\n      divider: true,\n      alignItems,\n      onClickCapture: handleClickCapture,\n      ...rest\n    },\n    children\n  );\n};\nconst createSearchResultListItemExtension = (options) => {\n  const { name, component, predicate = () => true } = options;\n  return createReactExtension({\n    name,\n    component: {\n      lazy: () => component().then(\n        (type) => (props) => /* @__PURE__ */ React.createElement(\n          SearchResultListItemExtension,\n          {\n            rank: props.rank,\n            result: props.result,\n            noTrack: props.noTrack\n          },\n          createElement(type, props)\n        )\n      )\n    },\n    data: {\n      [SEARCH_RESULT_LIST_ITEM_EXTENSION]: predicate\n    }\n  });\n};\nconst useSearchResultListItemExtensions = (children) => {\n  const elements = useElementFilter(\n    children,\n    (collection) => {\n      return collection.selectByComponentData({\n        key: SEARCH_RESULT_LIST_ITEM_EXTENSION\n      }).getElements();\n    },\n    [children]\n  );\n  return useCallback(\n    (result, key) => {\n      const element = findSearchResultListItemExtensionElement(\n        elements,\n        result\n      );\n      return /* @__PURE__ */ React.createElement(Fragment, { key }, element ?? /* @__PURE__ */ React.createElement(\n        SearchResultListItemExtension,\n        {\n          rank: result.rank,\n          result: result.document\n        },\n        /* @__PURE__ */ React.createElement(\n          HigherOrderDefaultResultListItem,\n          {\n            rank: result.rank,\n            highlight: result.highlight,\n            result: result.document\n          }\n        )\n      ));\n    },\n    [elements]\n  );\n};\nconst SearchResultListItemExtensions = (props) => {\n  const { results, children, ...rest } = props;\n  const render = useSearchResultListItemExtensions(children);\n  return /* @__PURE__ */ React.createElement(List, { ...rest }, results.map(render));\n};\n\nexport { SearchResultListItemExtension, SearchResultListItemExtensions, createSearchResultListItemExtension, useSearchResultListItemExtensions };\n//# sourceMappingURL=extensions.esm.js.map\n","import React, { useState, useEffect, Fragment, cloneElement } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useSearch, searchApiRef } from '@backstage/plugin-search-react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AllIcon from '@material-ui/icons/FontDownload';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    backgroundColor: \"rgba(0, 0, 0, .11)\"\n  },\n  cardContent: {\n    paddingTop: theme.spacing(1)\n  },\n  icon: {\n    color: theme.palette.text.primary\n  },\n  list: {\n    width: \"100%\"\n  },\n  listItemIcon: {\n    width: \"24px\",\n    height: \"24px\"\n  },\n  accordion: {\n    backgroundColor: theme.palette.background.paper\n  },\n  accordionSummary: {\n    minHeight: \"auto\",\n    \"&.Mui-expanded\": {\n      minHeight: \"auto\"\n    }\n  },\n  accordionSummaryContent: {\n    margin: theme.spacing(2, 0),\n    \"&.Mui-expanded\": {\n      margin: theme.spacing(2, 0)\n    }\n  },\n  accordionDetails: {\n    padding: theme.spacing(0, 0, 1)\n  }\n}));\nconst SearchTypeAccordion = (props) => {\n  const classes = useStyles();\n  const { filters, setPageCursor, setTypes, term, types } = useSearch();\n  const searchApi = useApi(searchApiRef);\n  const [expanded, setExpanded] = useState(true);\n  const { defaultValue, name, showCounts, types: givenTypes } = props;\n  const toggleExpanded = () => setExpanded((prevState) => !prevState);\n  const handleClick = (type) => {\n    return () => {\n      setTypes(type !== \"\" ? [type] : []);\n      setPageCursor(void 0);\n      setExpanded(false);\n    };\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: \"All\",\n      icon: /* @__PURE__ */ React.createElement(AllIcon, null)\n    },\n    ...givenTypes\n  ];\n  const selected = types[0] || \"\";\n  const { value: resultCounts } = useAsync(async () => {\n    if (!showCounts) {\n      return {};\n    }\n    const counts = await Promise.all(\n      definedTypes.map((t) => t.value).map(async (type) => {\n        const { numberOfResults } = await searchApi.query({\n          term,\n          types: type ? [type] : [],\n          filters: types.includes(type) || !types.length && !type ? filters : {},\n          pageLimit: 0\n        });\n        return [\n          type,\n          numberOfResults !== void 0 ? `${numberOfResults >= 1e4 ? `>10000` : numberOfResults} results` : \" -- \"\n        ];\n      })\n    );\n    return Object.fromEntries(counts);\n  }, [filters, showCounts, term, types]);\n  return /* @__PURE__ */ React.createElement(Card, { className: classes.card }, /* @__PURE__ */ React.createElement(CardHeader, { title: name, titleTypographyProps: { variant: \"overline\" } }), /* @__PURE__ */ React.createElement(CardContent, { className: classes.cardContent }, /* @__PURE__ */ React.createElement(\n    Accordion,\n    {\n      className: classes.accordion,\n      expanded,\n      onChange: toggleExpanded\n    },\n    /* @__PURE__ */ React.createElement(\n      AccordionSummary,\n      {\n        classes: {\n          root: classes.accordionSummary,\n          content: classes.accordionSummaryContent\n        },\n        expandIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { className: classes.icon }),\n        IconButtonProps: { size: \"small\" }\n      },\n      expanded ? \"Collapse\" : definedTypes.filter((t) => t.value === selected)[0].name\n    ),\n    /* @__PURE__ */ React.createElement(AccordionDetails, { classes: { root: classes.accordionDetails } }, /* @__PURE__ */ React.createElement(\n      List,\n      {\n        className: classes.list,\n        component: \"nav\",\n        \"aria-label\": \"filter by type\",\n        disablePadding: true,\n        dense: true\n      },\n      definedTypes.map((type) => /* @__PURE__ */ React.createElement(Fragment, { key: type.value }, /* @__PURE__ */ React.createElement(Divider, null), /* @__PURE__ */ React.createElement(\n        ListItem,\n        {\n          selected: types[0] === type.value || types.length === 0 && type.value === \"\",\n          onClick: handleClick(type.value),\n          button: true\n        },\n        /* @__PURE__ */ React.createElement(ListItemIcon, null, cloneElement(type.icon, {\n          className: classes.listItemIcon\n        })),\n        /* @__PURE__ */ React.createElement(\n          ListItemText,\n          {\n            primary: type.name,\n            secondary: resultCounts && resultCounts[type.value]\n          }\n        )\n      )))\n    ))\n  )));\n};\n\nexport { SearchTypeAccordion };\n//# sourceMappingURL=SearchType.Accordion.esm.js.map\n","import React, { useEffect } from 'react';\nimport { useSearch } from '@backstage/plugin-search-react';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.textVerySubtle}`\n  },\n  tab: {\n    height: \"50px\",\n    fontWeight: theme.typography.fontWeightBold,\n    fontSize: theme.typography.pxToRem(13),\n    color: theme.palette.text.primary,\n    minWidth: \"130px\"\n  }\n}));\nconst SearchTypeTabs = (props) => {\n  const classes = useStyles();\n  const { setPageCursor, setTypes, types } = useSearch();\n  const { defaultValue, types: givenTypes } = props;\n  const changeTab = (_, newType) => {\n    setTypes(newType !== \"\" ? [newType] : []);\n    setPageCursor(void 0);\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: \"All\"\n    },\n    ...givenTypes\n  ];\n  return /* @__PURE__ */ React.createElement(\n    Tabs,\n    {\n      \"aria-label\": \"List of search types tabs\",\n      className: classes.tabs,\n      indicatorColor: \"primary\",\n      value: types.length === 0 ? \"\" : types[0],\n      onChange: changeTab\n    },\n    definedTypes.map((type, idx) => /* @__PURE__ */ React.createElement(\n      Tab,\n      {\n        key: idx,\n        className: classes.tab,\n        label: type.name,\n        value: type.value\n      }\n    ))\n  );\n};\n\nexport { SearchTypeTabs };\n//# sourceMappingURL=SearchType.Tabs.esm.js.map\n","import Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { SearchTypeAccordion } from './SearchType.Accordion.esm.js';\nimport { SearchTypeTabs } from './SearchType.Tabs.esm.js';\nimport { useSearch } from '@backstage/plugin-search-react';\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    marginTop: theme.spacing(1)\n  },\n  chip: {\n    margin: 2\n  }\n}));\nconst SearchType = (props) => {\n  const { className, defaultValue, name, values = [] } = props;\n  const classes = useStyles();\n  const { types, setTypes } = useSearch();\n  useEffectOnce(() => {\n    if (!types.length) {\n      if (defaultValue && Array.isArray(defaultValue)) {\n        setTypes(defaultValue);\n      } else if (defaultValue) {\n        setTypes([defaultValue]);\n      }\n    }\n  });\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setTypes(value);\n  };\n  return /* @__PURE__ */ React.createElement(\n    FormControl,\n    {\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-typefilter-next\"\n    },\n    /* @__PURE__ */ React.createElement(InputLabel, { className: classes.label, margin: \"dense\" }, name),\n    /* @__PURE__ */ React.createElement(\n      Select,\n      {\n        multiple: true,\n        variant: \"outlined\",\n        value: types,\n        onChange: handleChange,\n        placeholder: \"All Results\",\n        renderValue: (selected) => /* @__PURE__ */ React.createElement(\"div\", { className: classes.chips }, selected.map((value) => /* @__PURE__ */ React.createElement(\n          Chip,\n          {\n            key: value,\n            label: value,\n            className: classes.chip,\n            size: \"small\"\n          }\n        )))\n      },\n      values.map((value) => /* @__PURE__ */ React.createElement(MenuItem, { key: value, value }, /* @__PURE__ */ React.createElement(Checkbox, { checked: types.indexOf(value) > -1 }), /* @__PURE__ */ React.createElement(ListItemText, { primary: value })))\n    )\n  );\n};\nSearchType.Accordion = (props) => {\n  return /* @__PURE__ */ React.createElement(SearchTypeAccordion, { ...props });\n};\nSearchType.Tabs = (props) => {\n  return /* @__PURE__ */ React.createElement(SearchTypeTabs, { ...props });\n};\n\nexport { SearchType };\n//# sourceMappingURL=SearchType.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport qs from 'qs';\n\nclass SearchClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async query(query) {\n    const queryString = qs.stringify(query);\n    const url = `${await this.discoveryApi.getBaseUrl(\n      \"search\"\n    )}/query?${queryString}`;\n    const response = await this.fetchApi.fetch(url);\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n}\n\nexport { SearchClient };\n//# sourceMappingURL=apis.esm.js.map\n","import { SearchClient } from './apis.esm.js';\nimport { searchApiRef } from '@backstage/plugin-search-react';\nimport { createRouteRef, createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"search\"\n});\nconst searchPlugin = createPlugin({\n  id: \"search\",\n  apis: [\n    createApiFactory({\n      api: searchApiRef,\n      deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },\n      factory: ({ discoveryApi, fetchApi }) => {\n        return new SearchClient({ discoveryApi, fetchApi });\n      }\n    })\n  ],\n  routes: {\n    root: rootRouteRef\n  }\n});\nconst SearchPage = searchPlugin.provide(\n  createRoutableExtension({\n    name: \"SearchPage\",\n    component: () => import('./components/SearchPage/index.esm.js').then((m) => m.SearchPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst SidebarSearchModal = searchPlugin.provide(\n  createComponentExtension({\n    name: \"SidebarSearchModal\",\n    component: {\n      lazy: () => import('./components/SidebarSearchModal/index.esm.js').then(\n        (m) => m.SidebarSearchModal\n      )\n    }\n  })\n);\nconst HomePageSearchBar = searchPlugin.provide(\n  createComponentExtension({\n    name: \"HomePageSearchBar\",\n    component: {\n      lazy: () => import('./components/HomePageComponent/index.esm.js').then((m) => m.HomePageSearchBar)\n    }\n  })\n);\n\nexport { HomePageSearchBar, SearchPage, SidebarSearchModal, rootRouteRef, searchPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","const TechDocsAddonLocations = Object.freeze({\n  /**\n   * These addons fill up the header from the right, on the same line as the\n   * title.\n   */\n  Header: \"Header\",\n  /**\n   * These addons appear below the header and above all content; tooling addons\n   * can be inserted for convenience.\n   */\n  Subheader: \"Subheader\",\n  /**\n   * These addons are items added to the settings menu list and are designed to make\n   * the reader experience customizable, for example accessibility options\n   */\n  Settings: \"Settings\",\n  /**\n   * These addons appear left of the content and above the navigation.\n   */\n  PrimarySidebar: \"PrimarySidebar\",\n  /**\n   * These addons appear right of the content and above the table of contents.\n   */\n  SecondarySidebar: \"SecondarySidebar\",\n  /**\n   * A virtual location which allows mutation of all content within the shadow\n   * root by transforming DOM nodes. These addons should return null on render.\n   */\n  Content: \"Content\"\n  /**\n   * todo(backstage/community): This is a proposed virtual location which would\n   * help implement a common addon pattern in which many instances of a given\n   * element in markdown would be dynamically replaced at render-time based on\n   * attributes provided on that element, for example:\n   *\n   * ```md\n   * ## For Fun\n   * <TechDocsAddon>CatGif</TechDocsAddon>\n   *\n   * ## Component Metadata\n   * <TechDocsAddon entityRef=\"default:component/some-component-name\">CatalogEntityCard</TechDocsAddon>\n   *\n   * ## System Metadata\n   * <TechDocsAddon entityRef=\"default:system/some-system-name\">CatalogEntityCard</TechDocsAddon>\n   * ```\n   *\n   * Could correspond to a TechDocs addon named `CatalogEntityCard` with\n   * location `TechDocsAddonLocations.COMPONENT`, whose `component` would be\n   * the react component that would be rendered in place of all instances of\n   * the markdown illustrated above.\n   *\n   * The `@backstage/plugin-techdocs-react` package would need to be updated to, in\n   * cases where such addons had been registered, find all instances of the\n   * the `<TechDocsAddon>` tag whose `textContent` corresponded with the name of the\n   * addon, then replace them with component instances of the addon component,\n   * passing any attributes from the tag as props to the component.\n   */\n  // Component: 'Component',\n});\n\nexport { TechDocsAddonLocations };\n//# sourceMappingURL=types.esm.js.map\n","import { createContext, useContext } from 'react';\n\nfunction getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nfunction createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  const versionedValue = {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n  Object.defineProperty(versionedValue, \"$map\", {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return versions;\n    }\n  });\n  return versionedValue;\n}\n\nfunction createVersionedContext(key) {\n  return getOrCreateGlobalSingleton(\n    key,\n    () => createContext(void 0)\n  );\n}\nfunction useVersionedContext(key) {\n  return useContext(createVersionedContext(key));\n}\nfunction createVersionedContextForTesting(key) {\n  return {\n    set(versions) {\n      globalThis[`__@backstage/${key}__`] = createContext(\n        createVersionedValueMap(versions)\n      );\n    },\n    reset() {\n      delete globalThis[`__@backstage/${key}__`];\n    }\n  };\n}\n\nexport { createVersionedContext, createVersionedContextForTesting, createVersionedValueMap, getOrCreateGlobalSingleton, useVersionedContext };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\"\n});\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\"\n});\n\nexport { techdocsApiRef, techdocsStorageApiRef };\n//# sourceMappingURL=api.esm.js.map\n","function toLowercaseEntityRefMaybe(entityRef, config) {\n  if (config.getOptionalBoolean(\"techdocs.legacyUseCaseSensitiveTripletPaths\"))\n    return entityRef;\n  entityRef.kind = entityRef.kind.toLocaleLowerCase();\n  entityRef.name = entityRef.name.toLocaleLowerCase();\n  entityRef.namespace = entityRef.namespace.toLocaleLowerCase();\n  return entityRef;\n}\n\nexport { toLowercaseEntityRefMaybe };\n//# sourceMappingURL=helpers.esm.js.map\n","import React, { memo, useState, useEffect, useContext } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { techdocsApiRef } from './api.esm.js';\nimport { toLowercaseEntityRefMaybe } from './helpers.esm.js';\n\nconst areEntityRefsEqual = (prevEntityRef, nextEntityRef) => {\n  return stringifyEntityRef(prevEntityRef) === stringifyEntityRef(nextEntityRef);\n};\nconst defaultTechDocsReaderPageValue = {\n  title: \"\",\n  subtitle: \"\",\n  setTitle: () => {\n  },\n  setSubtitle: () => {\n  },\n  setShadowRoot: () => {\n  },\n  metadata: { loading: true },\n  entityMetadata: { loading: true },\n  entityRef: { kind: \"\", name: \"\", namespace: \"\" }\n};\nconst TechDocsReaderPageContext = createVersionedContext(\"techdocs-reader-page-context\");\nconst TechDocsReaderPageProvider = memo(\n  (props) => {\n    const { entityRef, children } = props;\n    const techdocsApi = useApi(techdocsApiRef);\n    const config = useApi(configApiRef);\n    const entityMetadata = useAsync(async () => {\n      return techdocsApi.getEntityMetadata(entityRef);\n    }, [entityRef]);\n    const metadata = useAsyncRetry(async () => {\n      return techdocsApi.getTechDocsMetadata(entityRef);\n    }, [entityRef]);\n    const [title, setTitle] = useState(defaultTechDocsReaderPageValue.title);\n    const [subtitle, setSubtitle] = useState(\n      defaultTechDocsReaderPageValue.subtitle\n    );\n    const [shadowRoot, setShadowRoot] = useState(\n      defaultTechDocsReaderPageValue.shadowRoot\n    );\n    useEffect(() => {\n      if (shadowRoot && !metadata.value && !metadata.loading) {\n        metadata.retry();\n      }\n    }, [\n      metadata.value,\n      metadata.loading,\n      shadowRoot,\n      metadata.retry,\n      metadata\n    ]);\n    const value = {\n      metadata,\n      entityRef: toLowercaseEntityRefMaybe(entityRef, config),\n      entityMetadata,\n      shadowRoot,\n      setShadowRoot,\n      title,\n      setTitle,\n      subtitle,\n      setSubtitle\n    };\n    const versionedValue = createVersionedValueMap({ 1: value });\n    return /* @__PURE__ */ React.createElement(\n      AnalyticsContext,\n      {\n        attributes: { entityRef: stringifyEntityRef(entityRef) }\n      },\n      /* @__PURE__ */ React.createElement(TechDocsReaderPageContext.Provider, { value: versionedValue }, children instanceof Function ? children(value) : children)\n    );\n  },\n  (prevProps, nextProps) => {\n    return areEntityRefsEqual(prevProps.entityRef, nextProps.entityRef);\n  }\n);\nconst useTechDocsReaderPage = () => {\n  const versionedContext = useContext(TechDocsReaderPageContext);\n  if (versionedContext === void 0) {\n    return defaultTechDocsReaderPageValue;\n  }\n  const context = versionedContext.atVersion(1);\n  if (context === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return context;\n};\n\nexport { TechDocsReaderPageProvider, useTechDocsReaderPage };\n//# sourceMappingURL=context.esm.js.map\n","import { useState, useEffect, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useTechDocsReaderPage } from './context.esm.js';\n\nconst useShadowRoot = () => {\n  const { shadowRoot } = useTechDocsReaderPage();\n  return shadowRoot;\n};\nconst useShadowRootElements = (selectors) => {\n  const shadowRoot = useShadowRoot();\n  const [render, rerender] = useState(false);\n  useEffect(() => {\n    let observer;\n    if (shadowRoot) {\n      observer = new MutationObserver(() => {\n        rerender(!render);\n      });\n      observer.observe(shadowRoot, {\n        attributes: true,\n        characterData: true,\n        childList: true,\n        subtree: true\n      });\n    }\n    return () => observer?.disconnect();\n  }, [shadowRoot, render, rerender]);\n  if (!shadowRoot) return [];\n  return selectors.map((selector) => shadowRoot.querySelectorAll(selector)).filter((nodeList) => nodeList.length).map((nodeList) => Array.from(nodeList)).flat();\n};\nconst isValidSelection = (newSelection) => {\n  return newSelection.toString() && newSelection.rangeCount && newSelection.getRangeAt(0).getBoundingClientRect().top;\n};\nconst useShadowRootSelection = (waitMillis = 0) => {\n  const shadowRoot = useShadowRoot();\n  const [selection, setSelection] = useState(null);\n  const handleSelectionChange = useMemo(\n    () => debounce(() => {\n      const shadowDocument = shadowRoot;\n      const newSelection = shadowDocument.getSelection ? shadowDocument.getSelection() : document.getSelection();\n      if (newSelection && isValidSelection(newSelection)) {\n        setSelection(newSelection);\n      } else {\n        setSelection(null);\n      }\n    }, waitMillis),\n    [shadowRoot, setSelection, waitMillis]\n  );\n  useEffect(() => {\n    window.document.addEventListener(\"selectionchange\", handleSelectionChange);\n    return () => {\n      handleSelectionChange.cancel();\n      window.document.removeEventListener(\n        \"selectionchange\",\n        handleSelectionChange\n      );\n    };\n  }, [handleSelectionChange]);\n  return selection;\n};\n\nexport { useShadowRoot, useShadowRootElements, useShadowRootSelection };\n//# sourceMappingURL=hooks.esm.js.map\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useLocalStorageValue } from '@react-hookz/web';\nimport { withStyles, Button } from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst NESTED_LIST_TOGGLE = \".md-nav__item--nested .md-toggle\";\nconst EXPANDABLE_NAVIGATION_LOCAL_STORAGE = \"@backstage/techdocs-addons/nav-expanded\";\nconst StyledButton = withStyles({\n  root: {\n    position: \"absolute\",\n    left: \"220px\",\n    top: \"19px\",\n    padding: 0,\n    minWidth: 0\n  }\n})(Button);\nconst CollapsedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ChevronRightIcon);\nconst ExpandedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ExpandMoreIcon);\nconst ExpandableNavigationAddon = () => {\n  const defaultValue = { expandAllNestedNavs: false };\n  const { value: expanded, set: setExpanded } = useLocalStorageValue(\n    EXPANDABLE_NAVIGATION_LOCAL_STORAGE,\n    { defaultValue }\n  );\n  const [hasNavSubLevels, setHasNavSubLevels] = useState(false);\n  const [...checkboxToggles] = useShadowRootElements([\n    NESTED_LIST_TOGGLE\n  ]);\n  const shouldToggle = useCallback(\n    (item) => {\n      const isExpanded = item.checked;\n      const shouldExpand = expanded?.expandAllNestedNavs;\n      if (shouldExpand && !isExpanded) {\n        return true;\n      }\n      if (!shouldExpand && isExpanded) {\n        return true;\n      }\n      return false;\n    },\n    [expanded]\n  );\n  useEffect(() => {\n    if (!checkboxToggles?.length) return;\n    setHasNavSubLevels(true);\n    checkboxToggles.forEach((item) => {\n      if (shouldToggle(item)) item.click();\n    });\n  }, [expanded, shouldToggle, checkboxToggles]);\n  const handleState = () => {\n    setExpanded((prevState) => ({\n      expandAllNestedNavs: !prevState?.expandAllNestedNavs\n    }));\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, hasNavSubLevels ? /* @__PURE__ */ React.createElement(\n    StyledButton,\n    {\n      size: \"small\",\n      onClick: handleState,\n      \"aria-label\": expanded?.expandAllNestedNavs ? \"collapse-nav\" : \"expand-nav\"\n    },\n    expanded?.expandAllNestedNavs ? /* @__PURE__ */ React.createElement(ExpandedIcon, null) : /* @__PURE__ */ React.createElement(CollapsedIcon, null)\n  ) : null);\n};\n\nexport { ExpandableNavigationAddon };\n//# sourceMappingURL=ExpandableNavigation.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGithubIntegrationConfigs } from './config.esm.js';\n\nclass GithubIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGithubIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.github\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GithubIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceGithubUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceGithubUrlType(url, \"edit\");\n  }\n  parseRateLimitInfo(response) {\n    return {\n      isRateLimited: response.status === 429 || response.status === 403 && response.headers.get(\"x-ratelimit-remaining\") === \"0\"\n    };\n  }\n}\nfunction replaceGithubUrlType(url, type) {\n  return url.replace(\n    /\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//,\n    (_, host, owner, repo) => {\n      return `//${host}/${owner}/${repo}/${type}/`;\n    }\n  );\n}\n\nexport { GithubIntegration, replaceGithubUrlType };\n//# sourceMappingURL=GithubIntegration.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGitLabIntegrationConfigs } from './config.esm.js';\n\nclass GitLabIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGitLabIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gitlab\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GitLabIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceGitLabUrlType(url, \"edit\");\n  }\n}\nfunction replaceGitLabUrlType(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nexport { GitLabIntegration, replaceGitLabUrlType };\n//# sourceMappingURL=GitLabIntegration.esm.js.map\n","const ADDON_FEEDBACK_CONTAINER_ID = \"techdocs-report-issue\";\nconst ADDON_FEEDBACK_CONTAINER_SELECTOR = `#${ADDON_FEEDBACK_CONTAINER_ID}`;\nconst PAGE_EDIT_LINK_SELECTOR = '[title^=\"Edit this page\"]';\nconst PAGE_FEEDBACK_LINK_SELECTOR = '[title^=\"Leave feedback for\"]';\nconst PAGE_MAIN_CONTENT_SELECTOR = '[data-md-component=\"main\"] .md-content';\n\nexport { ADDON_FEEDBACK_CONTAINER_ID, ADDON_FEEDBACK_CONTAINER_SELECTOR, PAGE_EDIT_LINK_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, PAGE_MAIN_CONTENT_SELECTOR };\n//# sourceMappingURL=constants.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { replaceGithubUrlType, replaceGitLabUrlType } from '@backstage/integration';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { useShadowRootSelection, useShadowRootElements } from '@backstage/plugin-techdocs-react';\nimport { PAGE_EDIT_LINK_SELECTOR } from './constants.esm.js';\n\nconst resolveBlobUrl = (url, type) => {\n  if (type === \"github\") {\n    return replaceGithubUrlType(url, \"blob\");\n  } else if (type === \"gitlab\") {\n    return replaceGitLabUrlType(url, \"blob\");\n  }\n  console.error(\n    `Invalid SCM type ${type} found in ReportIssue addon for URL ${url}!`\n  );\n  return url;\n};\nconst getTitle = (selection) => {\n  const text = selection.toString().substring(0, 70);\n  const ellipsis = text.length === 70 ? \"...\" : \"\";\n  return `Documentation feedback: ${text}${ellipsis}`;\n};\nconst getBody = (selection, markdownUrl, appTitle) => {\n  const title = \"## Documentation Feedback \\u{1F4DD}\";\n  const subheading = \"#### The highlighted text:\";\n  const commentHeading = \"#### The comment on the text:\";\n  const commentPlaceholder = \"_>replace this line with your comment<_\";\n  const highlightedTextAsQuote = selection.toString().trim().split(\"\\n\").map((line) => `> ${line.trim()}`).join(\"\\n\");\n  const facts = [\n    `${appTitle} URL: <${window.location.href}> \nMarkdown URL: <${markdownUrl}>`\n  ];\n  return `${title}\n\n ${subheading} \n\n ${highlightedTextAsQuote}\n\n ${commentHeading} \n ${commentPlaceholder}\n\n ___\n${facts}`;\n};\nconst useGitTemplate = (debounceTime) => {\n  const initialTemplate = { title: \"\", body: \"\" };\n  const selection = useShadowRootSelection(debounceTime);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  if (!selection || !url) return initialTemplate;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return initialTemplate;\n  return {\n    title: getTitle(selection),\n    body: getBody(selection, resolveBlobUrl(url, type), appTitle)\n  };\n};\nconst useGitRepository = () => {\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  if (!url) return null;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return null;\n  return { ...parseGitUrl(resolveBlobUrl(url, type)), type };\n};\n\nexport { getBody, getTitle, useGitRepository, useGitTemplate };\n//# sourceMappingURL=hooks.esm.js.map\n","import { useApp } from '@backstage/core-plugin-api';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport React__default from 'react';\n\nfunction AppIcon(props) {\n  const { id: key, Fallback = MuiBrokenImageIcon, ...rest } = props;\n  const app = useApp();\n  const Icon = app.getSystemIcon(key) ?? Fallback;\n  return /* @__PURE__ */ React__default.createElement(Icon, { ...rest });\n}\nfunction BrokenImageIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"brokenImage\", ...props });\n}\nfunction CatalogIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"catalog\", ...props });\n}\nfunction ChatIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"chat\", ...props });\n}\nfunction DashboardIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"dashboard\", ...props });\n}\nfunction DocsIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"docs\", ...props });\n}\nfunction EmailIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"email\", ...props });\n}\nfunction GitHubIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"github\", ...props });\n}\nfunction GroupIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"group\", ...props });\n}\nfunction HelpIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"help\", ...props });\n}\nfunction UserIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"user\", ...props });\n}\nfunction WarningIcon(props) {\n  return /* @__PURE__ */ React__default.createElement(AppIcon, { id: \"warning\", ...props });\n}\n\nexport { AppIcon, BrokenImageIcon, CatalogIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, GitHubIcon, GroupIcon, HelpIcon, UserIcon, WarningIcon };\n//# sourceMappingURL=icons.esm.js.map\n","import { useAnalytics, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport MaterialLink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { trimEnd } from 'lodash';\nimport React__default from 'react';\nimport { Link as Link$1, createRoutesFromChildren, Route } from 'react-router-dom';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ React__default.createElement(Route, { index: true, element: /* @__PURE__ */ React__default.createElement(\"div\", null) }));\n  return !obj.index;\n}\nconst useStyles = makeStyles(\n  {\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      userSelect: \"none\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    }\n  },\n  { name: \"Link\" }\n);\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  const base = \"http://sample.dev\";\n  const url = useBaseUrl() ?? \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText(node?.props?.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = React__default.forwardRef(\n  ({ onClick, noTrack, ...props }, ref) => {\n    const classes = useStyles();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick?.(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className)\n        },\n        props.children,\n        /* @__PURE__ */ React__default.createElement(Typography, { component: \"span\", className: classes.visuallyHidden }, \", Opens in a new window\")\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ React__default.createElement(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nexport { Link, isExternalUri, isReactRouterBeta, useResolvedPath };\n//# sourceMappingURL=Link.esm.js.map\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport { Link, GitHubIcon } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridAutoFlow: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: theme.palette.common.black,\n    fontSize: theme.typography.button.fontSize\n  }\n}));\nconst getIcon = ({ type }) => {\n  if (type === \"github\") {\n    return GitHubIcon;\n  }\n  return BugReportIcon;\n};\nconst getName = ({ type }) => {\n  if (type === \"github\") {\n    return \"Github\";\n  }\n  return \"Gitlab\";\n};\nconst getUrl = (repository, template) => {\n  const { title, body } = template;\n  const encodedTitle = encodeURIComponent(title);\n  const encodedBody = encodeURIComponent(body);\n  const { protocol, resource, owner, name, type } = repository;\n  const url = `${protocol}://${resource}/${owner}/${name}`;\n  const encodedUrl = encodeURI(url);\n  if (type === \"github\") {\n    return `${encodedUrl}/issues/new?title=${encodedTitle}&body=${encodedBody}`;\n  }\n  return `${encodedUrl}/issues/new?issue[title]=${encodedTitle}&issue[description]=${encodedBody}`;\n};\nconst IssueLink = ({ template, repository }) => {\n  const classes = useStyles();\n  const Icon = getIcon(repository);\n  const url = getUrl(repository, template);\n  return /* @__PURE__ */ React.createElement(Link, { className: classes.root, to: url, target: \"_blank\" }, /* @__PURE__ */ React.createElement(Icon, null), \" Open new \", getName(repository), \" issue\");\n};\n\nexport { IssueLink };\n//# sourceMappingURL=IssueLink.esm.js.map\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, Portal, Paper } from '@material-ui/core';\nimport { useGitRepository, useGitTemplate } from './hooks.esm.js';\nimport { PAGE_MAIN_CONTENT_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, ADDON_FEEDBACK_CONTAINER_SELECTOR, ADDON_FEEDBACK_CONTAINER_ID } from './constants.esm.js';\nimport { IssueLink } from './IssueLink.esm.js';\nimport { useShadowRootSelection, useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    transform: \"translate(-100%, -100%)\",\n    position: \"absolute\",\n    padding: theme.spacing(1),\n    zIndex: theme.zIndex.tooltip,\n    background: theme.palette.common.white\n  }\n}));\nconst ReportIssueAddon = ({\n  debounceTime = 500,\n  templateBuilder: buildTemplate\n}) => {\n  const classes = useStyles();\n  const [style, setStyle] = useState();\n  const repository = useGitRepository();\n  const defaultTemplate = useGitTemplate(debounceTime);\n  const selection = useShadowRootSelection(debounceTime);\n  const [mainContent, feedbackLink] = useShadowRootElements([\n    PAGE_MAIN_CONTENT_SELECTOR,\n    PAGE_FEEDBACK_LINK_SELECTOR\n  ]);\n  let [feedbackContainer] = useShadowRootElements([\n    ADDON_FEEDBACK_CONTAINER_SELECTOR\n  ]);\n  if (feedbackLink) {\n    feedbackLink.style.display = \"none\";\n  }\n  useEffect(() => {\n    if (\n      // todo(backstage/techdocs-core) handle non-repo rendering\n      !repository || !selection || !selection.containsNode(mainContent, true) || selection?.containsNode(feedbackContainer, true)\n    ) {\n      return;\n    }\n    const mainContentPosition = mainContent.getBoundingClientRect();\n    const selectionPosition = selection.getRangeAt(0).getBoundingClientRect();\n    const distanceFromTop = selectionPosition.top - mainContentPosition.top;\n    const minDistanceFromTop = 50;\n    let top = distanceFromTop < minDistanceFromTop ? 101 : distanceFromTop - 16;\n    if (mainContentPosition.top < 0) {\n      const absMainContentTop = Math.abs(mainContentPosition.top);\n      if (distanceFromTop - absMainContentTop < minDistanceFromTop) {\n        top += 89;\n      }\n    }\n    setStyle({\n      top: `${top}px`,\n      left: `${selectionPosition.left + selectionPosition.width / 2}px`\n    });\n  }, [selection, mainContent, feedbackContainer]);\n  if (!selection || !repository || ![\"github\", \"gitlab\"].includes(repository.type))\n    return null;\n  if (!feedbackContainer) {\n    feedbackContainer = document.createElement(\"div\");\n    feedbackContainer.setAttribute(\"id\", ADDON_FEEDBACK_CONTAINER_ID);\n    mainContent.prepend(feedbackContainer);\n  }\n  return /* @__PURE__ */ React.createElement(Portal, { container: feedbackContainer }, /* @__PURE__ */ React.createElement(\n    Paper,\n    {\n      \"data-testid\": \"report-issue-addon\",\n      className: classes.root,\n      style\n    },\n    /* @__PURE__ */ React.createElement(\n      IssueLink,\n      {\n        repository,\n        template: buildTemplate ? buildTemplate({ selection }) : defaultTemplate\n      }\n    )\n  ));\n};\n\nexport { ReportIssueAddon };\n//# sourceMappingURL=ReportIssue.esm.js.map\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { withStyles, Slider, makeStyles, useTheme, MenuItem, ListItemText, Typography, Box, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst boxShadow = \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)\";\nconst StyledSlider = withStyles((theme) => ({\n  root: {\n    height: 2,\n    padding: \"15px 0\"\n  },\n  thumb: {\n    height: 18,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    boxShadow,\n    marginTop: -9,\n    marginLeft: -9,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)\",\n      // Reset on touch devices, it doesn't add specificity\n      \"@media (hover: none)\": {\n        boxShadow\n      }\n    }\n  },\n  active: {},\n  valueLabel: {\n    top: \"100%\",\n    left: \"50%\",\n    transform: \"scale(1) translate(-50%, -5px) !important\",\n    \"& *\": {\n      color: theme.palette.textSubtle,\n      fontSize: theme.typography.caption.fontSize,\n      background: \"transparent\"\n    }\n  },\n  track: {\n    height: 2\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5\n  },\n  mark: {\n    height: 10,\n    width: 1,\n    marginTop: -4\n  },\n  markActive: {\n    opacity: 1,\n    backgroundColor: \"currentColor\"\n  }\n}))(Slider);\nconst settings = {\n  key: \"techdocs.addons.settings.textsize\",\n  defaultValue: 100\n};\nconst marks = [\n  {\n    value: 90\n  },\n  {\n    value: 100\n  },\n  {\n    value: 115\n  },\n  {\n    value: 130\n  },\n  {\n    value: 150\n  }\n];\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    color: theme.palette.textSubtle,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 0,\n    minWidth: 200\n  },\n  menuItem: {\n    \"&:hover\": {\n      background: \"transparent\"\n    }\n  },\n  decreaseButton: {\n    marginRight: theme.spacing(1)\n  },\n  increaseButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst TextSizeAddon = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [body] = useShadowRootElements([\"body\"]);\n  const [value, setValue] = useState(() => {\n    const initialValue = localStorage?.getItem(settings.key);\n    return initialValue ? parseInt(initialValue, 10) : settings.defaultValue;\n  });\n  const values = useMemo(() => marks.map((mark) => mark.value), []);\n  const index = useMemo(() => values.indexOf(value), [values, value]);\n  const min = useMemo(() => values[0], [values]);\n  const max = useMemo(() => values[values.length - 1], [values]);\n  const getValueText = useCallback(() => `${value}%`, [value]);\n  const handleChangeCommitted = useCallback(\n    (_event, newValue) => {\n      if (!Array.isArray(newValue)) {\n        setValue(newValue);\n        localStorage?.setItem(settings.key, String(newValue));\n      }\n    },\n    [setValue]\n  );\n  const handleDecreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index - 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  const handleIncreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index + 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  useEffect(() => {\n    if (!body) return;\n    const htmlFontSize = theme.typography?.htmlFontSize ?? 16;\n    body.style.setProperty(\n      \"--md-typeset-font-size\",\n      `${htmlFontSize * (value / 100)}px`\n    );\n  }, [body, value, theme]);\n  return /* @__PURE__ */ React.createElement(MenuItem, { className: classes.menuItem, button: true, disableRipple: true }, /* @__PURE__ */ React.createElement(\n    ListItemText,\n    {\n      primary: /* @__PURE__ */ React.createElement(Typography, { variant: \"subtitle2\", color: \"textPrimary\" }, \"Text size\"),\n      secondary: /* @__PURE__ */ React.createElement(Box, { className: classes.container }, /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          className: classes.decreaseButton,\n          size: \"small\",\n          edge: \"start\",\n          disabled: value === min,\n          onClick: handleDecreaseClick,\n          \"aria-label\": \"Decrease text size\"\n        },\n        /* @__PURE__ */ React.createElement(RemoveIcon, null)\n      ), /* @__PURE__ */ React.createElement(\n        StyledSlider,\n        {\n          value,\n          \"aria-labelledby\": \"text-size-slider\",\n          getAriaValueText: getValueText,\n          valueLabelDisplay: \"on\",\n          valueLabelFormat: getValueText,\n          marks,\n          step: null,\n          min,\n          max,\n          onChangeCommitted: handleChangeCommitted\n        }\n      ), /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          className: classes.increaseButton,\n          size: \"small\",\n          edge: \"end\",\n          disabled: value === max,\n          onClick: handleIncreaseClick,\n          \"aria-label\": \"Increase text size\"\n        },\n        /* @__PURE__ */ React.createElement(AddIcon, null)\n      )),\n      disableTypography: true\n    }\n  ));\n};\n\nexport { TextSizeAddon };\n//# sourceMappingURL=TextSize.esm.js.map\n","import { useEffect } from 'react';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\nimport PhotoSwipeLightbox from 'photoswipe/lightbox';\nimport PhotoSwipe from 'photoswipe';\nimport 'photoswipe/style.css';\n\nconst LightBoxAddon = () => {\n  const images = useShadowRootElements([\"img\"]);\n  useEffect(() => {\n    let dataSourceImages = null;\n    let lightbox = new PhotoSwipeLightbox({\n      pswpModule: PhotoSwipe,\n      initialZoomLevel: 1,\n      secondaryZoomLevel: (zoomLevelObject) => {\n        const imageWidth = zoomLevelObject.elementSize.x;\n        const imageHeight = zoomLevelObject.elementSize.y;\n        const viewportWidth = zoomLevelObject.panAreaSize.x;\n        const viewportHeight = zoomLevelObject.panAreaSize.y;\n        const widthScale = viewportWidth / imageWidth;\n        const heightScale = viewportHeight / imageHeight;\n        const scaleFactor = Math.min(widthScale, heightScale);\n        return scaleFactor;\n      },\n      wheelToZoom: true,\n      arrowPrevSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowBackIosIcon\" aria-label=\"fontSize large\"><path d=\"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"></path></svg>',\n      arrowNextSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowForwardIosIcon\" aria-label=\"fontSize large\"><path d=\"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z\"></path></svg>',\n      closeSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"CloseIcon\" aria-label=\"fontSize large\"><path d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>',\n      zoomSVG: `<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ZoomIcon\" aria-label=\"fontSize large\">\n          <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path><path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" id=\"photoswipe-zoom-icon-zoomin-path\"></path><path d=\"M12 10H 7 V 9 H 12 Z\" id=\"photoswipe-zoom-icon-zoomout-path\">\n        </svg>`\n    });\n    images.forEach((image, index) => {\n      image.onclick = () => {\n        if (dataSourceImages === null) {\n          dataSourceImages = images.map((dataSourceImage) => {\n            return {\n              element: dataSourceImage,\n              src: dataSourceImage.src,\n              msrc: dataSourceImage.src,\n              alt: dataSourceImage.alt,\n              width: dataSourceImage.clientWidth,\n              height: dataSourceImage.clientHeight\n            };\n          });\n        }\n        lightbox.loadAndOpen(index, dataSourceImages);\n        return false;\n      };\n    });\n    lightbox.init();\n    return () => {\n      lightbox.destroy();\n      lightbox = null;\n    };\n  }, [images]);\n  return null;\n};\n\nexport { LightBoxAddon };\n//# sourceMappingURL=LightBox.esm.js.map\n","import { createPlugin } from '@backstage/core-plugin-api';\nimport { createTechDocsAddonExtension, TechDocsAddonLocations } from '@backstage/plugin-techdocs-react';\nimport { ExpandableNavigationAddon } from './ExpandableNavigation/ExpandableNavigation.esm.js';\nimport { ReportIssueAddon } from './ReportIssue/ReportIssue.esm.js';\nimport { TextSizeAddon } from './TextSize/TextSize.esm.js';\nimport { LightBoxAddon } from './LigthBox/LightBox.esm.js';\n\nconst techdocsModuleAddonsContribPlugin = createPlugin({\n  id: \"techdocsModuleAddonsContrib\"\n});\nconst ExpandableNavigation = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ExpandableNavigation\",\n    location: TechDocsAddonLocations.PrimarySidebar,\n    component: ExpandableNavigationAddon\n  })\n);\nconst ReportIssue = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ReportIssue\",\n    location: TechDocsAddonLocations.Content,\n    component: ReportIssueAddon\n  })\n);\nconst TextSize = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"TextSize\",\n    location: TechDocsAddonLocations.Settings,\n    component: TextSizeAddon\n  })\n);\nconst LightBox = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"LightBox\",\n    location: TechDocsAddonLocations.Content,\n    component: LightBoxAddon\n  })\n);\n\nexport { ExpandableNavigation, LightBox, ReportIssue, TextSize, techdocsModuleAddonsContribPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import React, { useCallback } from 'react';\nimport { useOutlet } from 'react-router-dom';\nimport { attachComponentData, createReactExtension, useElementFilter } from '@backstage/core-plugin-api';\n\nconst TECHDOCS_ADDONS_KEY = \"techdocs.addons.addon.v1\";\nconst TECHDOCS_ADDONS_WRAPPER_KEY = \"techdocs.addons.wrapper.v1\";\nconst TechDocsAddons = () => null;\nattachComponentData(TechDocsAddons, TECHDOCS_ADDONS_WRAPPER_KEY, true);\nconst getDataKeyByName = (name) => {\n  return `${TECHDOCS_ADDONS_KEY}.${name.toLocaleLowerCase(\"en-US\")}`;\n};\nfunction createTechDocsAddonExtension(options) {\n  const { name, component: TechDocsAddon } = options;\n  return createReactExtension({\n    name,\n    component: {\n      sync: (props) => /* @__PURE__ */ React.createElement(TechDocsAddon, { ...props })\n    },\n    data: {\n      [TECHDOCS_ADDONS_KEY]: options,\n      [getDataKeyByName(name)]: true\n    }\n  });\n}\nconst getTechDocsAddonByName = (collection, key) => {\n  return collection.selectByComponentData({ key }).getElements()[0];\n};\nconst getAllTechDocsAddons = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).selectByComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst getAllTechDocsAddonsData = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).findComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst useTechDocsAddons = () => {\n  const node = useOutlet();\n  const collection = useElementFilter(node, getAllTechDocsAddons);\n  const options = useElementFilter(node, getAllTechDocsAddonsData);\n  const findAddonByData = useCallback(\n    (data) => {\n      if (!collection || !data) return null;\n      const nameKey = getDataKeyByName(data.name);\n      return getTechDocsAddonByName(collection, nameKey) ?? null;\n    },\n    [collection]\n  );\n  const renderComponentByName = useCallback(\n    (name) => {\n      const data = options.find((option) => option.name === name);\n      return data ? findAddonByData(data) : null;\n    },\n    [options, findAddonByData]\n  );\n  const renderComponentsByLocation = useCallback(\n    (location) => {\n      const data = options.filter((option) => option.location === location);\n      return data.length ? data.map(findAddonByData) : null;\n    },\n    [options, findAddonByData]\n  );\n  return { renderComponentByName, renderComponentsByLocation };\n};\n\nexport { TECHDOCS_ADDONS_KEY, TECHDOCS_ADDONS_WRAPPER_KEY, TechDocsAddons, createTechDocsAddonExtension, useTechDocsAddons };\n//# sourceMappingURL=addons.esm.js.map\n","import { ResponseError, NotFoundError } from '@backstage/errors';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\n\nclass TechDocsClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getCookie() {\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/cookie`;\n    const response = await this.fetchApi.fetch(`${requestUrl}`, {\n      credentials: \"include\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  /**\n   * Retrieve TechDocs metadata.\n   *\n   * When docs are built, we generate a techdocs_metadata.json and store it along with the generated\n   * static files. It includes necessary data about the docs site. This method requests techdocs-backend\n   * which retrieves the TechDocs metadata.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getTechDocsMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/techdocs/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n  /**\n   * Retrieve metadata about an entity.\n   *\n   * This method requests techdocs-backend which uses the catalog APIs to respond with filtered\n   * information required here.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getEntityMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/entity/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n}\nclass TechDocsStorageClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getStorageUrl() {\n    return this.configApi.getOptionalString(\"techdocs.storageUrl\") ?? `${await this.discoveryApi.getBaseUrl(\"techdocs\")}/static/docs`;\n  }\n  async getBuilder() {\n    return this.configApi.getOptionalString(\"techdocs.builder\") || \"local\";\n  }\n  /**\n   * Fetch HTML content as text for an individual docs page in an entity's docs site.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param path - The unique path to an individual docs page e.g. overview/what-is-new\n   * @returns HTML content of the docs page as string\n   * @throws Throws error when the page is not found.\n   */\n  async getEntityDocs(entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const storageUrl = await this.getStorageUrl();\n    const url = `${storageUrl}/${namespace}/${kind}/${name}/${path}`;\n    const request = await this.fetchApi.fetch(\n      `${url.endsWith(\"/\") ? url : `${url}/`}index.html`\n    );\n    let errorMessage = \"\";\n    switch (request.status) {\n      case 404:\n        errorMessage = \"Page not found. \";\n        if (!path) {\n          errorMessage += \"This could be because there is no index.md file in the root of the docs directory of this repository.\";\n        }\n        throw new NotFoundError(errorMessage);\n      case 500:\n        errorMessage = \"Could not generate documentation or an error in the TechDocs backend. \";\n        throw new Error(errorMessage);\n    }\n    return request.text();\n  }\n  /**\n   * Check if docs are on the latest version and trigger rebuild if not\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param logHandler - Callback to receive log messages from the build process\n   * @returns Whether documents are currently synchronized to newest version\n   * @throws Throws error on error from sync endpoint in TechDocs Backend\n   */\n  async syncEntityDocs(entityId, logHandler = () => {\n  }) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const url = `${apiOrigin}/sync/${namespace}/${kind}/${name}`;\n    return new Promise((resolve, reject) => {\n      const ctrl = new AbortController();\n      fetchEventSource(url, {\n        fetch: this.fetchApi.fetch,\n        signal: ctrl.signal,\n        onmessage(e) {\n          if (e.event === \"log\") {\n            if (e.data) {\n              logHandler(JSON.parse(e.data));\n            }\n          } else if (e.event === \"finish\") {\n            let updated = false;\n            if (e.data) {\n              ({ updated } = JSON.parse(e.data));\n            }\n            resolve(updated ? \"updated\" : \"cached\");\n          } else if (e.event === \"error\") {\n            reject(new Error(e.data));\n          }\n        },\n        onerror(err) {\n          ctrl.abort();\n          reject(err);\n        }\n      });\n    });\n  }\n  async getBaseUrl(oldBaseUrl, entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const newBaseUrl = `${apiOrigin}/static/docs/${namespace}/${kind}/${name}/${path}`;\n    return new URL(\n      oldBaseUrl,\n      newBaseUrl.endsWith(\"/\") ? newBaseUrl : `${newBaseUrl}/`\n    ).toString();\n  }\n}\n\nexport { TechDocsClient, TechDocsStorageClient };\n//# sourceMappingURL=client.esm.js.map\n","import { techdocsStorageApiRef, techdocsApiRef } from '@backstage/plugin-techdocs-react';\nimport { TechDocsStorageClient, TechDocsClient } from './client.esm.js';\nimport { rootRouteRef, rootDocsRouteRef, rootCatalogDocsRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, configApiRef, discoveryApiRef, fetchApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\n\nconst techdocsPlugin = createPlugin({\n  id: \"techdocs\",\n  apis: [\n    createApiFactory({\n      api: techdocsStorageApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsStorageClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    }),\n    createApiFactory({\n      api: techdocsApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    docRoot: rootDocsRouteRef,\n    entityContent: rootCatalogDocsRouteRef\n  }\n});\nconst TechdocsPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechdocsPage\",\n    component: () => import('./Router.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst EntityTechdocsContent = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityTechdocsContent\",\n    component: () => import('./Router.esm.js').then((m) => m.LegacyEmbeddedDocsRouter),\n    mountPoint: rootCatalogDocsRouteRef\n  })\n);\nconst TechDocsCustomHome = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsCustomHome\",\n    component: () => import('./home/components/TechDocsCustomHome.esm.js').then(\n      (m) => m.TechDocsCustomHome\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsIndexPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsIndexPage\",\n    component: () => import('./home/components/TechDocsIndexPage.esm.js').then(\n      (m) => m.TechDocsIndexPage\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsReaderPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsReaderPage\",\n    component: () => import('./reader/components/TechDocsReaderPage/index.esm.js').then(\n      (m) => m.TechDocsReaderPage\n    ),\n    mountPoint: rootDocsRouteRef\n  })\n);\nconst TechDocsSearchResultListItem = techdocsPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"TechDocsSearchResultListItem\",\n    component: () => import('./search/components/TechDocsSearchResultListItem.esm.js').then(\n      (m) => m.TechDocsSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"techdocs\"\n  })\n);\n\nexport { EntityTechdocsContent, TechDocsCustomHome, TechDocsIndexPage, TechDocsReaderPage, TechDocsSearchResultListItem, TechdocsPage, techdocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"techdocs:index-page\"\n});\nconst rootDocsRouteRef = createRouteRef({\n  id: \"techdocs:reader-page\",\n  params: [\"namespace\", \"kind\", \"name\"]\n});\nconst rootCatalogDocsRouteRef = createRouteRef({\n  id: \"techdocs:catalog-reader-view\"\n});\n\nexport { rootCatalogDocsRouteRef, rootDocsRouteRef, rootRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\"\n});\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\"\n});\n\nexport { techdocsApiRef, techdocsStorageApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUserProfile } from '../useUserProfileInfo.esm.js';\nimport { sidebarConfig } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    fontSize: ({ size }) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`\n  }\n}));\nconst UserSettingsSignInAvatar = (props) => {\n  const { size } = props;\n  const { iconSize } = sidebarConfig;\n  const classes = useStyles(size ? { size } : { size: iconSize });\n  const { profile } = useUserProfile();\n  return /* @__PURE__ */ React.createElement(\n    Avatar,\n    {\n      src: profile.picture,\n      className: classes.avatar,\n      alt: \"Profile picture\"\n    }\n  );\n};\n\nexport { UserSettingsSignInAvatar };\n//# sourceMappingURL=UserSettingsSignInAvatar.esm.js.map\n","import React__default, { createContext, useContext } from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst defaultSidebarOpenStateContext = {\n  isOpen: false,\n  setOpen: () => {\n  }\n};\nconst LegacySidebarContext = createContext(\n  defaultSidebarOpenStateContext\n);\nconst VersionedSidebarContext = createVersionedContext(\"sidebar-open-state-context\");\nfunction SidebarOpenStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ React__default.createElement(LegacySidebarContext.Provider, { value }, /* @__PURE__ */ React__default.createElement(\n    VersionedSidebarContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value })\n    },\n    children\n  ));\n}\nconst useSidebarOpenState = () => {\n  const versionedOpenStateContext = useContext(VersionedSidebarContext);\n  const legacyOpenStateContext = useContext(LegacySidebarContext);\n  if (versionedOpenStateContext === void 0) {\n    return legacyOpenStateContext || defaultSidebarOpenStateContext;\n  }\n  const openStateContext = versionedOpenStateContext.atVersion(1);\n  if (openStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return openStateContext;\n};\n\nexport { LegacySidebarContext, SidebarOpenStateProvider, useSidebarOpenState };\n//# sourceMappingURL=SidebarOpenStateContext.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport React__default, { useContext, useState, useEffect } from 'react';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      zIndex: 1e3,\n      position: \"relative\",\n      overflow: \"visible\",\n      width: theme.spacing(7) + 1\n    },\n    drawer: (props) => ({\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: props.left,\n        transition: theme.transitions.create(\"margin-left\", {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.shortest\n        })\n      },\n      top: 0,\n      bottom: 0,\n      padding: 0,\n      background: theme.palette.navigation.submenu?.background ?? \"#404040\",\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      cursor: \"default\",\n      width: props.submenuConfig.drawerWidthClosed,\n      transitionDelay: `${props.submenuConfig.defaultOpenDelayMs}ms`,\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      }\n    }),\n    drawerOpen: (props) => ({\n      width: props.submenuConfig.drawerWidthOpen,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        position: \"relative\",\n        paddingLeft: theme.spacing(3),\n        left: 0,\n        top: 0\n      }\n    }),\n    title: {\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      [theme.breakpoints.down(\"xs\")]: {\n        display: \"none\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebarSubmenu\" }\n);\nconst SidebarSubmenu = (props) => {\n  const { isOpen } = useSidebarOpenState();\n  const { sidebarConfig, submenuConfig } = useContext(SidebarConfigContext);\n  const left = isOpen ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed;\n  const classes = useStyles({ left, submenuConfig });\n  const { isHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\n  useEffect(() => {\n    setIsSubmenuOpen(isHoveredOn);\n  }, [isHoveredOn]);\n  return /* @__PURE__ */ React__default.createElement(\n    Box,\n    {\n      className: classNames(classes.drawer, {\n        [classes.drawerOpen]: isSubmenuOpen\n      })\n    },\n    /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h5\", component: \"span\", className: classes.title }, props.title),\n    props.children\n  );\n};\n\nexport { SidebarSubmenu };\n//# sourceMappingURL=SidebarSubmenu.esm.js.map\n","import { isEqual, isMatch } from 'lodash';\nimport qs from 'qs';\n\nfunction isLocationMatch(currentLocation, toLocation, exact = false) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n  const queryStringMatcher = exact ? isEqual : isMatch;\n  const matching = isEqual(toLocation.pathname, currentLocation.pathname) && queryStringMatcher(currentQueryParameters, toQueryParameters);\n  return matching;\n}\n\nexport { isLocationMatch };\n//# sourceMappingURL=utils.esm.js.map\n","import { useAnalytics, useElementFilter } from '@backstage/core-plugin-api';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport SearchIcon from '@material-ui/icons/Search';\nimport classNames from 'classnames';\nimport React__default, { forwardRef, useContext, useCallback, useMemo, useState } from 'react';\nimport { useLocation, useResolvedPath, Link, resolvePath } from 'react-router-dom';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport DoubleArrowLeft from './icons/DoubleArrowLeft.esm.js';\nimport DoubleArrowRight from './icons/DoubleArrowRight.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\nimport { SidebarSubmenu } from './SidebarSubmenu.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Button from '@material-ui/core/Button';\n\nconst makeSidebarStyles = (sidebarConfig) => makeStyles(\n  (theme) => ({\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"100%\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\",\n      textTransform: \"none\"\n    },\n    closed: {\n      width: sidebarConfig.drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: sidebarConfig.drawerWidthOpen\n      }\n    },\n    highlightable: {\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n      }\n    },\n    highlighted: {\n      background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n    },\n    label: {\n      // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: sidebarConfig.iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      lineHeight: \"0\"\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: theme.typography.fontSize\n    },\n    searchFieldHTMLInput: {\n      padding: theme.spacing(2, 0, 2)\n    },\n    searchContainer: {\n      width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    closedItemIcon: {\n      width: \"100%\",\n      justifyContent: \"center\"\n    },\n    submenuArrow: {\n      display: \"flex\"\n    },\n    expandButton: {\n      background: \"none\",\n      border: \"none\",\n      color: theme.palette.navigation.color,\n      width: \"100%\",\n      cursor: \"pointer\",\n      position: \"relative\",\n      height: 48\n    },\n    arrows: {\n      position: \"absolute\",\n      right: 10\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: sidebarConfig.drawerWidthClosed\n      },\n      \"& $closedItemIcon\": {\n        paddingRight: sidebarConfig.selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -sidebarConfig.selectedIndicatorWidth\n      }\n    }\n  }),\n  { name: \"BackstageSidebarItem\" }\n);\nfunction useMemoStyles(sidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig]\n  );\n  return useStyles();\n}\nconst useLocationMatch = (submenu, location) => useElementFilter(\n  submenu.props.children,\n  (elements) => {\n    let active = false;\n    elements.getElements().forEach(\n      ({\n        props: { to, dropdownItems }\n      }) => {\n        if (!active) {\n          if (dropdownItems?.length) {\n            dropdownItems.forEach(\n              ({ to: _to }) => active = active || isLocationMatch(location, resolvePath(_to))\n            );\n            return;\n          }\n          if (to) {\n            active = isLocationMatch(location, resolvePath(to));\n          }\n        }\n      }\n    );\n    return active;\n  },\n  [location.pathname]\n);\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst sidebarSubmenuType = React__default.createElement(SidebarSubmenu).type;\nconst WorkaroundNavLink = React__default.forwardRef(function WorkaroundNavLinkWithRef({\n  to,\n  end,\n  style,\n  className,\n  activeStyle,\n  caseSensitive,\n  activeClassName = \"active\",\n  \"aria-current\": ariaCurrentProp = \"page\",\n  ...rest\n}, ref) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath(to);\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase(\"en-US\");\n    toPathname = toPathname.toLocaleLowerCase(\"en-US\");\n  }\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n  const ariaCurrent = isActive ? ariaCurrentProp : void 0;\n  return /* @__PURE__ */ React__default.createElement(\n    Link,\n    {\n      ...rest,\n      to,\n      ref,\n      \"aria-current\": ariaCurrent,\n      style: { ...style, ...isActive ? activeStyle : void 0 },\n      className: classNames([\n        typeof className !== \"function\" ? className : void 0,\n        isActive ? activeClassName : void 0\n      ])\n    }\n  );\n});\nconst SidebarItemBase = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen } = useSidebarOpenState();\n  const divStyle = !isOpen && hasSubmenu ? { display: \"flex\", marginLeft: \"20px\" } : { lineHeight: \"0\" };\n  const displayItemIcon = /* @__PURE__ */ React__default.createElement(Box, { style: divStyle }, /* @__PURE__ */ React__default.createElement(Icon, { fontSize: \"small\" }), !isOpen && hasSubmenu ? /* @__PURE__ */ React__default.createElement(ArrowRightIcon, { fontSize: \"small\" }) : /* @__PURE__ */ React__default.createElement(React__default.Fragment, null));\n  const itemIcon = /* @__PURE__ */ React__default.createElement(\n    Badge,\n    {\n      color: \"secondary\",\n      variant: \"dot\",\n      overlap: \"circular\",\n      invisible: !hasNotifications,\n      className: classNames({ [classes.closedItemIcon]: !isOpen })\n    },\n    displayItemIcon\n  );\n  const openContent = /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Box, { \"data-testid\": \"login-button\", className: classes.iconContainer }, itemIcon), text && /* @__PURE__ */ React__default.createElement(\n    Typography,\n    {\n      variant: \"subtitle2\",\n      component: \"span\",\n      className: classes.label\n    },\n    text\n  ), /* @__PURE__ */ React__default.createElement(\"div\", { className: classes.secondaryAction }, children));\n  const content = isOpen ? openContent : itemIcon;\n  const childProps = {\n    onClick,\n    className: classNames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight }\n    )\n  };\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath(\n    !isButtonItem(props) && props.to ? props.to : \"\"\n  );\n  const handleClick = useCallback(\n    (event) => {\n      if (!noTrack) {\n        const action = \"click\";\n        const subject = text ?? \"Sidebar Item\";\n        const options = to ? { attributes: { to } } : void 0;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick?.(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick]\n  );\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ React__default.createElement(\n      Button,\n      {\n        role: \"button\",\n        \"aria-label\": text,\n        ...childProps,\n        ref,\n        onClick: handleClick\n      },\n      content\n    );\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    WorkaroundNavLink,\n    {\n      ...childProps,\n      activeClassName: classes.selected,\n      to: props.to ? props.to : \"\",\n      ref,\n      \"aria-label\": text ? text : props.to,\n      ...navLinkProps,\n      onClick: handleClick\n    },\n    content\n  );\n});\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? /* @__PURE__ */ React__default.createElement(ArrowDropUpIcon, { fontSize: \"small\", className: classes.submenuArrow }) : /* @__PURE__ */ React__default.createElement(ArrowDropDownIcon, { fontSize: \"small\", className: classes.submenuArrow });\n    }\n    return !isHoveredOn && /* @__PURE__ */ React__default.createElement(ArrowRightIcon, { fontSize: \"small\", className: classes.submenuArrow });\n  };\n  return /* @__PURE__ */ React__default.createElement(\n    SidebarItemWithSubmenuContext.Provider,\n    {\n      value: {\n        isHoveredOn,\n        setIsHoveredOn\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(\n      \"div\",\n      {\n        \"data-testid\": \"item-with-submenu\",\n        onMouseLeave: handleMouseLeave,\n        onTouchStart: isHoveredOn ? handleMouseLeave : handleMouseEnter,\n        onMouseEnter: handleMouseEnter,\n        className: classNames(isHoveredOn && classes.highlighted)\n      },\n      /* @__PURE__ */ React__default.createElement(\n        SidebarItemBase,\n        {\n          hasSubmenu: true,\n          className: isActive ? classes.selected : \"\",\n          ...props\n        },\n        arrowIcon()\n      ),\n      isHoveredOn && children\n    )\n  );\n};\nconst SidebarItem = forwardRef((props, ref) => {\n  const [submenu] = useElementFilter(\n    props.children,\n    (elements) => (\n      // Directly comparing child.type with SidebarSubmenu will not work with in\n      // combination with react-hot-loader\n      //\n      // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n      elements.getElements().filter((child) => child.type === sidebarSubmenuType)\n    )\n  );\n  if (submenu) {\n    return /* @__PURE__ */ React__default.createElement(SidebarItemWithSubmenu, { ...props }, submenu);\n  }\n  return /* @__PURE__ */ React__default.createElement(SidebarItemBase, { ...props, ref });\n});\nfunction SidebarSearchField(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState(\"\");\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : SearchIcon;\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      ev.preventDefault();\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ React__default.createElement(Box, { className: classes.searchRoot }, /* @__PURE__ */ React__default.createElement(\n    SidebarItem,\n    {\n      icon: Icon,\n      to: props.to,\n      onClick: handleItemClick,\n      disableHighlight: true\n    },\n    /* @__PURE__ */ React__default.createElement(\n      TextField,\n      {\n        placeholder: \"Search\",\n        value: input,\n        onClick: handleInputClick,\n        onChange: handleInput,\n        onKeyDown: handleEnter,\n        className: classes.searchContainer,\n        InputProps: {\n          disableUnderline: true,\n          className: classes.searchField\n        },\n        inputProps: {\n          className: classes.searchFieldHTMLInput\n        }\n      }\n    )\n  ));\n}\nconst SidebarSpace = styled(\"div\")(\n  {\n    flex: 1\n  },\n  { name: \"BackstageSidebarSpace\" }\n);\nconst SidebarSpacer = styled(\"div\")(\n  {\n    height: 8\n  },\n  { name: \"BackstageSidebarSpacer\" }\n);\nconst SidebarDivider = styled(\"hr\")(\n  ({ theme }) => ({\n    height: 1,\n    width: \"100%\",\n    background: \"#383838\",\n    border: \"none\",\n    margin: theme.spacing(1.2, 0)\n  }),\n  { name: \"BackstageSidebarDivider\" }\n);\nconst styledScrollbar = (theme) => ({\n  overflowY: \"auto\",\n  \"&::-webkit-scrollbar\": {\n    backgroundColor: theme.palette.background.default,\n    width: \"5px\",\n    borderRadius: \"5px\"\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: \"5px\"\n  }\n});\nconst SidebarScrollWrapper = styled(\"div\")(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: \"0 1 auto\",\n    overflowX: \"hidden\",\n    width: \"100%\",\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: \"48px\",\n    overflowY: \"hidden\",\n    \"@media (hover: none)\": scrollbarStyles,\n    \"&:hover\": scrollbarStyles\n  };\n});\nconst SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  if (isSmallScreen) {\n    return null;\n  }\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n  return /* @__PURE__ */ React__default.createElement(\n    Button,\n    {\n      role: \"button\",\n      onClick: handleClick,\n      className: classes.expandButton,\n      \"aria-label\": \"Expand Sidebar\",\n      \"data-testid\": \"sidebar-expand-button\"\n    },\n    /* @__PURE__ */ React__default.createElement(Box, { className: classes.arrows }, isOpen ? /* @__PURE__ */ React__default.createElement(DoubleArrowLeft, null) : /* @__PURE__ */ React__default.createElement(DoubleArrowRight, null))\n  );\n};\n\nexport { SidebarDivider, SidebarExpandButton, SidebarItem, SidebarScrollWrapper, SidebarSearchField, SidebarSpace, SidebarSpacer, WorkaroundNavLink };\n//# sourceMappingURL=Items.esm.js.map\n","import React from 'react';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { settingsRouteRef } from '../plugin.esm.js';\nimport { SidebarItem } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\n\nconst Settings = (props) => {\n  const routePath = useRouteRef(settingsRouteRef);\n  const Icon = props.icon ? props.icon : SettingsIcon;\n  return /* @__PURE__ */ React.createElement(SidebarItem, { text: \"Settings\", to: routePath(), icon: Icon });\n};\n\nexport { Settings };\n//# sourceMappingURL=Settings.esm.js.map\n","import { useApi, identityApiRef, alertApiRef } from '@backstage/core-plugin-api';\nimport { useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst useUserProfile = () => {\n  const identityApi = useApi(identityApiRef);\n  const alertApi = useApi(alertApiRef);\n  const { value, loading, error } = useAsync(async () => {\n    return {\n      profile: await identityApi.getProfileInfo(),\n      identity: await identityApi.getBackstageIdentity()\n    };\n  }, []);\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load user identity: ${error}`,\n        severity: \"error\"\n      });\n    }\n  }, [error, alertApi]);\n  if (loading || error) {\n    return {\n      profile: {},\n      displayName: \"\",\n      loading\n    };\n  }\n  return {\n    profile: value.profile,\n    backstageIdentity: value.identity,\n    displayName: value.profile.displayName ?? value.identity.userEntityRef,\n    loading\n  };\n};\n\nexport { useUserProfile };\n//# sourceMappingURL=useUserProfileInfo.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension } from '@backstage/core-plugin-api';\n\nconst settingsRouteRef = createRouteRef({\n  id: \"user-settings\"\n});\nconst userSettingsPlugin = createPlugin({\n  id: \"user-settings\",\n  routes: {\n    settingsPage: settingsRouteRef\n  }\n});\nconst UserSettingsPage = userSettingsPlugin.provide(\n  createRoutableExtension({\n    name: \"UserSettingsPage\",\n    component: () => import('./components/SettingsPage/index.esm.js').then((m) => m.SettingsPage),\n    mountPoint: settingsRouteRef\n  })\n);\n\nexport { UserSettingsPage, settingsRouteRef, userSettingsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createContext } from 'react';\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  // As per NN/g's guidance on timing for exposing hidden content\n  // See https://www.nngroup.com/articles/timing-exposing-content/\n  defaultOpenDelayMs: 100,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2,\n  mobileSidebarHeight: 56\n};\nconst makeSidebarConfig = (customSidebarConfig) => ({\n  ...sidebarConfig,\n  ...customSidebarConfig,\n  iconContainerWidth: sidebarConfig.drawerWidthClosed,\n  iconSize: sidebarConfig.drawerWidthClosed - sidebarConfig.iconPadding * 2,\n  userBadgeDiameter: sidebarConfig.drawerWidthClosed - sidebarConfig.userBadgePadding * 2\n});\nconst submenuConfig = {\n  drawerWidthClosed: 0,\n  drawerWidthOpen: 202,\n  defaultOpenDelayMs: sidebarConfig.defaultOpenDelayMs + 200\n};\nconst makeSidebarSubmenuConfig = (customSubmenuConfig) => ({\n  ...submenuConfig,\n  ...customSubmenuConfig\n});\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarConfigContext = createContext({\n  sidebarConfig,\n  submenuConfig\n});\nconst SidebarItemWithSubmenuContext = createContext({\n  isHoveredOn: false,\n  setIsHoveredOn: () => {\n  }\n});\n\nexport { SIDEBAR_INTRO_LOCAL_STORAGE, SidebarConfigContext, SidebarItemWithSubmenuContext, makeSidebarConfig, makeSidebarSubmenuConfig, sidebarConfig, submenuConfig };\n//# sourceMappingURL=config.esm.js.map\n","import { createContext, useContext } from 'react';\n\nfunction getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nfunction createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  const versionedValue = {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n  Object.defineProperty(versionedValue, \"$map\", {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return versions;\n    }\n  });\n  return versionedValue;\n}\n\nfunction createVersionedContext(key) {\n  return getOrCreateGlobalSingleton(\n    key,\n    () => createContext(void 0)\n  );\n}\nfunction useVersionedContext(key) {\n  return useContext(createVersionedContext(key));\n}\nfunction createVersionedContextForTesting(key) {\n  return {\n    set(versions) {\n      globalThis[`__@backstage/${key}__`] = createContext(\n        createVersionedValueMap(versions)\n      );\n    },\n    reset() {\n      delete globalThis[`__@backstage/${key}__`];\n    }\n  };\n}\n\nexport { createVersionedContext, createVersionedContextForTesting, createVersionedValueMap, getOrCreateGlobalSingleton, useVersionedContext };\n//# sourceMappingURL=index.esm.js.map\n","import { createContext, useContext } from 'react';\nimport { getOrCreateGlobalSingleton } from './globalObject.esm.js';\nimport { createVersionedValueMap } from './VersionedValue.esm.js';\n\nfunction createVersionedContext(key) {\n  return getOrCreateGlobalSingleton(\n    key,\n    () => createContext(void 0)\n  );\n}\nfunction useVersionedContext(key) {\n  return useContext(createVersionedContext(key));\n}\nfunction createVersionedContextForTesting(key) {\n  return {\n    set(versions) {\n      globalThis[`__@backstage/${key}__`] = createContext(\n        createVersionedValueMap(versions)\n      );\n    },\n    reset() {\n      delete globalThis[`__@backstage/${key}__`];\n    }\n  };\n}\n\nexport { createVersionedContext, createVersionedContextForTesting, useVersionedContext };\n//# sourceMappingURL=VersionedContext.esm.js.map\n","function createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  const versionedValue = {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n  Object.defineProperty(versionedValue, \"$map\", {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return versions;\n    }\n  });\n  return versionedValue;\n}\n\nexport { createVersionedValueMap };\n//# sourceMappingURL=VersionedValue.esm.js.map\n","function getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nexport { getOrCreateGlobalSingleton };\n//# sourceMappingURL=globalObject.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst permissionApiRef = createApiRef({\n  id: \"plugin.permission.api\"\n});\n\nexport { permissionApiRef };\n//# sourceMappingURL=PermissionApi.esm.js.map\n","function isPermission(permission, comparedPermission) {\n  return permission.name === comparedPermission.name;\n}\nfunction isResourcePermission(permission, resourceType) {\n  if (!(\"resourceType\" in permission)) {\n    return false;\n  }\n  return !resourceType || permission.resourceType === resourceType;\n}\nfunction isCreatePermission(permission) {\n  return permission.attributes.action === \"create\";\n}\nfunction isReadPermission(permission) {\n  return permission.attributes.action === \"read\";\n}\nfunction isUpdatePermission(permission) {\n  return permission.attributes.action === \"update\";\n}\nfunction isDeletePermission(permission) {\n  return permission.attributes.action === \"delete\";\n}\nfunction toPermissionEvaluator(permissionAuthorizer) {\n  return {\n    authorize: async (requests, options) => {\n      const response = await permissionAuthorizer.authorize(requests, options);\n      return response;\n    },\n    authorizeConditional(requests, options) {\n      const parsedRequests = requests;\n      return permissionAuthorizer.authorize(parsedRequests, options);\n    }\n  };\n}\n\nexport { isCreatePermission, isDeletePermission, isPermission, isReadPermission, isResourcePermission, isUpdatePermission, toPermissionEvaluator };\n//# sourceMappingURL=util.esm.js.map\n","var AuthorizeResult = /* @__PURE__ */ ((AuthorizeResult2) => {\n  AuthorizeResult2[\"DENY\"] = \"DENY\";\n  AuthorizeResult2[\"ALLOW\"] = \"ALLOW\";\n  AuthorizeResult2[\"CONDITIONAL\"] = \"CONDITIONAL\";\n  return AuthorizeResult2;\n})(AuthorizeResult || {});\n\nexport { AuthorizeResult };\n//# sourceMappingURL=api.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { permissionApiRef } from '../apis/PermissionApi.esm.js';\nimport { isResourcePermission, AuthorizeResult } from '@backstage/plugin-permission-common';\nimport useSWR from 'swr';\n\nfunction usePermission(input) {\n  const permissionApi = useApi(permissionApiRef);\n  const { data, error } = useSWR(input, async (args) => {\n    if (isResourcePermission(args.permission) && !args.resourceRef) {\n      return AuthorizeResult.DENY;\n    }\n    const { result } = await permissionApi.authorize(args);\n    return result;\n  });\n  if (error) {\n    return { error, loading: false, allowed: false };\n  }\n  if (data === void 0) {\n    return { loading: true, allowed: false };\n  }\n  return { loading: false, allowed: data === AuthorizeResult.ALLOW };\n}\n\nexport { usePermission };\n//# sourceMappingURL=usePermission.esm.js.map\n","import React from 'react';\nimport { useApp } from '@backstage/core-plugin-api';\nimport { usePermission } from '../hooks/usePermission.esm.js';\nimport { isResourcePermission } from '@backstage/plugin-permission-common';\n\nfunction RequirePermission(props) {\n  const { permission, resourceRef } = props;\n  const permissionResult = usePermission(\n    isResourcePermission(permission) ? { permission, resourceRef } : { permission }\n  );\n  const app = useApp();\n  if (permissionResult.loading) {\n    return null;\n  } else if (permissionResult.allowed) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, props.children);\n  }\n  if (props.errorPage) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null, props.errorPage);\n  }\n  const { NotFoundErrorPage } = app.getComponents();\n  return /* @__PURE__ */ React.createElement(NotFoundErrorPage, null);\n}\n\nexport { RequirePermission };\n//# sourceMappingURL=RequirePermission.esm.js.map\n"],"names":["ERROR_PREFIX","UrlPatternDiscovery","parts","pattern","urlStr","url","pluginId","PublishSubject","subscriber","value","error","onNext","onError","onComplete","observer","BehaviorSubject","AlertApiForwarder","alert","NoOpAnalyticsApi","_event","ErrorAlerter","alertApi","errorApi","context","ErrorApiForwarder","UnhandledErrorForwarder","errorContext","e","buckets","WebStorage","namespace","options","event","bucketPath","webStorage","key","presence","item","_key","val","name","data","messageKey","eventKey","trimmedKey","snapshot","subscription","createFetchApi","result","middleware","m","IdentityAuthInjectorFetchMiddleware","identityApi","allowUrl","headerName","headerValue","matcher","buildMatcher","token","next","input","init","request","buildPrefixMatcher","prefixes","trimmedPrefixes","prefix","join","left","right","PluginProtocolResolverFetchMiddleware","discoveryApi","hostname","pathname","search","hash","username","password","base","baseUrl","authority","target","isUrl","a","FetchMiddlewares","hasScopes","searched","searchFor","scope","joinScopes","scopes","moreScopess","moreScopes","OAuthPendingRequests","resolve","reject","currentScopes","acc","current","reason","OAuthRequestManager","handler","index","scopeRequest","newRequests","showLoginPopup","width","height","top","popup","targetOrigin","messageListener","authResult","done","intervalId","errMessage","warned","defaultJoinScopes","DefaultAuthConnector","configApi","environment","provider","oauthRequestApi","sessionTransform","id","popupOptions","res","authInfo","popupUrl","payload","path","query","queryString","SessionScopeHelper","session","sessionScopes","newScope","SessionStateTracker","isSignedIn","RefreshingAuthSessionManager","connector","defaultScopes","sessionShouldRefresh","refreshedSession","refreshedScopes","newSession","DEFAULT_PROVIDER","OAuth2","scopeTransform","x","backstageIdentity","sessionManager","min","normalizedScopes","scopeList","SCOPE_PREFIX","GoogleAuth","MicrosoftAuth","audiences","aud","audience","groups","resourceURI","GithubAuth","OKTA_OIDC_SCOPES","OKTA_SCOPE_PREFIX","OktaAuth","GitlabAuth","OIDC_SCOPES","OneLoginAuth","BitbucketAuth","BitbucketServerAuth","AtlassianAuth","VMwareCloudAuth","permissionApiRef","AuthorizeResult","AuthorizeResult2","permissionCriteriaSchema","authorizePermissionResponseSchema","queryPermissionResponseSchema","responseSchema","itemSchema","ids","items","PermissionClient","requests","queries","_","permissionApi","response","responseBody","responsesById","r","IdentityPermissionApi","permissionClient","config","discovery","identity","apis","isReactRouterBeta","obj","useStyles","makeStyles","isExternalUri","uri","scriptProtocolPattern","originalWindowOpen","newOpen","args","useBaseUrl","useBasePath","useResolvedPath","resolvedPath","basePath","external","startsWithBasePath","getNodeText","node","onClick","noTrack","props","ref","classes","analytics","to","linkText","newWindow","handleClick","Typography","coreComponentsTranslationRef","useDefaultSupportConfig","t","useSupportConfig","supportConfig","defaultSupportConfig","itemConf","linkConf","theme","MicDrop","CopyTextButton","text","tooltipDelay","tooltipText","ariaLabel","open","setOpen","copyToClipboard","useCopyToClipboard","handleCopyClick","Tooltip","IconButton","CodeSnippet","language","showLineNumbers","highlightedNumbers","customStyle","showCopyCodeButton","useTheme","mode","dark","docco","highlightColor","Box","lineNumber","StackDetails","stack","detailsOpen","setDetailsOpen","ErrorPage","status","statusMessage","additionalInfo","supportUrl","navigate","support","Grid","flatten","child","headingRenderer","level","children","slug","components","inline","className","match","MarkdownContent","content","dialect","linkTarget","transformLinkUri","transformImageUri","getWarningTextColor","severity","getWarningBackgroundColor","useErrorOutlineStyles","ErrorOutlineStyled","ErrorOutline","ExpandMoreIconStyled","ExpandMore","capitalize","s","WarningPanel","title","titleFormat","message","defaultExpanded","subTitle","Accordion","AccordionSummary","AccordionDetails","ErrorList","List","ListItem","ListItemText","ErrorPanel","Progress","isVisible","setIsVisible","handle","LinearProgress","OptionallyWrapInRouter","DefaultNotFoundPage","DefaultBootErrorPage","step","DefaultErrorBoundaryFallback","resetError","plugin","Button","icons","componentName","generateV4ClassName","createGenerateClassName","UnifiedThemeProvider","noCssBaseline","v4Theme","v5Theme","cssBaseline","CssBaseline","StylesProvider","ThemeProvider","StyledEngineProvider","palettes","shapes","colorVariants","genPageTheme","colors","shape","gradient","backgroundImage","fontColor","pageTheme","DEFAULT_HTML_FONT_SIZE","DEFAULT_FONT_FAMILY","DEFAULT_PAGE_THEME","defaultTypography","createBaseThemeOptions","palette","htmlFontSize","fontFamily","defaultPageTheme","pageTheme$1","typography","themeId","defaultComponentThemes","__v5Spacing","defaultSpacing","argsInput","transform","argument","themeSpacing","output","adaptV5CssBaselineOverride","overrides","styles","adaptV5Override","_theme","style","stateStyleKeyPattern","extractV5StateOverrides","_styleKey","styleKey","state","stateStyles","restStyles","transformV5ComponentThemesToV4","component","UnifiedThemeHolder","#themes","v4","v5","version","createUnifiedTheme","themeOptions","v4Overrides","createUnifiedThemeFromV4","themes","ApiAggregator","holders","apiRef","holder","api","ApiContext","ApiProvider","parentHolder","ApiResolver","factories","heap","allDeps","factory","dep","loading","impl","deps","dependent","impls","ScopePriority","ScopePriority2","ApiFactoryRegistry","priority","existing","tuple","refs","STORAGE_KEY","AppThemeSelector","selector","initialThemeId","propsOfHumanDuration","readDurationFromConfig","root","found","prop","good","p","invalidProps","what","bad","__defProp","__defNormalProp","__publicField","CONFIG_KEY_PART_PATTERN","isObject","cloneDeep","k","v","merge","into","from","fromObj","out","typeOf","type","errors","typeName","expected","ConfigReader","fallback","configs","previousReader","filteredKeys","deprecatedKeys","reader","description","_a","_b","localKeys","fallbackKeys","_a2","fallbackValue","fallbackConfig","values","number","valueString","validate","keyName","theValue","part","badKey","validateFlagName","LocalStorageFeatureFlags","flag","enabled","jsonStr","json","entries","traverseElementTree","collectors","queue","parent","contexts","element","nextContexts","collector","discoverer","c","createCollector","accumulatorFactory","visit","childDiscoverer","routeElementDiscoverer","pluginCollector","FeatureFlagged","featureFlagApi","isEnabled","MATCH_ALL_ROUTE","stringifyNode","anyNode","pluginSet","set","collectSubTree","routeRef","routingV2Collector","ctx","pathProp","mountPoint","parentChildren","elementProp","newObj","extension","others","mountPointPlugin","routingV1Collector","currentObj","currentParentRouteRef","sticky","caseSensitive","currentCtxPath","routePath","featureFlagCollector","routeRefType","isRouteRef","isSubRouteRef","isExternalRouteRef","joinPaths","paths","normalized","resolveTargetRef","anyRouteRef","routePaths","routeBindings","targetRef","subRoutePath","resolvedRoute","targetPath","resolveBasePath","sourceLocation","routeParents","routeObjects","refDiffList","matchIndex","targetSearchRef","parentPath","diffPaths","RouteResolver","appBasePath","relativeSourceLocation","params","encodedParams","RoutingContext","RoutingProvider","resolver","versionedValue","validateRouteParameters","notLeafRoutes","route","currentRouteRef","fullPath","j","i","validateRouteBindings","plugins","externalRouteRef","AppContext","AppContextProvider","appContext","PLUGIN_ID","CHANNEL_ID","MIN_BASE_DELAY_MS","ERROR_BACKOFF_START","ERROR_BACKOFF_FACTOR","ERROR_BACKOFF_MAX","startCookieAuthRefresh","fetchApi","stopped","timeout","firstError","errorBackoff","channel","getDelay","expiresAt","margin","refresh","requestUrl","scheduleRefresh","onMessage","delayMs","mkError","thing","logDeprecation","AppIdentityProxy","#cookieAuthSignOut","targetOptions","stopRefresh","appBaseUrl","resolveTheme","shouldPreferDark","selectedTheme","darkTheme","lightTheme","useShouldPreferDarkTheme","mediaQuery","setPrefersDark","listener","AppThemeProvider","appThemeApi","useObservable","appTheme","defaultConfigLoader","defaultConfigLoaderSync","runtimeConfigJson","appConfig","configScripts","el","windowAppConfig","ApiRegistryBuilder","ApiRegistry","collectRouteIds","routesById","externalRoutesById","refId","resolveRouteBindings","bindRoutes","disabledExternalRefs","externalRoutes","targetRoutes","externalRoute","bindings","externalRefId","targetRefId","isValidTargetRefId","externalRef","defaultRefId","defaultRef","DEFAULT_LANGUAGE","AppLanguageSelector","languages","initialLanguage","storedLanguage","#languages","#language","#subject","lng","toInternalTranslationResource","resource","toInternalTranslationRef","removeNulls","messages","ResourceLoader","onLoad","#loaded","#loading","#loaders","internalResource","entry","#getLoaderKey","loader","load","I18nextTranslationApi","i18n","loaded","resources","instance","#changeLanguage","#i18n","#loader","#registeredRefs","#languageChangeListeners","translationRef","internalRef","#registerDefaults","#createSnapshot","loadTicket","loadResource","ticket","onChange","defaultMessages","defaultResource","createLocalBaseUrl","fullUrl","overrideBaseUrlConfigs","inputConfigs","urlConfigReader","backendBaseUrl","newBackendBaseUrl","newAppBaseUrl","appOrigin","backendOrigin","maybeNewBackendBaseUrl","maybeNewAppBaseUrl","isProtectedApp","useConfigLoader","configLoader","hasConfig","useAsync","noConfigNode","BootErrorPage","AppContextImpl","app","AppManager","AppProvider","#getProviderCalled","routeValidationError","needsFeatureFlagRegistrationRef","routing","featureFlags","usesReactRouterBeta","loadedConfig","hasConfigApi","featureFlagsApi","registeredFlags","flagNames","f","languageApi","pluginIds","createSpecializedApp","createApp","CATALOG_FILTER_EXISTS","DEFAULT_NAMESPACE","ANNOTATION_VIEW_URL","ANNOTATION_EDIT_URL","ANNOTATION_KUBERNETES_API_SERVER","ANNOTATION_KUBERNETES_API_SERVER_CA","ANNOTATION_KUBERNETES_AUTH_PROVIDER","parseRefString","colonI","slashI","kind","getCompoundEntityRef","entity","parseEntityRef","defaultKind","defaultNamespace","parsed","textual","stringifyEntityRef","RELATION_OWNED_BY","RELATION_OWNER_OF","RELATION_CONSUMES_API","RELATION_API_CONSUMED_BY","RELATION_PROVIDES_API","RELATION_API_PROVIDED_BY","RELATION_DEPENDS_ON","RELATION_DEPENDENCY_OF","RELATION_PARENT_OF","RELATION_CHILD_OF","RELATION_MEMBER_OF","RELATION_HAS_MEMBER","RELATION_PART_OF","RELATION_HAS_PART","ANNOTATION_LOCATION","ANNOTATION_ORIGIN_LOCATION","ANNOTATION_SOURCE_LOCATION","parseLocationRef","splitIndex","stringifyLocationRef","getEntitySourceLocation","locationRef","CommonValidatorFunctions","separator","isValidPrefix","isValidSuffix","KubernetesValidatorFunctions","n","getExtensionContext","routes","routeMatch","routeObject","TrackNavigation","attributes","RouteTracker","getBasePath","readBasePath","SignInPageWrapper","Component","appIdentityProxy","setIdentityApi","AppRouter","RouterComponent","SignInPageComponent","mountPath","internalAppContext","InternalAppContext","FlatRoutes","NotFoundErrorPage","isBeta","withNotFound","elements","b","AlertDisplay","setMessages","anchorOrigin","transientTimeoutMs","timeoutMs","msgs","firstMessage","newMsgs","msg","handleClose","EmptyStateImage","missing","EmptyState","action","FavoriteToggleIcon","isFavorite","FavoriteToggle","iconButtonProps","LinkWrapper","LinkButton","ExternalLinkIcon","Icon","Link","externalLinkIcon","useItemStyles","LoginRequestListItem","busy","setBusy","setError","handleContinue","IconComponent","ListItemAvatar","OAuthRequestDialog","_props","authRedirect","handleRejectAll","Dialog","DialogTitle","DialogContent","DialogActions","ResponseErrorPanel","body","cause","errorString","requestString","messageString","stackString","jsonString","createStyles","ClosedDropdown","SvgIcon","OpenedDropdown","BootstrapInput","withStyles","InputBase","SelectComponent","multiple","label","placeholder","selected","triggerReset","native","disabled","dataTestId","setValue","isOpen","handleChange","handleOpen","previous","handleDelete","selectedValue","newValue","chip","FormControl","InputLabel","Select","Chip","MenuItem","Checkbox","useSelectedSubRoute","subRoutes","sortedRoutes","currentRoute","matchedRoute","foundIndex","RoutedTabs","headerTabs","tabProps","Route","createSubRoutesFromChildren","childrenProps","routeType","TabbedLayout","AppIcon","Fallback","rest","BrokenImageIcon","CatalogIcon","ChatIcon","DashboardIcon","DocsIcon","EmailIcon","GitHubIcon","GroupIcon","HelpIcon","UserIcon","WarningIcon","StarIcon","UnstarredIcon","ContentHeaderTitle","ContentHeader","TitleComponent","textAlign","renderedTitle","Content","stretch","noPadding","restProps","HeaderLabelContent","typographyRootComponent","HeaderLabel","contentTypograpyRootComponent","HeaderTabs","tabs","selectedIndex","selectedTab","setSelectedTab","tab","ClickableText","StyledBox","BreadcrumbsCurrentPage","anchorEl","setAnchorEl","childrenArray","firstPage","secondPage","expandablePages","currentPage","hasHiddenBreadcrumbs","Popover","pageLink","TypeFragment","typeLink","pageTitle","TitleFragment","tooltip","contentRef","FinalTitle","SubtitleFragment","subtitle","Header","pageTitleOverride","appTitle","documentTitle","titleTemplate","defaultTitle","Helmet","BottomLink","link","Divider","SlackLink","slackChannel","ErrorBoundary","errorInfo","CardActionsTopRight","CardActions","VARIANT_STYLES","InfoCard","subheader","divider","deepLink","errorBoundaryProps","variant","alignContent","headerStyle","headerProps","icon","actionsClassName","actions","cardClassName","actionsTopRight","titleTypographyProps","subheaderTypographyProps","calculatedStyle","calculatedCardStyle","cardSubTitle","errProps","Card","CardHeader","CardContent","Page","baseTheme","sortSidebarGroupsForPriority","sidebarGroupType","OverlayMenu","onClose","sidebarConfig","Drawer","Close","MobileSidebar","location","selectedMenuItemIndex","setSelectedMenuItemIndex","sidebarGroups","Menu","shouldShowGroupChildren","BottomNavigation","DesktopSidebar","openDelayMs","closeDelayMs","disableExpandOnHover","isSmallScreen","useMediaQuery","setState","hoverTimerRef","isPinned","toggleSidebarPinState","A11ySkipSidebar","Sidebar","submenuConfig","isMobile","focusContent","SidebarSubmenu","isHoveredOn","isSubmenuOpen","setIsSubmenuOpen","isLocationMatch","currentLocation","toLocation","exact","toDecodedSearch","toQueryParameters","currentDecodedSearch","currentQueryParameters","queryStringMatcher","makeSidebarStyles","useMemoStyles","useLocationMatch","submenu","active","dropdownItems","_to","isButtonItem","sidebarSubmenuType","WorkaroundNavLink","end","activeStyle","activeClassName","ariaCurrentProp","locationPathname","toPathname","isActive","ariaCurrent","SidebarItemBase","hasNotifications","hasSubmenu","disableHighlight","navLinkProps","divStyle","displayItemIcon","ArrowRight","itemIcon","Badge","openContent","childProps","analyticsApi","subject","SidebarItemWithSubmenu","setIsHoveredOn","handleMouseEnter","handleMouseLeave","arrowIcon","ArrowDropUp","ArrowDropDown","SidebarItem","SidebarSearchField","setInput","handleEnter","ev","handleInput","handleInputClick","handleItemClick","SidebarSpace","styled","SidebarSpacer","SidebarDivider","styledScrollbar","SidebarScrollWrapper","scrollbarStyles","SidebarExpandButton","MobileSidebarContext","LocalStorage","PageContext","SidebarPage","setIsPinned","pageContext","useContent","MobileSidebarGroup","value2","SidebarGroup","defaultSidebarOpenStateContext","LegacySidebarContext","VersionedSidebarContext","SidebarOpenStateProvider","useSidebarOpenState","versionedOpenStateContext","legacyOpenStateContext","openStateContext","defaultSidebarPinStateContext","LegacySidebarPinStateContext","VersionedSidebarPinStateContext","SidebarPinStateProvider","useSidebarPinState","versionedPinStateContext","legacyPinStateContext","pinStateContext","drawerWidthClosed","iconPadding","userBadgePadding","makeSidebarConfig","customSidebarConfig","makeSidebarSubmenuConfig","customSubmenuConfig","SIDEBAR_INTRO_LOCAL_STORAGE","SidebarConfigContext","SidebarItemWithSubmenuContext","GuestUserIdentity","userEntityRef","parseJwtPayload","_header","_signature","LegacyUserIdentity","sub","ent","UserIdentity","authApi","profile","ex","GridItem","commonProvider","onSignInStarted","onSignInSuccess","onSignInFailure","handleLogin","identityResponse","proxiedSessionSchema","DEFAULTS","tokenToExpiry","jwtToken","rawPayload","ProxiedSignInIdentity","promise","headers","mergedHeaders","getIdentity","guestProvider","setUseLegacyGuestToken","useLocalStorage","useLegacyGuestToken","ID_TOKEN_REGEX","useFormStyles","asInputRef","renderResult","customProvider","register","handleSubmit","formState","handleResult","userId","idToken","TextField","FormHelperText","IdentityApiSignOutProxy","PROVIDER_STORAGE_KEY","signInProviders","validateIDs","providers","getSignInProviders","identityProviders","useSignInProviders","apiHolder","setLoading","searchParams","_setSearchParams","useMountEffect","errorParam","handleWrappedResult","selectedProviderId","didCancel","handleSignInSuccess","handleSignInStarted","handleSignInFailure","MultiSignInPage","titleComponent","align","providerElements","SingleSignInPage","auto","ErrorComponent","showLoginPage","setShowLoginPage","login","checkExisting","showPopup","err","SignInPage","AnalyticsReactContext","useAnalyticsContext","theContext","AnalyticsContext","combinedValue","versionedCombinedValue","globalEvents","routableExtensionRenderedEvent","Tracker","_routeNodeType","useAnalyticsApi","useAnalytics","trackerRef","getTracker","tracker","alertApiRef","analyticsApiRef","appLanguageApiRef","appThemeApiRef","configApiRef","discoveryApiRef","errorApiRef","FeatureFlagState","FeatureFlagState2","featureFlagsApiRef","fetchApiRef","identityApiRef","oauthRequestApiRef","storageApiRef","translationApiRef","SessionState","SessionState2","googleAuthApiRef","githubAuthApiRef","oktaAuthApiRef","gitlabAuthApiRef","microsoftAuthApiRef","oneloginAuthApiRef","bitbucketAuthApiRef","bitbucketServerAuthApiRef","atlassianAuthApiRef","vmwareCloudAuthApiRef","ApiRefImpl","createApiRef","createApiFactory","useApiHolder","versionedHolder","useApi","withApis","WrappedComponent","Hoc","displayName","useApp","versionedContext","globalStore","componentDataKey","attachComponentData","dataComponent","container","getComponentData","PluginErrorBoundary","ErrorBoundaryFallback","createRoutableExtension","createReactExtension","InnerComponent","RoutableExtensionWrapper","createComponentExtension","lazyLoader","Result","selectChildren","rootNode","strictError","Collection","selection","useElementFilter","filterFn","dependencies","PluginImpl","createPlugin","ExternalRouteRefImpl","optional","defaultTarget","createExternalRouteRef","RouteRefImpl","createRouteRef","PARAM_PATTERN","SubRouteRefImpl","createSubRouteRef","pathParams","param","useRouteRef","routeFunc","isOptional","useRouteRefParams","_routeRef","createTranslationResource","flattenMessages","nested","TranslationRefImpl","#id","#messages","#resources","createTranslationRef","loggedRefs","useTranslationRef","translationApi","setSnapshot","observable","errMsg","initialRenderRef","isError","maybe","assertError","serializeError","deserializeError","stringifyError","str","__defProp$2","__defNormalProp$2","__publicField$2","CustomErrorBase","fullMessage","causeStr","__defProp$1","__defNormalProp$1","__publicField$1","InputError","AuthenticationError","NotAllowedError","NotFoundError","ConflictError","NotModifiedError","NotImplementedError","ServiceUnavailableError","ForwardedError","parseErrorResponseBody","ResponseError","opts","statusCode","statusText","ScmAuthMux","#providers","ScmAuth","github","gitlab","azure","bitbucket","githubAuthApi","host","gitlabAuthApi","microsoftAuthApi","bitbucketAuthApi","repoWriteScopes","#api","#host","#scopeMapping","#providerName","providerName","scopeMapping","additionalScopes","additionalScope","restOptions","uniqueScopes","scmAuthApiRef","AMAZON_AWS_HOST","readAwsS3IntegrationConfig","endpoint","s3ForcePathStyle","accessKeyId","secretAccessKey","roleArn","externalId","readAwsS3IntegrationConfigs","AwsS3Integration","integrationConfig","AMAZON_AWS_CODECOMMIT_HOST","readAwsCodeCommitIntegrationConfig","region","readAwsCodeCommitIntegrationConfigs","AwsCodeCommitIntegration","pathMatch","repositoryName","replaceCodeCommitUrlType","VERSION_PREFIX_GIT_BRANCH","AzureUrl","repoUrl","owner","project","repo","#origin","#owner","#project","#repo","#path","#ref","origin","#baseUrl","AZURE_HOST","AzureDevOpsCredentialFields","AzureDevopsCredentialFieldMap","asAzureDevOpsCredential","credential","requiredFields","forbiddenFields","field","readAzureIntegrationConfig","credentialConfigs","mapped","credentials","credentialConfig","organization","indexes","org","readAzureIntegrationConfigs","AzureIntegration","azureUrl","newUrl","mockBaseUrl","updatedPath","BITBUCKET_CLOUD_HOST","BITBUCKET_CLOUD_API_BASE_URL","readBitbucketCloudIntegrationConfig","apiBaseUrl","appPassword","readBitbucketCloudIntegrationConfigs","BitbucketCloudIntegration","resolved","urlData","editUrl","BITBUCKET_HOST","BITBUCKET_API_BASE_URL","readBitbucketIntegrationConfig","readBitbucketIntegrationConfigs","BitbucketIntegration","readBitbucketServerIntegrationConfig","readBitbucketServerIntegrationConfigs","BitbucketServerIntegration","readGerritIntegrationConfig","cloneUrl","gitilesBaseUrl","readGerritIntegrationConfigs","GERRIT_BODY_PREFIX","parseGerritGitilesUrl","baseUrlParse","urlParse","projectEndIndex","branchIndex","branch","filePath","parseGitilesUrlRef","projectParts","remainingPath","matchString","refType","refsReference","buildGerritGitilesArchiveUrl","archiveName","getGitilesAuthenticationUrl","getAuthenticationPrefix","getGerritBranchApiUrl","getGerritCloneRepoUrl","getGerritFileContentsApiUrl","getGerritProjectsApiUrl","getGerritRequestOptions","buffer","Buffer","parseGerritJsonResponse","GerritIntegration","updated","GITLAB_HOST","GITLAB_API_BASE_URL","readGitLabIntegrationConfig","readGitLabIntegrationConfigs","getGitLabIntegrationRelativePath","relativePath","GitLabIntegration","replaceGitLabUrlType","readGiteaConfig","getGiteaEditContentsUrl","giteaUrl","parseGiteaUrl","getGiteaFileContentsUrl","getGiteaArchiveUrl","getGiteaLatestCommitUrl","getGiteaRequestOptions","_blank","_src","_branch","pathWithoutSlash","GiteaIntegration","giteaConfigs","gitea","readHarnessConfig","apiKey","getHarnessEditContentsUrl","parsedUrl","parseHarnessUrl","getHarnessFileContentsUrl","constructedUrl","getHarnessArchiveUrl","getHarnessLatestCommitUrl","getHarnessRequestOptions","pathUrl","pathSegments","segment","urlParts","accountIdIndex","accountId","orgNameIndex","orgName","projectNameIndex","projectName","repoNameIndex","repoName","refAndPath","refIndex","refString","HarnessIntegration","harnessConfigs","harness","ScmIntegrations","integrationsByType","candidates","filteredCandidates","integration","ScmIntegrationsApi","scmIntegrationsApiRef","GITHUB_HOST","GITHUB_API_BASE_URL","GITHUB_RAW_BASE_URL","readGithubIntegrationConfig","rawBaseUrl","apps","readGithubIntegrationConfigs","GithubIntegration","replaceGithubUrlType","isValidHost","check","isValidUrl","basicIntegrations","integrations","getHost","defaultScmResolveUrl","href","filepath","repoRootPath","gitUp","gitUrlParse","shorthandRe","urlInfo","sourceParts","splits","nameIndex","dashIndex","blobIndex","treeIndex","commitIndex","issuesIndex","srcIndex","rawIndex","editIndex","offsetNameIndex","matches","findLongestMatchingSubstring","port","user","maybeGitSuffix","auth","buildToken","buildPath","encoded_full_name","string","array","longestMatch","module","LazyAsyncApiDefinition","AsyncApiDefinitionWidget","LazyGraphQlDefinition","GraphQlDefinitionWidget","LazyOpenApiDefinition","OpenApiDefinitionWidget","validSubmitMethods","method","GrpcApiDefinitionWidget","TrpcApiDefinitionWidget","definition","defaultDefinitionWidgets","apiDocsConfigRef","apiDocsPlugin","definitionWidgets","apiEntity","d","ApiExplorerPage","EntityApiDefinitionCard","EntityConsumedApisCard","EntityConsumingComponentsCard","EntityProvidedApisCard","EntityProvidingComponentsCard","EntityHasApisCard","rootRoute","registerComponentRouteRef","RESOURCE_TYPE_CATALOG_ENTITY","catalogEntityReadPermission","catalogEntityCreatePermission","catalogEntityDeletePermission","catalogEntityRefreshPermission","catalogEntityValidatePermission","catalogLocationReadPermission","catalogLocationCreatePermission","catalogLocationAnalyzePermission","catalogLocationDeletePermission","catalogPermissions","Direction","Direction2","catalogGraphPlugin","EntityCatalogGraphCard","CatalogGraphPage","catalogGraphRouteRef","catalogEntityRouteRef","catalogImportApiRef","getCatalogFilename","getBranchName","submitGitHubPrToRepo","scmAuthApi","fileContent","repositoryUrl","githubIntegrationConfig","octo","branchName","fileName","repoData","formatHttpErrorMessage","parentRef","apiVersions","RepoApiClient","_options","queryParams","it","filter","sourceBranch","push","sourceName","targetName","createAzurePullRequest","client","repository","actualClient","defaultBranch","branchOptions","refUpdate","prOptions","parseAzureUrl","parseRepoUrl","submitAzurePrToRepo","tenantUrl","catalogLocation","sourceUrl","CatalogImportClient","supportedIntegrations","foundIntegration","catalogFilename","analyzation","locations","curr","parseData","validationResponse","rootRouteRef","catalogImportPlugin","scmIntegrationsApi","catalogApi","CatalogImportPage","catalogApiRef","entityPresentationApiRef","defaultEntityPresentation","entityOrRef","getParts","entityRef","shortRef","getShortRef","primary","candidate","secondary","isString","defaultKindLower","defaultNamespaceLower","useUpdatingObservable","updatedValue","useEntityPresentation","entityPresentationApi","presentation","starredEntitiesApiRef","EntityDisplayName","hideIcon","disableTooltip","primaryTitle","secondaryTitle","EntityRefLink","linkProps","entityRoute","useEntityRoute","routeParams","EntityRefLinks","entityRefs","hideIcons","entityRefString","humanizeEntityRef","humanizeEntity","defaultName","getEntityRef","useStarredEntity","starredEntitiesApi","isStarredEntity","setIsStarredEntity","starredEntities","FavoriteEntity","toggleStarredEntity","generateYamlExample","annotations","yamlText","ann","line","lineNumbers","generateDescription","entityKind","isSingular","prev","MissingAnnotationEmptyState","annotation","readMoreUrl","NewEntityContext","AsyncEntityProvider","EntityProvider","useEntity","useAsyncEntity","useEntityPermission","permission","loadingEntity","entityError","allowed","loadingPermission","permissionError","entityRouteRef","entityRouteParams","catalogReactTranslationRef","getEntityRelations","relationType","entityNames","catalogTranslationRef","useUnregisterEntityDialogState","uid","isBootstrap","prerequisites","locationPromise","colocatedEntitiesPromise","locationAnnotationFilter","location2","colocatedEntities2","unregisterLocation","deleteEntity","colocatedEntities","Contents","onConfirm","showDelete","setShowDelete","onUnregister","onDelete","entityName","DialogActionsPanel","Alert","DialogContentText","UnregisterEntityDialog","DependencyGraphTypes","DependencyGraphTypes2","Alignment2","Ranker2","LabelPosition2","DefaultNode","setWidth","setHeight","idRef","renderedHeight","renderedWidth","padding","paddedWidth","paddedHeight","ARROW_MARKER_ID","NODE_TEST_ID","EDGE_TEST_ID","LABEL_TEST_ID","renderDefault","Node","render","setNode","y","nodeProps","nodeRef","DefaultLabel","Edge","setEdge","edge","curve","showArrowHeads","points","labelProps","labelRef","createPath","finitePoints","point","WORKSPACE_ID","DependencyGraph","edges","nodes","renderNode","direction","nodeMargin","edgeMargin","rankMargin","paddingX","paddingY","acyclicer","ranker","labelPosition","labelOffset","edgeRanks","edgeWeight","renderLabel","defs","zoom","fit","svgProps","containerWidth","setContainerWidth","containerHeight","setContainerHeight","graph","graphWidth","setGraphWidth","graphHeight","setGraphHeight","graphNodes","setGraphNodes","graphEdges","setGraphEdges","maxWidth","maxHeight","minHeight","scalableHeight","containerRef","workspace","enableZoom","newContainerWidth","newContainerHeight","setNodesAndEdges","currentGraphNodes","currentGraphEdges","nodeId","existingNode","updateGraph","newHeight","newWidth","DEFAULT_ICON","getKind","useIcon","actualKind","EntityKindIcon","otherProps","useAncestry","catalogClient","currentRef","isRootNode","CustomNode","hasKindIcon","iconSize","paddedIconWidth","displayTitle","AncestryPage","Container","findLink","KeyValueListItem","ListItemIcon","HelpOutline","useColocated","currentEntityRef","colocated","EntityList","originLocation","atLocation","atOrigin","ColocatedPage","sortKeys","JsonPage","OverviewPage","apiVersion","metadata","spec","relations","groupedRelations","ListItemSecondaryAction","tag","groupRelations","group","YamlPage","TabPanel","other","a11yProps","InspectEntityDialog","activeTab","setActiveTab","Tabs","Tab","UnregisterEntity","unregisterEntityOptions","isUnregisterAllowed","onUnregisterEntity","isBoolean","isDisabled","unregisterButton","Cancel","EntityContextMenu","UNSTABLE_extraContextMenuItems","UNSTABLE_contextMenuOptions","onInspectEntity","isAllowed","onOpen","copyState","extraItems","MoreVert","MenuList","BugReport","FileCopyTwoTone","dataKey","EntityLayoutTitle","paramKind","paramNamespace","paramName","EntityLabels","ownedByRelations","EntityLayout","NotFoundComponent","elementProps","headerTitle","headerType","confirmationDialogOpen","setConfirmationDialogOpen","inspectionDialogOpen","setInspectionDialogOpen","catalogRoute","unregisterRedirectRoute","cleanUpAfterRemoval","DeleteEntityDialog","isOrphan","EntityOrphanWarning","catalogLink","ENTITY_STATUS_CATALOG_PROCESSING_TYPE","errorFilter","getOwnAndAncestorsErrors","hasCatalogProcessingErrors","EntityProcessingErrorsPanel","ancestorError","getRelationWarnings","entityRefRelations","relation","relatedEntities","hasRelationWarnings","EntityRelationWarning","ENTITY_SWITCH_KEY","EntitySwitchCaseComponent","EntitySwitch","results","collection","condition","elementsChildren","AsyncEntitySwitch","getDefaultChildren","renderMultipleMatches","promises","strCmp","strCmpAll","cmpValues","cmpVal","isKind","kinds","isEntityWith","isComponentType","types","isResourceType","isApiType","predicate","isNamespace","namespaces","isQueryEntitiesInitialRequest","DefaultApiClient","CatalogClient","fields","order","offset","limit","after","encodedOrder","directive","orderFields","fullTextFilter","normalizedFullTextFilterTerm","cursor","compoundName","facets","dryRun","entities","exists","l","filters","filterItem","filterParts","durationToMilliseconds","duration","years","months","weeks","days","hours","minutes","seconds","milliseconds","DEFAULT_CACHE_TTL","DEFAULT_BATCH_DELAY","DEFAULT_ICONS","Extension","Memory","Category","Storage","Apartment","LocationOn","Person","People","FeaturedPlayList","createDefaultRenderer","DefaultEntityPresentationApi","#cache","#cacheTtlMs","#kindIcons","#renderer","cacheTtl","batchDelay","renderer","kindIcons","#createLoader","needsLoad","#getEntityForInitialRender","#maybeFallbackIcon","initialSnapshot","maybeUpdatedSnapshot","newEntity","aborted","updatedSnapshot","cached","cachedEntity","cacheTtlMs","batchDelayMs","now","cb","renderedIcon","performMigrationToTheNewBucket","storageApi","source","oldStarredEntities","targetEntities","old","split","DefaultStarredEntitiesApi","catalogPlugin","CatalogIndexPage","CatalogEntityPage","EntityAboutCard","EntityLinksCard","EntityLabelsCard","EntityHasSystemsCard","EntityHasComponentsCard","EntityHasSubcomponentsCard","EntityHasSubdomainsCard","EntityHasResourcesCard","EntityDependsOnComponentsCard","EntityDependencyOfComponentsCard","EntityDependsOnResourcesCard","RelatedEntitiesCard","CatalogSearchResultListItem","createComponentRouteRef","viewTechDocRouteRef","createFromTemplateRouteRef","unregisterRedirectRouteRef","orgPlugin","EntityGroupProfileCard","EntityMembersListCard","EntityOwnershipCard","EntityUserProfileCard","catalogIndexRouteRef","createPermission","resourceType","isPermission","comparedPermission","isResourcePermission","isCreatePermission","isReadPermission","isUpdatePermission","isDeletePermission","toPermissionEvaluator","permissionAuthorizer","parsedRequests","usePermission","scaffolderApiRef","FIELD_EXTENSION_WRAPPER_KEY","FIELD_EXTENSION_KEY","SecretsContext","SecretsContextProvider","initialSecrets","secrets","setSecrets","useTemplateSecrets","updateSecrets","currentSecrets","EntityNamePicker","required","rawErrors","formData","autoFocus","idSchema","EntityNamePickerSchema","entityNamePickerValidation","validation","EntityPicker","uiSchema","catalogFilter","buildCatalogFilter","entityRefToPresentation","allowArbitraryValues","getLabel","freeSoloValue","parsedRef","onSelect","selectedEntity","option","convertOpsValues","convertSchemaFiltersToQuery","schemaFilters","allowedKinds","entityQueryFilterExpressionSchema","EntityPickerSchema","defaultValidators","makeValidator","EntityTagsPicker","tagOptions","setTagOptions","inputValue","setInputValue","inputError","setInputError","tagValidator","showCounts","helperText","existingTags","facet","tagsRequest","tagFacets","count","setTags","hasError","addDuplicate","currentTags","newTag","useEffectOnce","Autocomplete","EntityTagsPickerSchema","MultiEntityPicker","noOfItemsSelected","setNoOfItemsSelected","maxItems","validateMultiEntityPickerValidation","MultiEntityPickerSchema","MyGroupsPicker","updateChange","MyGroupsPickerSchema","OwnedEntityPicker","identityRefs","entityPickerUISchema","buildEntityPickerUISchema","uiOptions","extraOptions","asArray","OwnedEntityPickerSchema","OwnerPicker","ownerUiSchema","OwnerPickerSchema","BitbucketRepoBranchPicker","accessToken","availableBranches","setAvailableBranches","scaffolderApi","updateAvailableBranches","useDebounce","DefaultRepoBranchPicker","RepoBranchPicker","schema","formContext","integrationApi","requestUserCredentials","prevState","updateLocalState","newState","hostType","renderRepoBranchPicker","RepoBranchPickerSchema","GithubRepoPicker","allowedOwners","ownerItems","GiteaRepoPicker","GitlabRepoPicker","AzureRepoPicker","allowedOrganizations","allowedProject","organizationItems","projectItems","BitbucketRepoPicker","allowedProjects","availableWorkspaces","setAvailableWorkspaces","availableProjects","setAvailableProjects","updateAvailableWorkspaces","updateAvailableProjects","updateAvailableRepositories","GerritRepoPicker","RepoUrlPickerHost","hosts","hostsOptions","RepoUrlPickerRepoName","allowedRepos","availableRepos","repoItems","serializeRepoPickerUrl","parseRepoPickerUrl","RepoUrlPicker","credentialsHost","setCredentialsHost","allowedHosts","makeFieldSchema","RepoUrlPickerSchema","z","repoPickerValidation","hasNativePerformanceNow","cancelTimeout","timeoutID","requestTimeout","callback","delay","start","tick","size","getScrollbarSize","recalculate","div","cachedRTLResult","getRTLOffsetType","outerDiv","outerStyle","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL","defaultItemKey","_ref","columnIndex","rowIndex","devWarningsOverscanCount","devWarningsOverscanRowsColumnsCount","devWarningsTagName","createGridComponent","_ref2","_class","getColumnOffset","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getColumnWidth","getEstimatedTotalHeight","getEstimatedTotalWidth","getOffsetForColumnAndAlignment","getOffsetForRowAndAlignment","getRowHeight","getRowOffset","getRowStartIndexForOffset","getRowStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","_this","overscanColumnStartIndex","overscanColumnStopIndex","overscanRowStartIndex","overscanRowStopIndex","visibleColumnStartIndex","visibleColumnStopIndex","visibleRowStartIndex","visibleRowStopIndex","scrollLeft","scrollTop","horizontalScrollDirection","verticalScrollDirection","scrollUpdateWasRequested","_this$props","columnWidth","rowHeight","itemStyleCache","_offset","isRtl","__","___","_event$currentTarget","clientHeight","clientWidth","scrollHeight","scrollWidth","calculatedScrollLeft","calculatedScrollTop","outerRef","nextProps","validateSharedProps","_proto","_ref3","_ref4","_ref4$align","_this$props2","columnCount","rowCount","_this$state","scrollbarSize","estimatedTotalHeight","estimatedTotalWidth","horizontalScrollbarSize","verticalScrollbarSize","_this$props3","initialScrollLeft","initialScrollTop","_this$state2","_this$props4","innerRef","innerElementType","innerTagName","itemData","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","_this$_getHorizontalR","columnStartIndex","columnStopIndex","_this$_getVerticalRan","rowStartIndex","rowStopIndex","_rowIndex","_columnIndex","_this$props5","onItemsRendered","onScroll","_this$_getHorizontalR2","_overscanColumnStartIndex","_overscanColumnStopIndex","_visibleColumnStartIndex","_visibleColumnStopIndex","_this$_getVerticalRan2","_overscanRowStartIndex","_overscanRowStopIndex","_visibleRowStartIndex","_visibleRowStopIndex","_this$state3","_horizontalScrollDirection","_scrollLeft","_scrollTop","_scrollUpdateWasRequested","_verticalScrollDirection","_this$props6","overscanColumnCount","overscanColumnsCount","overscanCount","_this$state4","overscanCountResolved","startIndex","stopIndex","overscanBackward","overscanForward","_this$props7","overscanRowCount","overscanRowsCount","_this$state5","_ref5","_ref6","DEFAULT_ESTIMATED_ITEM_SIZE","rowMetadataMap","estimatedRowHeight","lastMeasuredRowIndex","totalSizeOfMeasuredRows","itemMetadata","numUnmeasuredItems","totalSizeOfUnmeasuredItems","columnMetadataMap","estimatedColumnWidth","lastMeasuredColumnIndex","getItemMetadata","itemType","instanceProps","itemMetadataMap","itemSize","lastMeasuredIndex","findNearestItem","lastMeasuredItemOffset","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","currentOffset","itemCount","interval","getOffsetForIndexAndAlignment","scrollOffset","estimatedTotalSize","maxOffset","minOffset","VariableSizeGrid","shouldForceUpdate","_ref6$shouldForceUpda","_ref7","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","devWarningsDirection","devWarningsTagName$1","createListComponent","getItemOffset","getEstimatedTotalSize","getItemSize","getStartIndexForOffset","getStopIndexForStartIndex","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","layout","isHorizontal","offsetHorizontal","_event$currentTarget2","validateSharedProps$1","initialScrollOffset","_this$props5$itemKey","_this$_getRangeToRend","_index","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_scrollDirection","_scrollOffset","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","findNearestItem$1","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","estimatedItemSize","totalSizeOfMeasuredItems","VariableSizeList","FixedSizeGrid","lastColumnOffset","middleOffset","_ref8","lastRowOffset","_ref9","_ref10","numVisibleColumns","_ref11","_ref12","numVisibleRows","_ref13","FixedSizeList","lastItemOffset","numVisibleItems","shallowDiffers","attribute","_attribute","_excluded","_excluded2","areEqual","prevProps","prevStyle","prevRest","nextStyle","nextRest","shouldComponentUpdate","nextState","renderRow","OuterElementContext","OuterElementType","outerProps","VirtualizedListbox","makeFieldSchemaFromZod","returnSchema","uiOptionsSchema","createScaffolderFieldExtension","FieldExtensionDataHolder","ScaffolderFieldExtensions","ScaffolderClient","templateRef","templatePath","taskId","isTaskRecoverable","processEvent","ctrl","inputAfter","logs","scaffolderPlugin","EntityPickerFieldExtension","EntityNamePickerFieldExtension","MultiEntityPickerFieldExtension","RepoUrlPickerFieldExtension","OwnerPickerFieldExtension","MyGroupsPickerFieldExtension","ScaffolderPage","OwnedEntityPickerFieldExtension","EntityTagsPickerFieldExtension","RepoBranchPickerFieldExtension","selectedTemplateRouteRef","scaffolderTaskRouteRef","scaffolderListTaskRouteRef","actionsRouteRef","editRouteRef","editorRouteRef","customFieldsRouteRef","templateFormRouteRef","scaffolderTranslationRef","searchApiRef","MockSearchApi","mockedResults","HighlightedSearchResultText","preTag","postTag","terms","idx","SearchBarBase","onKeyDown","onClear","onSubmit","debounceTime","clearButton","fullWidth","defaultValue","inputProps","InputProps","endAdornment","forwardedValueRef","prevValue","handleKeyDown","handleClear","inputPlaceholder","SearchIcon","startAdornment","clearButtonEndAdornment","SearchBar","initialValue","term","setTerm","useAsyncFilterValues","fn","defaultValues","debounce","valuesMemo","definiteFn","useAsyncFn","possibleValue","useDefaultFilterValue","setFilters","prevFilters","AutocompleteFilter","givenValues","valuesDebounceMs","filterSelectedOptions","limitTags","asyncValues","filterValue","renderInput","renderTags","tagValue","getTagProps","CheckboxFilter","checked","FormLabel","FormControlLabel","SelectFilter","SearchFilter","Element","encodePageCursor","pageCursor","decodePageCursor","SearchPaginationBase","hasNextPage","onPageCursorChange","rowsPerPage","labelRowsPerPage","labelDisplayedRows","rowsPerPageOptions","onPageLimitChange","page","handlePageChange","handleRowsPerPageChange","SearchPagination","pageLimit","setPageLimit","setPageCursor","fetchNextPage","handlePageLimitChange","newPageLimit","SearchResultContext","SearchResultApi","searchApi","SearchResultState","SearchResultComponent","noResultsComponent","SearchResult","SearchContext","useSearch","useSearchContextCheck","defaultInitialSearchState","useSearchContextValue","setTypes","prevTerm","resultSet","hasPreviousPage","fetchPreviousPage","LocalSearchContext","initialState","SearchContextProvider","inheritParentContextIfAvailable","hasParentContext","propsInitialSearchState","configInitialSearchState","searchContextInitialState","DefaultResultListItemComponent","highlight","secondaryAction","lineClamp","HigherOrderDefaultResultListItem","SEARCH_RESULT_LIST_ITEM_EXTENSION","findSearchResultListItemExtensionElement","SearchResultListItemExtension","rank","alignItems","handleClickCapture","createSearchResultListItemExtension","useSearchResultListItemExtensions","SearchResultListItemExtensions","SearchTypeAccordion","expanded","setExpanded","givenTypes","toggleExpanded","definedTypes","resultCounts","counts","numberOfResults","SearchTypeTabs","changeTab","newType","SearchType","SearchClient","searchPlugin","SearchPage","SidebarSearchModal","HomePageSearchBar","TechDocsAddonLocations","getGlobalObject","globalObject","makeKey","getOrCreateGlobalSingleton","supplier","createVersionedValueMap","versions","createVersionedContext","useVersionedContext","createVersionedContextForTesting","techdocsApiRef","techdocsStorageApiRef","toLowercaseEntityRefMaybe","areEntityRefsEqual","prevEntityRef","nextEntityRef","defaultTechDocsReaderPageValue","TechDocsReaderPageContext","TechDocsReaderPageProvider","techdocsApi","entityMetadata","useAsyncRetry","setTitle","setSubtitle","shadowRoot","setShadowRoot","useTechDocsReaderPage","useShadowRoot","useShadowRootElements","selectors","rerender","nodeList","isValidSelection","newSelection","useShadowRootSelection","waitMillis","setSelection","handleSelectionChange","shadowDocument","NESTED_LIST_TOGGLE","EXPANDABLE_NAVIGATION_LOCAL_STORAGE","StyledButton","CollapsedIcon","ChevronRight","ExpandedIcon","ExpandableNavigationAddon","useLocalStorageValue","hasNavSubLevels","setHasNavSubLevels","checkboxToggles","shouldToggle","isExpanded","shouldExpand","handleState","ADDON_FEEDBACK_CONTAINER_ID","ADDON_FEEDBACK_CONTAINER_SELECTOR","PAGE_EDIT_LINK_SELECTOR","PAGE_FEEDBACK_LINK_SELECTOR","PAGE_MAIN_CONTENT_SELECTOR","resolveBlobUrl","getTitle","ellipsis","getBody","markdownUrl","subheading","commentHeading","commentPlaceholder","highlightedTextAsQuote","facts","useGitTemplate","initialTemplate","editLink","useGitRepository","getIcon","getName","getUrl","template","encodedTitle","encodedBody","protocol","encodedUrl","IssueLink","ReportIssueAddon","buildTemplate","setStyle","defaultTemplate","mainContent","feedbackLink","feedbackContainer","mainContentPosition","selectionPosition","distanceFromTop","minDistanceFromTop","absMainContentTop","Portal","Paper","boxShadow","StyledSlider","Slider","settings","marks","TextSizeAddon","mark","max","getValueText","handleChangeCommitted","handleDecreaseClick","handleIncreaseClick","Remove","Add","LightBoxAddon","images","dataSourceImages","lightbox","zoomLevelObject","imageWidth","imageHeight","viewportWidth","viewportHeight","widthScale","heightScale","image","dataSourceImage","techdocsModuleAddonsContribPlugin","ExpandableNavigation","ReportIssue","TextSize","LightBox","TECHDOCS_ADDONS_KEY","TECHDOCS_ADDONS_WRAPPER_KEY","TechDocsAddons","getDataKeyByName","createTechDocsAddonExtension","TechDocsAddon","getTechDocsAddonByName","getAllTechDocsAddons","getAllTechDocsAddonsData","useTechDocsAddons","findAddonByData","nameKey","renderComponentByName","renderComponentsByLocation","TechDocsClient","entityId","TechDocsStorageClient","errorMessage","logHandler","fetch","oldBaseUrl","newBaseUrl","techdocsPlugin","TechdocsPage","EntityTechdocsContent","TechDocsCustomHome","TechDocsIndexPage","TechDocsReaderPage","TechDocsSearchResultListItem","rootDocsRouteRef","rootCatalogDocsRouteRef","UserSettingsSignInAvatar","Settings","useUserProfile","settingsRouteRef","UserSettingsPage","RequirePermission","resourceRef","permissionResult"],"sourceRoot":""}