{"version":3,"file":"static/9841.4e8a7864.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Filters.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/TableLoadingBody.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Table.esm.js","webpack://app/../../node_modules/react-use/lib/useAsync.js","webpack://app/../../node_modules/react-use/lib/useAsyncFn.js","webpack://app/../../node_modules/react-use/lib/useMountedState.js","webpack://app/../../plugins/dql/src/hooks/useDqlQuery.ts","webpack://app/../../plugins/dql/src/components/DynatraceMarkdownText.tsx","webpack://app/../../plugins/dql/src/components/DqlEmptyState.tsx","webpack://app/../../plugins/dql/src/components/ObjectModal.tsx","webpack://app/../../plugins/dql/src/components/TabularDataTable.tsx","webpack://app/../../plugins/dql/src/components/InternalDqlQuery.tsx","webpack://app/../../plugins/dql/src/components/DqlQuery.tsx","webpack://app/../../plugins/dql/src/hooks/useCatalogDqlQueries.tsx","webpack://app/../../plugins/dql/src/components/InternalCatalogQueries.tsx","webpack://app/../../plugins/dql/src/components/CatalogQueries.tsx","webpack://app/../../plugins/dql/src/components/kubernetes/KubernetesDeploymentsEmptyState.tsx","webpack://app/../../plugins/dql/src/components/kubernetes/KubernetesDeployments.tsx","webpack://app/../../plugins/dql/src/components/index.ts"],"sourcesContent":["import Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React__default, { useState, useEffect } from 'react';\nimport { SelectComponent } from '../Select/Select.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      height: \"100%\",\n      width: \"315px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginRight: theme.spacing(3)\n    },\n    value: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: theme.spacing(7.5),\n      justifyContent: \"space-between\",\n      borderBottom: `1px solid ${theme.palette.grey[500]}`\n    },\n    filters: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& > *\": {\n        marginTop: theme.spacing(2)\n      }\n    }\n  }),\n  { name: \"BackstageTableFilters\" }\n);\nconst Filters = (props) => {\n  const classes = useFilterStyles();\n  const { onChangeFilters } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ React__default.createElement(Box, { className: classes.root }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.header }, /* @__PURE__ */ React__default.createElement(Box, { className: classes.value }, t(\"table.filter.title\")), /* @__PURE__ */ React__default.createElement(Button, { color: \"primary\", onClick: handleClick }, t(\"table.filter.clearAll\"))), /* @__PURE__ */ React__default.createElement(Box, { className: classes.filters }, props.filters?.length && props.filters.map((filter) => /* @__PURE__ */ React__default.createElement(\n    SelectComponent,\n    {\n      triggerReset: reset,\n      key: filter.element.label,\n      ...filter.element,\n      selected: selectedFilters[filter.element.label],\n      onChange: (el) => setSelectedFilters({\n        ...selectedFilters,\n        [filter.element.label]: el\n      })\n    }\n  ))));\n};\n\nexport { Filters };\n//# sourceMappingURL=Filters.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport React__default from 'react';\n\nfunction TableLoadingBody(props) {\n  return /* @__PURE__ */ React__default.createElement(\"tbody\", { \"data-testid\": \"loading-indicator\" }, /* @__PURE__ */ React__default.createElement(\"tr\", null, /* @__PURE__ */ React__default.createElement(\"td\", { colSpan: props.colSpan }, /* @__PURE__ */ React__default.createElement(\n    Box,\n    {\n      sx: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        minHeight: \"15rem\"\n      }\n    },\n    /* @__PURE__ */ React__default.createElement(CircularProgress, { size: \"5rem\" })\n  ))));\n}\n\nexport { TableLoadingBody };\n//# sourceMappingURL=TableLoadingBody.esm.js.map\n","import MTable, { MTableHeader, MTableToolbar, MTableBody } from '@material-table/core';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { transform, isEqual } from 'lodash';\nimport React__default, { forwardRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { Filters } from './Filters.esm.js';\nimport { TableLoadingBody } from './TableLoadingBody.esm.js';\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(AddBox, { ...props, ref })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Check, { ...props, ref })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Clear, { ...props, ref })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(DeleteOutline, { ...props, ref })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(ChevronRight, { ...props, ref })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Edit, { ...props, ref })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(SaveAlt, { ...props, ref })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(FilterList, { ...props, ref })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(FirstPage, { ...props, ref })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(LastPage, { ...props, ref })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(ChevronRight, { ...props, ref })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(ChevronLeftIcon, { ...props, ref })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Clear, { ...props, ref })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(FilterList, { ...props, ref })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(ArrowUpward, { ...props, ref })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(Remove, { ...props, ref })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ React__default.createElement(ViewColumn, { ...props, ref }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles(\n  (theme) => ({\n    header: {\n      padding: theme.spacing(1, 2, 1, 2.5),\n      borderTop: `1px solid ${theme.palette.grey.A100}`,\n      borderBottom: `1px solid ${theme.palette.grey.A100}`,\n      // withStyles hasn't a generic overload for theme\n      fontWeight: theme.typography.fontWeightBold,\n      position: \"static\",\n      wordBreak: \"normal\",\n      textTransform: \"uppercase\"\n    }\n  }),\n  { name: \"BackstageTableHeader\" }\n)(MTableHeader);\nconst StyledMTableToolbar = withStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(3, 0, 2.5, 2.5)\n    },\n    title: {\n      \"& > h6\": {\n        fontWeight: theme.typography.fontWeightBold\n      }\n    },\n    searchField: {\n      paddingRight: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageTableToolbar\" }\n)(MTableToolbar);\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    title: {\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: 18,\n      whiteSpace: \"nowrap\"\n    }\n  }),\n  { name: \"BackstageTableFiltersContainer\" }\n);\nconst useTableStyles = makeStyles(\n  () => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"start\"\n    }\n  }),\n  { name: \"BackstageTable\" }\n);\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    const headerStyle = column.headerStyle ?? {};\n    let cellStyle = column.cellStyle || {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      if (typeof cellStyle === \"object\") {\n        cellStyle.fontWeight = theme.typography.fontWeightBold;\n      } else {\n        const cellStyleFn = cellStyle;\n        cellStyle = (data, rowData, rowColumn) => {\n          const style = cellStyleFn(data, rowData, rowColumn);\n          return { ...style, fontWeight: theme.typography.fontWeightBold };\n        };\n      }\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback(\n    (searchText) => {\n      toolbarProps.onSearchChanged(searchText);\n      setSearch(searchText);\n    },\n    [toolbarProps, setSearch]\n  );\n  if (hasFilters) {\n    return /* @__PURE__ */ React__default.createElement(Box, { className: filtersClasses.root }, /* @__PURE__ */ React__default.createElement(Box, { className: filtersClasses.root }, /* @__PURE__ */ React__default.createElement(IconButton, { onClick: toggleFilters, \"aria-label\": \"filter list\" }, /* @__PURE__ */ React__default.createElement(FilterList, null)), /* @__PURE__ */ React__default.createElement(Typography, { className: filtersClasses.title }, \"Filters (\", selectedFiltersLength, \")\")), /* @__PURE__ */ React__default.createElement(\n      StyledMTableToolbar,\n      {\n        ...toolbarProps,\n        ref: toolbarRef,\n        onSearchChanged\n      }\n    ));\n  }\n  return /* @__PURE__ */ React__default.createElement(\n    StyledMTableToolbar,\n    {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }\n  );\n}\nfunction Table(props) {\n  const {\n    data,\n    columns,\n    emptyContent,\n    options,\n    title,\n    subtitle,\n    localization,\n    filters,\n    initialState,\n    onStateChange,\n    components,\n    isLoading: loading,\n    style,\n    ...restProps\n  } = props;\n  const tableClasses = useTableStyles();\n  const theme = useTheme();\n  const calculatedInitialState = { ...defaultInitialState, ...initialState };\n  const [filtersOpen, setFiltersOpen] = useState(\n    calculatedInitialState.filtersOpen\n  );\n  const toggleFilters = useCallback(\n    () => setFiltersOpen((v) => !v),\n    [setFiltersOpen]\n  );\n  const [selectedFilters, setSelectedFilters] = useState(\n    calculatedInitialState.filters\n  );\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues(\n        {\n          search,\n          filtersOpen,\n          filters: selectedFilters\n        },\n        defaultInitialState\n      );\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const getFieldByTitle = useCallback(\n    (titleValue) => columns.find((el) => el.title === titleValue)?.field,\n    [columns]\n  );\n  const tableData = useMemo(() => {\n    if (typeof data === \"function\" || !selectedFilters) {\n      return data;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter(\n        (el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n          const fieldValue = extractValueByField(\n            el,\n            getFieldByTitle(key)\n          );\n          if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n            return fieldValue.some((v) => filterValue.includes(v));\n          } else if (Array.isArray(fieldValue)) {\n            return fieldValue.includes(filterValue);\n          } else if (Array.isArray(filterValue)) {\n            return filterValue.includes(fieldValue);\n          }\n          return fieldValue === filterValue;\n        })\n      );\n      return newData;\n    }\n    return data;\n  }, [data, selectedFilters, getFieldByTitle]);\n  const selectedFiltersLength = Object.values(selectedFilters).flat().length;\n  const hasFilters = !!filters?.length;\n  const Toolbar = useCallback(\n    (toolbarProps) => {\n      return /* @__PURE__ */ React__default.createElement(\n        TableToolbar,\n        {\n          setSearch,\n          hasFilters,\n          selectedFiltersLength,\n          toggleFilters,\n          ...toolbarProps\n        }\n      );\n    },\n    [toggleFilters, hasFilters, selectedFiltersLength, setSearch]\n  );\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useMemo(\n    () => makeBody({ hasNoRows, emptyContent, columnCount, loading }),\n    [hasNoRows, emptyContent, columnCount, loading]\n  );\n  return /* @__PURE__ */ React__default.createElement(Box, { className: tableClasses.root }, filtersOpen && data && typeof data !== \"function\" && filters?.length && /* @__PURE__ */ React__default.createElement(\n    Filters,\n    {\n      filters: constructFilters(filters, data, columns),\n      selectedFilters,\n      onChangeFilters: setSelectedFilters\n    }\n  ), /* @__PURE__ */ React__default.createElement(\n    MTable,\n    {\n      components: {\n        Header: StyledMTableHeader,\n        Body,\n        Toolbar,\n        ...components\n      },\n      options,\n      columns: convertColumns(columns, theme),\n      icons: tableIcons,\n      title: /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Typography, { variant: \"h5\", component: \"h2\" }, title), subtitle && /* @__PURE__ */ React__default.createElement(Typography, { color: \"textSecondary\", variant: \"body1\" }, subtitle)),\n      data: tableData,\n      style: { width: \"100%\", ...style },\n      localization: {\n        toolbar: { searchPlaceholder: \"Filter\", searchTooltip: \"Filter\" },\n        ...localization\n      },\n      ...restProps\n    }\n  ));\n}\nTable.icons = Object.freeze(tableIcons);\nfunction makeBody({\n  columnCount,\n  emptyContent,\n  hasNoRows,\n  loading\n}) {\n  return (bodyProps) => {\n    if (loading) {\n      return /* @__PURE__ */ React__default.createElement(TableLoadingBody, { colSpan: columnCount });\n    }\n    if (emptyContent && hasNoRows) {\n      return /* @__PURE__ */ React__default.createElement(\"tbody\", null, /* @__PURE__ */ React__default.createElement(\"tr\", null, /* @__PURE__ */ React__default.createElement(\"td\", { colSpan: columnCount }, emptyContent)));\n    }\n    return /* @__PURE__ */ React__default.createElement(MTableBody, { ...bodyProps });\n  };\n}\nfunction constructFilters(filterConfig, dataValue, columns) {\n  const extractDistinctValues = (field) => {\n    const distinctValues = /* @__PURE__ */ new Set();\n    const addValue = (value) => {\n      if (value !== void 0 && value !== null) {\n        distinctValues.add(value);\n      }\n    };\n    if (dataValue) {\n      dataValue.forEach((el) => {\n        const value = extractValueByField(\n          el,\n          columns.find((c) => c.title === field)?.field\n        );\n        if (Array.isArray(value)) {\n          value.forEach(addValue);\n        } else {\n          addValue(value);\n        }\n      });\n    }\n    return distinctValues;\n  };\n  const constructSelect = (filter) => {\n    return {\n      placeholder: \"All results\",\n      label: filter.column,\n      multiple: filter.type === \"multiple-select\",\n      items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n        label: value,\n        value\n      }))\n    };\n  };\n  return filterConfig.map((filter) => ({\n    type: filter.type,\n    element: constructSelect(filter)\n  }));\n}\n\nexport { Table, TableToolbar };\n//# sourceMappingURL=Table.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useAsyncFn_1 = tslib_1.__importDefault(require(\"./useAsyncFn\"));\nfunction useAsync(fn, deps) {\n    if (deps === void 0) { deps = []; }\n    var _a = useAsyncFn_1.default(fn, deps, {\n        loading: true,\n    }), state = _a[0], callback = _a[1];\n    react_1.useEffect(function () {\n        callback();\n    }, [callback]);\n    return state;\n}\nexports.default = useAsync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useMountedState_1 = tslib_1.__importDefault(require(\"./useMountedState\"));\nfunction useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = react_1.useRef(0);\n    var isMounted = useMountedState_1.default();\n    var _a = react_1.useState(initialState), state = _a[0], set = _a[1];\n    var callback = react_1.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (tslib_1.__assign(tslib_1.__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\nexports.default = useAsyncFn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nfunction useMountedState() {\n    var mountedRef = react_1.useRef(false);\n    var get = react_1.useCallback(function () { return mountedRef.current; }, []);\n    react_1.useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\nexports.default = useMountedState;\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { dqlQueryApiRef } from '../api';\r\nimport { useApi, identityApiRef } from '@backstage/core-plugin-api';\r\nimport useAsync from 'react-use/lib/useAsync';\r\n\r\nexport const useDqlQuery = (\r\n  namespace: string,\r\n  queryName: string,\r\n  entityRef: string,\r\n) => {\r\n  const dqlQueryApi = useApi(dqlQueryApiRef);\r\n  const identityApi = useApi(identityApiRef);\r\n\r\n  const { value, loading, error } = useAsync(async () => {\r\n    const { token } = await identityApi.getCredentials();\r\n    if (!token) {\r\n      throw new Error(`Failed to get identity token`);\r\n    }\r\n\r\n    return await dqlQueryApi.getData(namespace, queryName, entityRef, token);\r\n  }, [dqlQueryApi, namespace, queryName, entityRef]);\r\n\r\n  return {\r\n    error,\r\n    loading,\r\n    value,\r\n  };\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport dynatrace from './dynatrace.svg';\r\nimport { MarkdownContent } from '@backstage/core-components';\r\nimport { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\ntype DynatraceMarkdownTextProps = {\r\n  content: string;\r\n};\r\n\r\nexport const DynatraceMarkdownText = ({\r\n  content,\r\n}: DynatraceMarkdownTextProps) => {\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item sm={12} md={6}>\r\n        <MarkdownContent content={content} />\r\n      </Grid>\r\n      <Grid item sm={12} md={6}>\r\n        <img\r\n          src={dynatrace}\r\n          alt=\"Dynatrace Logo\"\r\n          style={{\r\n            width: '60%',\r\n            display: 'block',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n            opacity: 0.5,\r\n          }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { DynatraceMarkdownText } from './DynatraceMarkdownText';\r\nimport { EmptyStateProps } from './types';\r\nimport React from 'react';\r\n\r\nexport const DqlEmptyState = ({\r\n  componentName,\r\n  queryName,\r\n  queryNamespace,\r\n  additionalInformation = '',\r\n}: EmptyStateProps) => {\r\n  const message = `# We turned up empty\r\n\r\n  Query\r\n  ${\r\n    queryNamespace === 'catalog'\r\n      ? queryName\r\n        ? `with the title \\`${queryName}\\` defined in catalog-info.yaml`\r\n        : 'defined in catalog-info.yaml'\r\n      : `\\`${queryNamespace}.${queryName}\\``\r\n  } \r\n   did not return any data for component \r\n  \\`${componentName}\\`.\r\n\r\n  If you recently added the component, it may take a few minutes for\r\n  Dynatrace to start reporting data. If the component has been running\r\n  for a while, it may not be reporting data. Please check that your\r\n  component is indeed reporting data to Dynatrace and, in case you are\r\n  using custom queries, that the query is correct. \r\n  \r\n  ${additionalInformation}`;\r\n\r\n  return <DynatraceMarkdownText content={message} />;\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { CodeSnippet } from '@backstage/core-components';\r\nimport {\r\n  createStyles,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle as MuiDialogTitle,\r\n  IconButton,\r\n  Link,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport React, { useState } from 'react';\r\n\r\nexport type ObjectModalProps = {\r\n  data: string;\r\n  property: string;\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    flex: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      gap: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n\r\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\r\n  id: string;\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n}\r\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <div className={classes.flex}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={() => onClose()}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </div>\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nexport const ObjectModal = ({ data, property }: ObjectModalProps) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const onComplexRecordClick = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const onModalClose = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Link\r\n        component=\"button\"\r\n        variant=\"body2\"\r\n        onClick={() => onComplexRecordClick()}\r\n        style={{ minWidth: '120px' }}\r\n      >\r\n        Complex record\r\n      </Link>\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={() => onModalClose()}\r\n        aria-labelledby={'object-dialog-title'}\r\n      >\r\n        <DialogTitle id=\"object-dialog-title\" onClose={onModalClose}>\r\n          Complex record of \"{property}\"\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <CodeSnippet text={data} language={'json'} />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { ObjectModal } from './ObjectModal';\r\nimport { Table, TableColumn } from '@backstage/core-components';\r\nimport {\r\n  TableTypes,\r\n  TabularData,\r\n  TabularDataRow,\r\n} from '@dynatrace/backstage-plugin-dql-common';\r\nimport { Link } from '@material-ui/core';\r\nimport _ from 'lodash';\r\nimport React, { ReactNode, useMemo } from 'react';\r\n\r\ntype TabularDataTableProps = {\r\n  title: string;\r\n  data: TabularData;\r\n  pageSize?: number;\r\n};\r\n\r\nconst cellRenderer = (field: string) => {\r\n  return (data: TabularDataRow): ReactNode => {\r\n    const cellData = data[field];\r\n\r\n    if (cellData === undefined) {\r\n      // key does not exist on this row\r\n      return '';\r\n    }\r\n\r\n    if (typeof cellData === 'string') {\r\n      return cellData;\r\n    }\r\n\r\n    if (cellData.type === TableTypes.OBJECT) {\r\n      return <ObjectModal data={cellData.content} property={field} />;\r\n    }\r\n\r\n    if (cellData.type === TableTypes.LINK) {\r\n      return (\r\n        <Link href={cellData.url} target=\"_blank\" rel=\"noopener\">\r\n          {cellData.text}\r\n        </Link>\r\n      );\r\n    }\r\n\r\n    return JSON.stringify(cellData);\r\n  };\r\n};\r\n\r\nexport const TabularDataTable = ({\r\n  title,\r\n  data,\r\n  pageSize = 10,\r\n}: TabularDataTableProps) => {\r\n  const columns = useMemo<TableColumn[]>(() => {\r\n    const keys = data.reduce((acc, row) => {\r\n      for (const key in row) {\r\n        acc.add(key);\r\n      }\r\n      return acc;\r\n    }, new Set<string>());\r\n\r\n    return Array.from(keys).map(key => ({\r\n      title: key,\r\n      field: key,\r\n      render: cellRenderer(key),\r\n    }));\r\n  }, [data]);\r\n\r\n  return (\r\n    <Table\r\n      title={title}\r\n      options={{ search: true, paging: true, pageSize: pageSize }}\r\n      columns={columns}\r\n      data={data}\r\n    />\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { useDqlQuery } from '../hooks';\r\nimport { DqlEmptyState } from './DqlEmptyState';\r\nimport { TabularDataTable } from './TabularDataTable';\r\nimport { EmptyStateProps } from './types';\r\nimport { stringifyEntityRef } from '@backstage/catalog-model';\r\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\r\nimport { useEntity } from '@backstage/plugin-catalog-react';\r\nimport React from 'react';\r\n\r\nexport type InternalDqlQueryProps = {\r\n  title: string;\r\n  queryNamespace: string;\r\n  queryName: string;\r\n  EmptyState?: React.ComponentType<EmptyStateProps>;\r\n  pageSize?: number;\r\n};\r\n\r\nexport const InternalDqlQuery = ({\r\n  title,\r\n  queryNamespace,\r\n  queryName,\r\n  EmptyState = DqlEmptyState,\r\n  pageSize,\r\n}: InternalDqlQueryProps) => {\r\n  const { entity } = useEntity();\r\n  const componentName = entity.metadata.name;\r\n  const { error, loading, value } = useDqlQuery(\r\n    queryNamespace,\r\n    queryName,\r\n    stringifyEntityRef(entity),\r\n  );\r\n\r\n  if (loading) {\r\n    return <Progress />;\r\n  } else if (error) {\r\n    return <ResponseErrorPanel error={error} />;\r\n  }\r\n\r\n  if (!value || value.length === 0) {\r\n    return (\r\n      <EmptyState\r\n        componentName={componentName}\r\n        queryName={queryName}\r\n        queryNamespace={queryNamespace}\r\n        additionalInformation={\r\n          `${queryNamespace}.${queryName}` === 'dynatrace.srg-validations'\r\n            ? `# No Site Reliability Guardian resources\r\n  No result received. If you don't use Site Reliability Guardians, do not hesitate to integrate them. \r\n  [View this for more information.](https://docs.dynatrace.com/docs/platform-modules/automations/site-reliability-guardian)\r\n`\r\n            : ''\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  return <TabularDataTable title={title} data={value} pageSize={pageSize} />;\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { InternalDqlQuery } from './InternalDqlQuery';\r\nimport { EmptyStateProps } from './types';\r\nimport { ErrorPanel } from '@backstage/core-components';\r\nimport React from 'react';\r\nimport { ZodError, z } from 'zod';\r\n\r\nconst namespaceSchema = z.enum(['dynatrace', 'custom']);\r\nconst queryNameSchema = z.string().regex(/^[a-z1-9\\-]+$/);\r\n\r\nconst dqlQueryPropsSchema = z.object({\r\n  title: z.string().default('Query Result'),\r\n  queryId: z\r\n    .string()\r\n    .toLowerCase()\r\n    .refine(\r\n      value => {\r\n        // Check the namespace and queryName separately\r\n        const [namespace, queryName] = value.split('.');\r\n        return (\r\n          namespaceSchema.safeParse(namespace).success &&\r\n          queryNameSchema.safeParse(queryName).success\r\n        );\r\n      },\r\n      {\r\n        message:\r\n          \"String must be in the format 'namespace.query-name'. Namespace must be 'dynatrace' or 'custom'. Query name may only contain alphanumerics and dashes.\",\r\n      },\r\n    ),\r\n});\r\n\r\nexport type DqlQueryProps = {\r\n  emptyState?: React.ComponentType<EmptyStateProps>;\r\n  pageSize?: number;\r\n} & z.infer<typeof dqlQueryPropsSchema>;\r\n\r\n/**\r\n * DqlQuery is a wrapper around InternalDqlQuery that provides error handling\r\n * for invalid props.\r\n * @param props DqlQueryProps\r\n * @returns React.ReactElement either a InternalDqlQuery or an ErrorPanel\r\n */\r\nexport const DqlQuery = (props: DqlQueryProps) => {\r\n  try {\r\n    const { title, queryId } = dqlQueryPropsSchema.parse(props);\r\n    const [queryNamespace, queryName] = queryId.split('.');\r\n    return (\r\n      <InternalDqlQuery\r\n        title={title}\r\n        queryNamespace={queryNamespace}\r\n        queryName={queryName}\r\n        EmptyState={props.emptyState}\r\n        pageSize={props.pageSize}\r\n      />\r\n    );\r\n  } catch (e) {\r\n    if (e instanceof ZodError) {\r\n      const title = `${e.issues[0].path.join('.')}: ${e.issues[0].message}`;\r\n      return <ErrorPanel error={e} title={title} />;\r\n    }\r\n    return <ErrorPanel error={new Error(`Unknown error: ${e}`)} />;\r\n  }\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { dqlQueryApiRef } from '../api';\r\nimport { useApi, identityApiRef } from '@backstage/core-plugin-api';\r\nimport useAsync from 'react-use/lib/useAsync';\r\n\r\nexport const useCatalogDqlQueries = (namespace: string, entityRef: string) => {\r\n  const dqlQueryApi = useApi(dqlQueryApiRef);\r\n  const identityApi = useApi(identityApiRef);\r\n\r\n  const { value, loading, error } = useAsync(async () => {\r\n    const { token } = await identityApi.getCredentials();\r\n    if (!token) {\r\n      throw new Error(`Failed to get identity token`);\r\n    }\r\n\r\n    return await dqlQueryApi.getDataFromQueries(namespace, entityRef, token);\r\n  }, [dqlQueryApi, namespace, entityRef]);\r\n\r\n  return {\r\n    error,\r\n    loading,\r\n    value,\r\n  };\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { useCatalogDqlQueries } from '../hooks/useCatalogDqlQueries';\r\nimport { DqlEmptyState } from './DqlEmptyState';\r\nimport { TabularDataTable } from './TabularDataTable';\r\nimport { EmptyStateProps } from './types';\r\nimport { stringifyEntityRef } from '@backstage/catalog-model';\r\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\r\nimport { useEntity } from '@backstage/plugin-catalog-react';\r\nimport React from 'react';\r\n\r\nexport type InternalCatalogQueriesProps = {\r\n  queryNamespace: string;\r\n  EmptyState?: React.ComponentType<EmptyStateProps>;\r\n  pageSize?: number;\r\n};\r\n\r\nexport const InternalCatalogQueries = ({\r\n  queryNamespace,\r\n  EmptyState = DqlEmptyState,\r\n  pageSize,\r\n}: InternalCatalogQueriesProps) => {\r\n  const { entity } = useEntity();\r\n  const componentName = entity.metadata.name;\r\n\r\n  const { error, loading, value } = useCatalogDqlQueries(\r\n    queryNamespace,\r\n    stringifyEntityRef(entity),\r\n  );\r\n\r\n  if (loading) {\r\n    return <Progress />;\r\n  } else if (error) {\r\n    return <ResponseErrorPanel error={error} />;\r\n  }\r\n\r\n  if (!value || value.length === 0) {\r\n    return (\r\n      <EmptyState\r\n        componentName={componentName}\r\n        queryName={''}\r\n        queryNamespace={queryNamespace}\r\n        additionalInformation=\"Please ensure that you have correctly defined queries in the catalog-info.yaml file.\"\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {value.map((queryData, index) =>\r\n        queryData.data?.length > 0 ? (\r\n          <TabularDataTable\r\n            key={index}\r\n            data={queryData.data}\r\n            title={queryData.title}\r\n            pageSize={pageSize}\r\n          ></TabularDataTable>\r\n        ) : (\r\n          <EmptyState\r\n            key={index}\r\n            componentName={componentName}\r\n            queryName={queryData.title}\r\n            queryNamespace={queryNamespace}\r\n          />\r\n        ),\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { InternalCatalogQueries } from './InternalCatalogQueries';\r\nimport { EmptyStateProps } from './types';\r\nimport { EmptyState } from '@backstage/core-components';\r\nimport { useEntity } from '@backstage/plugin-catalog-react';\r\nimport { ExtendedEntity } from '@dynatrace/backstage-plugin-dql-common';\r\nimport React from 'react';\r\n\r\nexport type CatalogInfoQueryProps = {\r\n  emptyState?: React.ComponentType<EmptyStateProps>;\r\n  pageSize?: number;\r\n};\r\n\r\n/**\r\n * CatalogInfoQuery is a wrapper around the InternalCatalogQueries from the entity, that provides error handling\r\n * for invalid props.\r\n * @param props DqlQueryProps\r\n * @returns React.ReactElement either a InternalCatalogQueries or an ErrorPanel\r\n */\r\nexport const CatalogInfoQuery = (props: CatalogInfoQueryProps) => {\r\n  const { entity } = useEntity();\r\n  const extendedEntity: ExtendedEntity = entity;\r\n  const queries = extendedEntity.metadata.dynatrace?.queries ?? [];\r\n  return (\r\n    <>\r\n      {queries.length > 0 ? (\r\n        <InternalCatalogQueries\r\n          queryNamespace={'catalog'}\r\n          EmptyState={props.emptyState}\r\n          pageSize={props.pageSize}\r\n        ></InternalCatalogQueries>\r\n      ) : (\r\n        <EmptyState\r\n          title=\"No queries defined in catalog-info.yaml for this entity.\"\r\n          missing=\"info\"\r\n          description=\"You need to add queries for this entity in the catalog-info.yaml file.\"\r\n        ></EmptyState>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { EmptyStateProps } from '..';\r\nimport { DynatraceMarkdownText } from '../DynatraceMarkdownText';\r\nimport React from 'react';\r\n\r\nexport const KubernetesDeploymentsEmptyState = ({\r\n  componentName,\r\n}: EmptyStateProps) => {\r\n  const message = `# No Kubernetes resources\r\n  No resources on any monitored Kubernetes cluster for ${componentName} found.`;\r\n\r\n  return <DynatraceMarkdownText content={message} />;\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { DqlQuery } from '../DqlQuery';\r\nimport { KubernetesDeploymentsEmptyState } from './KubernetesDeploymentsEmptyState';\r\nimport { MissingAnnotationEmptyState } from '@backstage/plugin-catalog-react';\r\nimport { useEntity } from '@backstage/plugin-catalog-react';\r\nimport React from 'react';\r\n\r\ntype KubernetesDeploymentsProps = {\r\n  title?: string;\r\n  pageSize?: number;\r\n};\r\n\r\nconst KUBERNETES_ANNOTATION = 'backstage.io/kubernetes-id';\r\nconst KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION =\r\n  'backstage.io/kubernetes-label-selector';\r\n\r\nexport const KubernetesDeployments = ({\r\n  title = 'Kubernetes Deployments',\r\n  pageSize,\r\n}: KubernetesDeploymentsProps) => {\r\n  const { entity } = useEntity();\r\n  const kubernetesAnnotationValue =\r\n    entity.metadata.annotations?.[KUBERNETES_ANNOTATION];\r\n\r\n  const kubernetesLabelSelectorQueryAnnotationValue =\r\n    entity.metadata.annotations?.[KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION];\r\n\r\n  if (\r\n    !kubernetesAnnotationValue &&\r\n    !kubernetesLabelSelectorQueryAnnotationValue\r\n  ) {\r\n    return (\r\n      <>\r\n        <MissingAnnotationEmptyState annotation={KUBERNETES_ANNOTATION} />\r\n        <h1>\r\n          Or use a label selector query, which takes precedence over the\r\n          previous annotation\r\n        </h1>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DqlQuery\r\n      title={title}\r\n      queryId=\"dynatrace.kubernetes-deployments\"\r\n      emptyState={KubernetesDeploymentsEmptyState}\r\n      pageSize={pageSize}\r\n    />\r\n  );\r\n};\r\n","/**\r\n * @license\r\n * Copyright 2024 Dynatrace LLC\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport { DqlQuery } from './DqlQuery';\r\nexport type { DqlQueryProps } from './DqlQuery';\r\nexport { CatalogInfoQuery } from './CatalogQueries';\r\nexport type { CatalogInfoQueryProps } from './CatalogQueries';\r\nexport { KubernetesDeployments } from './kubernetes';\r\nexport type { EmptyStateProps } from './types';\r\n"],"names":["useFilterStyles","makeStyles","theme","Filters","props","classes","onChangeFilters","t","selectedFilters","setSelectedFilters","reset","triggerReset","handleClick","el","Box","Button","filter","TableLoadingBody","CircularProgress","tableIcons","ref","AddBox","Check","Clear","DeleteOutline","ChevronRight","Edit","SaveAlt","FilterList","FirstPage","LastPage","ChevronLeft","ArrowUpward","Remove","ViewColumn","extractValueByField","data","field","path","value","i","f","StyledMTableHeader","withStyles","StyledMTableToolbar","useTableStyles","convertColumns","columns","column","headerStyle","cellStyle","cellStyleFn","rowData","rowColumn","removeDefaultValues","state","defaultState","result","key","defaultInitialState","TableToolbar","toolbarProps","toolbarRef","setSearch","hasFilters","selectedFiltersLength","toggleFilters","filtersClasses","onSearchChanged","searchText","IconButton","Typography","Table","emptyContent","options","title","subtitle","localization","filters","initialState","onStateChange","components","loading","style","restProps","tableClasses","useTheme","calculatedInitialState","filtersOpen","setFiltersOpen","v","search","getFieldByTitle","titleValue","tableData","selectedFiltersArray","filterValue","fieldValue","Toolbar","hasNoRows","columnCount","Body","makeBody","constructFilters","bodyProps","filterConfig","dataValue","extractDistinctValues","distinctValues","addValue","c","constructSelect","tslib_1","react_1","useAsyncFn_1","useAsync","fn","deps","_a","callback","exports","useMountedState_1","useAsyncFn","lastCallId","isMounted","set","args","_i","callId","prevState","error","useMountedState","mountedRef","get","useDqlQuery","namespace","queryName","entityRef","dqlQueryApi","useApi","dqlQueryApiRef","identityApi","identityApiRef","token","getCredentials","Error","getData","DynatraceMarkdownText","content","Grid","container","spacing","item","sm","md","MarkdownContent","img","src","dynatrace","alt","width","display","marginLeft","marginRight","opacity","DqlEmptyState","componentName","queryNamespace","additionalInformation","message","styles","createStyles","root","margin","padding","flex","flexDirection","alignItems","justifyContent","gap","closeButton","color","palette","grey","DialogTitle","children","onClose","other","MuiDialogTitle","disableTypography","className","div","variant","aria-label","onClick","CloseIcon","ObjectModal","property","isOpen","setIsOpen","useState","onComplexRecordClick","onModalClose","Link","component","minWidth","Dialog","open","aria-labelledby","id","DialogContent","dividers","CodeSnippet","text","language","cellRenderer","cellData","undefined","type","TableTypes","OBJECT","LINK","href","url","target","rel","JSON","stringify","TabularDataTable","pageSize","useMemo","keys","reduce","acc","row","add","Set","Array","from","map","render","paging","InternalDqlQuery","EmptyState","entity","useEntity","metadata","name","stringifyEntityRef","Progress","ResponseErrorPanel","length","namespaceSchema","z","enum","queryNameSchema","string","regex","dqlQueryPropsSchema","object","default","queryId","toLowerCase","refine","split","safeParse","success","DqlQuery","parse","emptyState","e","ZodError","issues","join","ErrorPanel","useCatalogDqlQueries","getDataFromQueries","InternalCatalogQueries","queryData","index","CatalogInfoQuery","queries","missing","description","KubernetesDeploymentsEmptyState","KUBERNETES_ANNOTATION","KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION","KubernetesDeployments","kubernetesAnnotationValue","annotations","kubernetesLabelSelectorQueryAnnotationValue","MissingAnnotationEmptyState","annotation","h1"],"sourceRoot":""}